function Yk(n,e){for(var t=0;t<e.length;t++){const r=e[t];if(typeof r!="string"&&!Array.isArray(r)){for(const s in r)if(s!=="default"&&!(s in n)){const o=Object.getOwnPropertyDescriptor(r,s);o&&Object.defineProperty(n,s,o.get?o:{enumerable:!0,get:()=>r[s]})}}}return Object.freeze(Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const o of s)if(o.type==="childList")for(const l of o.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&r(l)}).observe(document,{childList:!0,subtree:!0});function t(s){const o={};return s.integrity&&(o.integrity=s.integrity),s.referrerPolicy&&(o.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?o.credentials="include":s.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(s){if(s.ep)return;s.ep=!0;const o=t(s);fetch(s.href,o)}})();function OT(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var Eg={exports:{}},Jc={},bg={exports:{}},Xe={};var x0;function Xk(){if(x0)return Xe;x0=1;var n=Symbol.for("react.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),o=Symbol.for("react.provider"),l=Symbol.for("react.context"),u=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),m=Symbol.for("react.memo"),g=Symbol.for("react.lazy"),v=Symbol.iterator;function E(z){return z===null||typeof z!="object"?null:(z=v&&z[v]||z["@@iterator"],typeof z=="function"?z:null)}var b={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},I=Object.assign,T={};function C(z,X,fe){this.props=z,this.context=X,this.refs=T,this.updater=fe||b}C.prototype.isReactComponent={},C.prototype.setState=function(z,X){if(typeof z!="object"&&typeof z!="function"&&z!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,z,X,"setState")},C.prototype.forceUpdate=function(z){this.updater.enqueueForceUpdate(this,z,"forceUpdate")};function M(){}M.prototype=C.prototype;function D(z,X,fe){this.props=z,this.context=X,this.refs=T,this.updater=fe||b}var V=D.prototype=new M;V.constructor=D,I(V,C.prototype),V.isPureReactComponent=!0;var B=Array.isArray,H=Object.prototype.hasOwnProperty,Q={current:null},k={key:!0,ref:!0,__self:!0,__source:!0};function R(z,X,fe){var me,Re={},ke=null,re=null;if(X!=null)for(me in X.ref!==void 0&&(re=X.ref),X.key!==void 0&&(ke=""+X.key),X)H.call(X,me)&&!k.hasOwnProperty(me)&&(Re[me]=X[me]);var Se=arguments.length-2;if(Se===1)Re.children=fe;else if(1<Se){for(var Ve=Array(Se),We=0;We<Se;We++)Ve[We]=arguments[We+2];Re.children=Ve}if(z&&z.defaultProps)for(me in Se=z.defaultProps,Se)Re[me]===void 0&&(Re[me]=Se[me]);return{$$typeof:n,type:z,key:ke,ref:re,props:Re,_owner:Q.current}}function N(z,X){return{$$typeof:n,type:z.type,key:X,ref:z.ref,props:z.props,_owner:z._owner}}function j(z){return typeof z=="object"&&z!==null&&z.$$typeof===n}function L(z){var X={"=":"=0",":":"=2"};return"$"+z.replace(/[=:]/g,function(fe){return X[fe]})}var F=/\/+/g;function O(z,X){return typeof z=="object"&&z!==null&&z.key!=null?L(""+z.key):X.toString(36)}function ne(z,X,fe,me,Re){var ke=typeof z;(ke==="undefined"||ke==="boolean")&&(z=null);var re=!1;if(z===null)re=!0;else switch(ke){case"string":case"number":re=!0;break;case"object":switch(z.$$typeof){case n:case e:re=!0}}if(re)return re=z,Re=Re(re),z=me===""?"."+O(re,0):me,B(Re)?(fe="",z!=null&&(fe=z.replace(F,"$&/")+"/"),ne(Re,X,fe,"",function(We){return We})):Re!=null&&(j(Re)&&(Re=N(Re,fe+(!Re.key||re&&re.key===Re.key?"":(""+Re.key).replace(F,"$&/")+"/")+z)),X.push(Re)),1;if(re=0,me=me===""?".":me+":",B(z))for(var Se=0;Se<z.length;Se++){ke=z[Se];var Ve=me+O(ke,Se);re+=ne(ke,X,fe,Ve,Re)}else if(Ve=E(z),typeof Ve=="function")for(z=Ve.call(z),Se=0;!(ke=z.next()).done;)ke=ke.value,Ve=me+O(ke,Se++),re+=ne(ke,X,fe,Ve,Re);else if(ke==="object")throw X=String(z),Error("Objects are not valid as a React child (found: "+(X==="[object Object]"?"object with keys {"+Object.keys(z).join(", ")+"}":X)+"). If you meant to render a collection of children, use an array instead.");return re}function Ee(z,X,fe){if(z==null)return z;var me=[],Re=0;return ne(z,me,"","",function(ke){return X.call(fe,ke,Re++)}),me}function de(z){if(z._status===-1){var X=z._result;X=X(),X.then(function(fe){(z._status===0||z._status===-1)&&(z._status=1,z._result=fe)},function(fe){(z._status===0||z._status===-1)&&(z._status=2,z._result=fe)}),z._status===-1&&(z._status=0,z._result=X)}if(z._status===1)return z._result.default;throw z._result}var ye={current:null},Z={transition:null},q={ReactCurrentDispatcher:ye,ReactCurrentBatchConfig:Z,ReactCurrentOwner:Q};function ie(){throw Error("act(...) is not supported in production builds of React.")}return Xe.Children={map:Ee,forEach:function(z,X,fe){Ee(z,function(){X.apply(this,arguments)},fe)},count:function(z){var X=0;return Ee(z,function(){X++}),X},toArray:function(z){return Ee(z,function(X){return X})||[]},only:function(z){if(!j(z))throw Error("React.Children.only expected to receive a single React element child.");return z}},Xe.Component=C,Xe.Fragment=t,Xe.Profiler=s,Xe.PureComponent=D,Xe.StrictMode=r,Xe.Suspense=f,Xe.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=q,Xe.act=ie,Xe.cloneElement=function(z,X,fe){if(z==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+z+".");var me=I({},z.props),Re=z.key,ke=z.ref,re=z._owner;if(X!=null){if(X.ref!==void 0&&(ke=X.ref,re=Q.current),X.key!==void 0&&(Re=""+X.key),z.type&&z.type.defaultProps)var Se=z.type.defaultProps;for(Ve in X)H.call(X,Ve)&&!k.hasOwnProperty(Ve)&&(me[Ve]=X[Ve]===void 0&&Se!==void 0?Se[Ve]:X[Ve])}var Ve=arguments.length-2;if(Ve===1)me.children=fe;else if(1<Ve){Se=Array(Ve);for(var We=0;We<Ve;We++)Se[We]=arguments[We+2];me.children=Se}return{$$typeof:n,type:z.type,key:Re,ref:ke,props:me,_owner:re}},Xe.createContext=function(z){return z={$$typeof:l,_currentValue:z,_currentValue2:z,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},z.Provider={$$typeof:o,_context:z},z.Consumer=z},Xe.createElement=R,Xe.createFactory=function(z){var X=R.bind(null,z);return X.type=z,X},Xe.createRef=function(){return{current:null}},Xe.forwardRef=function(z){return{$$typeof:u,render:z}},Xe.isValidElement=j,Xe.lazy=function(z){return{$$typeof:g,_payload:{_status:-1,_result:z},_init:de}},Xe.memo=function(z,X){return{$$typeof:m,type:z,compare:X===void 0?null:X}},Xe.startTransition=function(z){var X=Z.transition;Z.transition={};try{z()}finally{Z.transition=X}},Xe.unstable_act=ie,Xe.useCallback=function(z,X){return ye.current.useCallback(z,X)},Xe.useContext=function(z){return ye.current.useContext(z)},Xe.useDebugValue=function(){},Xe.useDeferredValue=function(z){return ye.current.useDeferredValue(z)},Xe.useEffect=function(z,X){return ye.current.useEffect(z,X)},Xe.useId=function(){return ye.current.useId()},Xe.useImperativeHandle=function(z,X,fe){return ye.current.useImperativeHandle(z,X,fe)},Xe.useInsertionEffect=function(z,X){return ye.current.useInsertionEffect(z,X)},Xe.useLayoutEffect=function(z,X){return ye.current.useLayoutEffect(z,X)},Xe.useMemo=function(z,X){return ye.current.useMemo(z,X)},Xe.useReducer=function(z,X,fe){return ye.current.useReducer(z,X,fe)},Xe.useRef=function(z){return ye.current.useRef(z)},Xe.useState=function(z){return ye.current.useState(z)},Xe.useSyncExternalStore=function(z,X,fe){return ye.current.useSyncExternalStore(z,X,fe)},Xe.useTransition=function(){return ye.current.useTransition()},Xe.version="18.3.1",Xe}var E0;function rp(){return E0||(E0=1,bg.exports=Xk()),bg.exports}var b0;function Jk(){if(b0)return Jc;b0=1;var n=rp(),e=Symbol.for("react.element"),t=Symbol.for("react.fragment"),r=Object.prototype.hasOwnProperty,s=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,o={key:!0,ref:!0,__self:!0,__source:!0};function l(u,f,m){var g,v={},E=null,b=null;m!==void 0&&(E=""+m),f.key!==void 0&&(E=""+f.key),f.ref!==void 0&&(b=f.ref);for(g in f)r.call(f,g)&&!o.hasOwnProperty(g)&&(v[g]=f[g]);if(u&&u.defaultProps)for(g in f=u.defaultProps,f)v[g]===void 0&&(v[g]=f[g]);return{$$typeof:e,type:u,key:E,ref:b,props:v,_owner:s.current}}return Jc.Fragment=t,Jc.jsx=l,Jc.jsxs=l,Jc}var T0;function Zk(){return T0||(T0=1,Eg.exports=Jk()),Eg.exports}var d=Zk(),kh={},Tg={exports:{}},qn={},Sg={exports:{}},Cg={};var S0;function eP(){return S0||(S0=1,(function(n){function e(Z,q){var ie=Z.length;Z.push(q);e:for(;0<ie;){var z=ie-1>>>1,X=Z[z];if(0<s(X,q))Z[z]=q,Z[ie]=X,ie=z;else break e}}function t(Z){return Z.length===0?null:Z[0]}function r(Z){if(Z.length===0)return null;var q=Z[0],ie=Z.pop();if(ie!==q){Z[0]=ie;e:for(var z=0,X=Z.length,fe=X>>>1;z<fe;){var me=2*(z+1)-1,Re=Z[me],ke=me+1,re=Z[ke];if(0>s(Re,ie))ke<X&&0>s(re,Re)?(Z[z]=re,Z[ke]=ie,z=ke):(Z[z]=Re,Z[me]=ie,z=me);else if(ke<X&&0>s(re,ie))Z[z]=re,Z[ke]=ie,z=ke;else break e}}return q}function s(Z,q){var ie=Z.sortIndex-q.sortIndex;return ie!==0?ie:Z.id-q.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;n.unstable_now=function(){return o.now()}}else{var l=Date,u=l.now();n.unstable_now=function(){return l.now()-u}}var f=[],m=[],g=1,v=null,E=3,b=!1,I=!1,T=!1,C=typeof setTimeout=="function"?setTimeout:null,M=typeof clearTimeout=="function"?clearTimeout:null,D=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function V(Z){for(var q=t(m);q!==null;){if(q.callback===null)r(m);else if(q.startTime<=Z)r(m),q.sortIndex=q.expirationTime,e(f,q);else break;q=t(m)}}function B(Z){if(T=!1,V(Z),!I)if(t(f)!==null)I=!0,de(H);else{var q=t(m);q!==null&&ye(B,q.startTime-Z)}}function H(Z,q){I=!1,T&&(T=!1,M(R),R=-1),b=!0;var ie=E;try{for(V(q),v=t(f);v!==null&&(!(v.expirationTime>q)||Z&&!L());){var z=v.callback;if(typeof z=="function"){v.callback=null,E=v.priorityLevel;var X=z(v.expirationTime<=q);q=n.unstable_now(),typeof X=="function"?v.callback=X:v===t(f)&&r(f),V(q)}else r(f);v=t(f)}if(v!==null)var fe=!0;else{var me=t(m);me!==null&&ye(B,me.startTime-q),fe=!1}return fe}finally{v=null,E=ie,b=!1}}var Q=!1,k=null,R=-1,N=5,j=-1;function L(){return!(n.unstable_now()-j<N)}function F(){if(k!==null){var Z=n.unstable_now();j=Z;var q=!0;try{q=k(!0,Z)}finally{q?O():(Q=!1,k=null)}}else Q=!1}var O;if(typeof D=="function")O=function(){D(F)};else if(typeof MessageChannel<"u"){var ne=new MessageChannel,Ee=ne.port2;ne.port1.onmessage=F,O=function(){Ee.postMessage(null)}}else O=function(){C(F,0)};function de(Z){k=Z,Q||(Q=!0,O())}function ye(Z,q){R=C(function(){Z(n.unstable_now())},q)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(Z){Z.callback=null},n.unstable_continueExecution=function(){I||b||(I=!0,de(H))},n.unstable_forceFrameRate=function(Z){0>Z||125<Z?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):N=0<Z?Math.floor(1e3/Z):5},n.unstable_getCurrentPriorityLevel=function(){return E},n.unstable_getFirstCallbackNode=function(){return t(f)},n.unstable_next=function(Z){switch(E){case 1:case 2:case 3:var q=3;break;default:q=E}var ie=E;E=q;try{return Z()}finally{E=ie}},n.unstable_pauseExecution=function(){},n.unstable_requestPaint=function(){},n.unstable_runWithPriority=function(Z,q){switch(Z){case 1:case 2:case 3:case 4:case 5:break;default:Z=3}var ie=E;E=Z;try{return q()}finally{E=ie}},n.unstable_scheduleCallback=function(Z,q,ie){var z=n.unstable_now();switch(typeof ie=="object"&&ie!==null?(ie=ie.delay,ie=typeof ie=="number"&&0<ie?z+ie:z):ie=z,Z){case 1:var X=-1;break;case 2:X=250;break;case 5:X=1073741823;break;case 4:X=1e4;break;default:X=5e3}return X=ie+X,Z={id:g++,callback:q,priorityLevel:Z,startTime:ie,expirationTime:X,sortIndex:-1},ie>z?(Z.sortIndex=ie,e(m,Z),t(f)===null&&Z===t(m)&&(T?(M(R),R=-1):T=!0,ye(B,ie-z))):(Z.sortIndex=X,e(f,Z),I||b||(I=!0,de(H))),Z},n.unstable_shouldYield=L,n.unstable_wrapCallback=function(Z){var q=E;return function(){var ie=E;E=q;try{return Z.apply(this,arguments)}finally{E=ie}}}})(Cg)),Cg}var C0;function tP(){return C0||(C0=1,Sg.exports=eP()),Sg.exports}var I0;function nP(){if(I0)return qn;I0=1;var n=rp(),e=tP();function t(i){for(var a="https://reactjs.org/docs/error-decoder.html?invariant="+i,c=1;c<arguments.length;c++)a+="&args[]="+encodeURIComponent(arguments[c]);return"Minified React error #"+i+"; visit "+a+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var r=new Set,s={};function o(i,a){l(i,a),l(i+"Capture",a)}function l(i,a){for(s[i]=a,i=0;i<a.length;i++)r.add(a[i])}var u=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),f=Object.prototype.hasOwnProperty,m=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,g={},v={};function E(i){return f.call(v,i)?!0:f.call(g,i)?!1:m.test(i)?v[i]=!0:(g[i]=!0,!1)}function b(i,a,c,p){if(c!==null&&c.type===0)return!1;switch(typeof a){case"function":case"symbol":return!0;case"boolean":return p?!1:c!==null?!c.acceptsBooleans:(i=i.toLowerCase().slice(0,5),i!=="data-"&&i!=="aria-");default:return!1}}function I(i,a,c,p){if(a===null||typeof a>"u"||b(i,a,c,p))return!0;if(p)return!1;if(c!==null)switch(c.type){case 3:return!a;case 4:return a===!1;case 5:return isNaN(a);case 6:return isNaN(a)||1>a}return!1}function T(i,a,c,p,y,_,A){this.acceptsBooleans=a===2||a===3||a===4,this.attributeName=p,this.attributeNamespace=y,this.mustUseProperty=c,this.propertyName=i,this.type=a,this.sanitizeURL=_,this.removeEmptyString=A}var C={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(i){C[i]=new T(i,0,!1,i,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(i){var a=i[0];C[a]=new T(a,1,!1,i[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(i){C[i]=new T(i,2,!1,i.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(i){C[i]=new T(i,2,!1,i,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(i){C[i]=new T(i,3,!1,i.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(i){C[i]=new T(i,3,!0,i,null,!1,!1)}),["capture","download"].forEach(function(i){C[i]=new T(i,4,!1,i,null,!1,!1)}),["cols","rows","size","span"].forEach(function(i){C[i]=new T(i,6,!1,i,null,!1,!1)}),["rowSpan","start"].forEach(function(i){C[i]=new T(i,5,!1,i.toLowerCase(),null,!1,!1)});var M=/[\-:]([a-z])/g;function D(i){return i[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(i){var a=i.replace(M,D);C[a]=new T(a,1,!1,i,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(i){var a=i.replace(M,D);C[a]=new T(a,1,!1,i,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(i){var a=i.replace(M,D);C[a]=new T(a,1,!1,i,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(i){C[i]=new T(i,1,!1,i.toLowerCase(),null,!1,!1)}),C.xlinkHref=new T("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(i){C[i]=new T(i,1,!1,i.toLowerCase(),null,!0,!0)});function V(i,a,c,p){var y=C.hasOwnProperty(a)?C[a]:null;(y!==null?y.type!==0:p||!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(I(a,c,y,p)&&(c=null),p||y===null?E(a)&&(c===null?i.removeAttribute(a):i.setAttribute(a,""+c)):y.mustUseProperty?i[y.propertyName]=c===null?y.type===3?!1:"":c:(a=y.attributeName,p=y.attributeNamespace,c===null?i.removeAttribute(a):(y=y.type,c=y===3||y===4&&c===!0?"":""+c,p?i.setAttributeNS(p,a,c):i.setAttribute(a,c))))}var B=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,H=Symbol.for("react.element"),Q=Symbol.for("react.portal"),k=Symbol.for("react.fragment"),R=Symbol.for("react.strict_mode"),N=Symbol.for("react.profiler"),j=Symbol.for("react.provider"),L=Symbol.for("react.context"),F=Symbol.for("react.forward_ref"),O=Symbol.for("react.suspense"),ne=Symbol.for("react.suspense_list"),Ee=Symbol.for("react.memo"),de=Symbol.for("react.lazy"),ye=Symbol.for("react.offscreen"),Z=Symbol.iterator;function q(i){return i===null||typeof i!="object"?null:(i=Z&&i[Z]||i["@@iterator"],typeof i=="function"?i:null)}var ie=Object.assign,z;function X(i){if(z===void 0)try{throw Error()}catch(c){var a=c.stack.trim().match(/\n( *(at )?)/);z=a&&a[1]||""}return`
`+z+i}var fe=!1;function me(i,a){if(!i||fe)return"";fe=!0;var c=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(a)if(a=function(){throw Error()},Object.defineProperty(a.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(a,[])}catch(J){var p=J}Reflect.construct(i,[],a)}else{try{a.call()}catch(J){p=J}i.call(a.prototype)}else{try{throw Error()}catch(J){p=J}i()}}catch(J){if(J&&p&&typeof J.stack=="string"){for(var y=J.stack.split(`
`),_=p.stack.split(`
`),A=y.length-1,U=_.length-1;1<=A&&0<=U&&y[A]!==_[U];)U--;for(;1<=A&&0<=U;A--,U--)if(y[A]!==_[U]){if(A!==1||U!==1)do if(A--,U--,0>U||y[A]!==_[U]){var $=`
`+y[A].replace(" at new "," at ");return i.displayName&&$.includes("<anonymous>")&&($=$.replace("<anonymous>",i.displayName)),$}while(1<=A&&0<=U);break}}}finally{fe=!1,Error.prepareStackTrace=c}return(i=i?i.displayName||i.name:"")?X(i):""}function Re(i){switch(i.tag){case 5:return X(i.type);case 16:return X("Lazy");case 13:return X("Suspense");case 19:return X("SuspenseList");case 0:case 2:case 15:return i=me(i.type,!1),i;case 11:return i=me(i.type.render,!1),i;case 1:return i=me(i.type,!0),i;default:return""}}function ke(i){if(i==null)return null;if(typeof i=="function")return i.displayName||i.name||null;if(typeof i=="string")return i;switch(i){case k:return"Fragment";case Q:return"Portal";case N:return"Profiler";case R:return"StrictMode";case O:return"Suspense";case ne:return"SuspenseList"}if(typeof i=="object")switch(i.$$typeof){case L:return(i.displayName||"Context")+".Consumer";case j:return(i._context.displayName||"Context")+".Provider";case F:var a=i.render;return i=i.displayName,i||(i=a.displayName||a.name||"",i=i!==""?"ForwardRef("+i+")":"ForwardRef"),i;case Ee:return a=i.displayName||null,a!==null?a:ke(i.type)||"Memo";case de:a=i._payload,i=i._init;try{return ke(i(a))}catch{}}return null}function re(i){var a=i.type;switch(i.tag){case 24:return"Cache";case 9:return(a.displayName||"Context")+".Consumer";case 10:return(a._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return i=a.render,i=i.displayName||i.name||"",a.displayName||(i!==""?"ForwardRef("+i+")":"ForwardRef");case 7:return"Fragment";case 5:return a;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return ke(a);case 8:return a===R?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof a=="function")return a.displayName||a.name||null;if(typeof a=="string")return a}return null}function Se(i){switch(typeof i){case"boolean":case"number":case"string":case"undefined":return i;case"object":return i;default:return""}}function Ve(i){var a=i.type;return(i=i.nodeName)&&i.toLowerCase()==="input"&&(a==="checkbox"||a==="radio")}function We(i){var a=Ve(i)?"checked":"value",c=Object.getOwnPropertyDescriptor(i.constructor.prototype,a),p=""+i[a];if(!i.hasOwnProperty(a)&&typeof c<"u"&&typeof c.get=="function"&&typeof c.set=="function"){var y=c.get,_=c.set;return Object.defineProperty(i,a,{configurable:!0,get:function(){return y.call(this)},set:function(A){p=""+A,_.call(this,A)}}),Object.defineProperty(i,a,{enumerable:c.enumerable}),{getValue:function(){return p},setValue:function(A){p=""+A},stopTracking:function(){i._valueTracker=null,delete i[a]}}}}function Ze(i){i._valueTracker||(i._valueTracker=We(i))}function pt(i){if(!i)return!1;var a=i._valueTracker;if(!a)return!0;var c=a.getValue(),p="";return i&&(p=Ve(i)?i.checked?"true":"false":i.value),i=p,i!==c?(a.setValue(i),!0):!1}function Rt(i){if(i=i||(typeof document<"u"?document:void 0),typeof i>"u")return null;try{return i.activeElement||i.body}catch{return i.body}}function xn(i,a){var c=a.checked;return ie({},a,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:c??i._wrapperState.initialChecked})}function rs(i,a){var c=a.defaultValue==null?"":a.defaultValue,p=a.checked!=null?a.checked:a.defaultChecked;c=Se(a.value!=null?a.value:c),i._wrapperState={initialChecked:p,initialValue:c,controlled:a.type==="checkbox"||a.type==="radio"?a.checked!=null:a.value!=null}}function Jn(i,a){a=a.checked,a!=null&&V(i,"checked",a,!1)}function Zn(i,a){Jn(i,a);var c=Se(a.value),p=a.type;if(c!=null)p==="number"?(c===0&&i.value===""||i.value!=c)&&(i.value=""+c):i.value!==""+c&&(i.value=""+c);else if(p==="submit"||p==="reset"){i.removeAttribute("value");return}a.hasOwnProperty("value")?Mt(i,a.type,c):a.hasOwnProperty("defaultValue")&&Mt(i,a.type,Se(a.defaultValue)),a.checked==null&&a.defaultChecked!=null&&(i.defaultChecked=!!a.defaultChecked)}function qs(i,a,c){if(a.hasOwnProperty("value")||a.hasOwnProperty("defaultValue")){var p=a.type;if(!(p!=="submit"&&p!=="reset"||a.value!==void 0&&a.value!==null))return;a=""+i._wrapperState.initialValue,c||a===i.value||(i.value=a),i.defaultValue=a}c=i.name,c!==""&&(i.name=""),i.defaultChecked=!!i._wrapperState.initialChecked,c!==""&&(i.name=c)}function Mt(i,a,c){(a!=="number"||Rt(i.ownerDocument)!==i)&&(c==null?i.defaultValue=""+i._wrapperState.initialValue:i.defaultValue!==""+c&&(i.defaultValue=""+c))}var Nt=Array.isArray;function dn(i,a,c,p){if(i=i.options,a){a={};for(var y=0;y<c.length;y++)a["$"+c[y]]=!0;for(c=0;c<i.length;c++)y=a.hasOwnProperty("$"+i[c].value),i[c].selected!==y&&(i[c].selected=y),y&&p&&(i[c].defaultSelected=!0)}else{for(c=""+Se(c),a=null,y=0;y<i.length;y++){if(i[y].value===c){i[y].selected=!0,p&&(i[y].defaultSelected=!0);return}a!==null||i[y].disabled||(a=i[y])}a!==null&&(a.selected=!0)}}function Si(i,a){if(a.dangerouslySetInnerHTML!=null)throw Error(t(91));return ie({},a,{value:void 0,defaultValue:void 0,children:""+i._wrapperState.initialValue})}function er(i,a){var c=a.value;if(c==null){if(c=a.children,a=a.defaultValue,c!=null){if(a!=null)throw Error(t(92));if(Nt(c)){if(1<c.length)throw Error(t(93));c=c[0]}a=c}a==null&&(a=""),c=a}i._wrapperState={initialValue:Se(c)}}function La(i,a){var c=Se(a.value),p=Se(a.defaultValue);c!=null&&(c=""+c,c!==i.value&&(i.value=c),a.defaultValue==null&&i.defaultValue!==c&&(i.defaultValue=c)),p!=null&&(i.defaultValue=""+p)}function ss(i){var a=i.textContent;a===i._wrapperState.initialValue&&a!==""&&a!==null&&(i.value=a)}function tn(i){switch(i){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function tr(i,a){return i==null||i==="http://www.w3.org/1999/xhtml"?tn(a):i==="http://www.w3.org/2000/svg"&&a==="foreignObject"?"http://www.w3.org/1999/xhtml":i}var is,Va=(function(i){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(a,c,p,y){MSApp.execUnsafeLocalFunction(function(){return i(a,c,p,y)})}:i})(function(i,a){if(i.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in i)i.innerHTML=a;else{for(is=is||document.createElement("div"),is.innerHTML="<svg>"+a.valueOf().toString()+"</svg>",a=is.firstChild;i.firstChild;)i.removeChild(i.firstChild);for(;a.firstChild;)i.appendChild(a.firstChild)}});function wr(i,a){if(a){var c=i.firstChild;if(c&&c===i.lastChild&&c.nodeType===3){c.nodeValue=a;return}}i.textContent=a}var os={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Oo=["Webkit","ms","Moz","O"];Object.keys(os).forEach(function(i){Oo.forEach(function(a){a=a+i.charAt(0).toUpperCase()+i.substring(1),os[a]=os[i]})});function xr(i,a,c){return a==null||typeof a=="boolean"||a===""?"":c||typeof a!="number"||a===0||os.hasOwnProperty(i)&&os[i]?(""+a).trim():a+"px"}function nr(i,a){i=i.style;for(var c in a)if(a.hasOwnProperty(c)){var p=c.indexOf("--")===0,y=xr(c,a[c],p);c==="float"&&(c="cssFloat"),p?i.setProperty(c,y):i[c]=y}}var Ci=ie({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function nn(i,a){if(a){if(Ci[i]&&(a.children!=null||a.dangerouslySetInnerHTML!=null))throw Error(t(137,i));if(a.dangerouslySetInnerHTML!=null){if(a.children!=null)throw Error(t(60));if(typeof a.dangerouslySetInnerHTML!="object"||!("__html"in a.dangerouslySetInnerHTML))throw Error(t(61))}if(a.style!=null&&typeof a.style!="object")throw Error(t(62))}}function Ii(i,a){if(i.indexOf("-")===-1)return typeof a.is=="string";switch(i){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var as=null;function Gs(i){return i=i.target||i.srcElement||window,i.correspondingUseElement&&(i=i.correspondingUseElement),i.nodeType===3?i.parentNode:i}var Er=null,Mr=null,xt=null;function Un(i){if(i=Lc(i)){if(typeof Er!="function")throw Error(t(280));var a=i.stateNode;a&&(a=qd(a),Er(i.stateNode,i.type,a))}}function ls(i){Mr?xt?xt.push(i):xt=[i]:Mr=i}function Oe(){if(Mr){var i=Mr,a=xt;if(xt=Mr=null,Un(i),a)for(i=0;i<a.length;i++)Un(a[i])}}function at(i,a){return i(a)}function mt(){}var Lt=!1;function En(i,a,c){if(Lt)return i(a,c);Lt=!0;try{return at(i,a,c)}finally{Lt=!1,(Mr!==null||xt!==null)&&(mt(),Oe())}}function bn(i,a){var c=i.stateNode;if(c===null)return null;var p=qd(c);if(p===null)return null;c=p[a];e:switch(a){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(p=!p.disabled)||(i=i.type,p=!(i==="button"||i==="input"||i==="select"||i==="textarea")),i=!p;break e;default:i=!1}if(i)return null;if(c&&typeof c!="function")throw Error(t(231,a,typeof c));return c}var Tn=!1;if(u)try{var zt={};Object.defineProperty(zt,"passive",{get:function(){Tn=!0}}),window.addEventListener("test",zt,zt),window.removeEventListener("test",zt,zt)}catch{Tn=!1}function rr(i,a,c,p,y,_,A,U,$){var J=Array.prototype.slice.call(arguments,3);try{a.apply(c,J)}catch(ae){this.onError(ae)}}var Ks=!1,cs=null,Fa=!1,br=null,Td={onError:function(i){Ks=!0,cs=i}};function Sd(i,a,c,p,y,_,A,U,$){Ks=!1,cs=null,rr.apply(Td,arguments)}function dc(i,a,c,p,y,_,A,U,$){if(Sd.apply(this,arguments),Ks){if(Ks){var J=cs;Ks=!1,cs=null}else throw Error(t(198));Fa||(Fa=!0,br=J)}}function Lr(i){var a=i,c=i;if(i.alternate)for(;a.return;)a=a.return;else{i=a;do a=i,(a.flags&4098)!==0&&(c=a.return),i=a.return;while(i)}return a.tag===3?c:null}function hc(i){if(i.tag===13){var a=i.memoizedState;if(a===null&&(i=i.alternate,i!==null&&(a=i.memoizedState)),a!==null)return a.dehydrated}return null}function Cd(i){if(Lr(i)!==i)throw Error(t(188))}function Id(i){var a=i.alternate;if(!a){if(a=Lr(i),a===null)throw Error(t(188));return a!==i?null:i}for(var c=i,p=a;;){var y=c.return;if(y===null)break;var _=y.alternate;if(_===null){if(p=y.return,p!==null){c=p;continue}break}if(y.child===_.child){for(_=y.child;_;){if(_===c)return Cd(y),i;if(_===p)return Cd(y),a;_=_.sibling}throw Error(t(188))}if(c.return!==p.return)c=y,p=_;else{for(var A=!1,U=y.child;U;){if(U===c){A=!0,c=y,p=_;break}if(U===p){A=!0,p=y,c=_;break}U=U.sibling}if(!A){for(U=_.child;U;){if(U===c){A=!0,c=_,p=y;break}if(U===p){A=!0,p=_,c=y;break}U=U.sibling}if(!A)throw Error(t(189))}}if(c.alternate!==p)throw Error(t(190))}if(c.tag!==3)throw Error(t(188));return c.stateNode.current===c?i:a}function Rd(i){return i=Id(i),i!==null?Mo(i):null}function Mo(i){if(i.tag===5||i.tag===6)return i;for(i=i.child;i!==null;){var a=Mo(i);if(a!==null)return a;i=i.sibling}return null}var fc=e.unstable_scheduleCallback,Ua=e.unstable_cancelCallback,Lo=e.unstable_shouldYield,Qs=e.unstable_requestPaint,bt=e.unstable_now,Zp=e.unstable_getCurrentPriorityLevel,$a=e.unstable_ImmediatePriority,pc=e.unstable_UserBlockingPriority,Vo=e.unstable_NormalPriority,mc=e.unstable_LowPriority,Ba=e.unstable_IdlePriority,Fo=null,sr=null;function Nd(i){if(sr&&typeof sr.onCommitFiberRoot=="function")try{sr.onCommitFiberRoot(Fo,i,void 0,(i.current.flags&128)===128)}catch{}}var ir=Math.clz32?Math.clz32:Uo,us=Math.log,Tr=Math.LN2;function Uo(i){return i>>>=0,i===0?32:31-(us(i)/Tr|0)|0}var ds=64,Ri=4194304;function ft(i){switch(i&-i){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return i&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return i}}function Ys(i,a){var c=i.pendingLanes;if(c===0)return 0;var p=0,y=i.suspendedLanes,_=i.pingedLanes,A=c&268435455;if(A!==0){var U=A&~y;U!==0?p=ft(U):(_&=A,_!==0&&(p=ft(_)))}else A=c&~y,A!==0?p=ft(A):_!==0&&(p=ft(_));if(p===0)return 0;if(a!==0&&a!==p&&(a&y)===0&&(y=p&-p,_=a&-a,y>=_||y===16&&(_&4194240)!==0))return a;if((p&4)!==0&&(p|=c&16),a=i.entangledLanes,a!==0)for(i=i.entanglements,a&=p;0<a;)c=31-ir(a),y=1<<c,p|=i[c],a&=~y;return p}function $o(i,a){switch(i){case 1:case 2:case 4:return a+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return a+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Bo(i,a){for(var c=i.suspendedLanes,p=i.pingedLanes,y=i.expirationTimes,_=i.pendingLanes;0<_;){var A=31-ir(_),U=1<<A,$=y[A];$===-1?((U&c)===0||(U&p)!==0)&&(y[A]=$o(U,a)):$<=a&&(i.expiredLanes|=U),_&=~U}}function gc(i){return i=i.pendingLanes&-1073741825,i!==0?i:i&1073741824?1073741824:0}function yc(){var i=ds;return ds<<=1,(ds&4194240)===0&&(ds=64),i}function vc(i){for(var a=[],c=0;31>c;c++)a.push(i);return a}function zo(i,a,c){i.pendingLanes|=a,a!==536870912&&(i.suspendedLanes=0,i.pingedLanes=0),i=i.eventTimes,a=31-ir(a),i[a]=c}function em(i,a){var c=i.pendingLanes&~a;i.pendingLanes=a,i.suspendedLanes=0,i.pingedLanes=0,i.expiredLanes&=a,i.mutableReadLanes&=a,i.entangledLanes&=a,a=i.entanglements;var p=i.eventTimes;for(i=i.expirationTimes;0<c;){var y=31-ir(c),_=1<<y;a[y]=0,p[y]=-1,i[y]=-1,c&=~_}}function _c(i,a){var c=i.entangledLanes|=a;for(i=i.entanglements;c;){var p=31-ir(c),y=1<<p;y&a|i[p]&a&&(i[p]|=a),c&=~y}}var rt=0;function hs(i){return i&=-i,1<i?4<i?(i&268435455)!==0?16:536870912:4:1}var wc,za,xc,Ec,bc,fs=!1,Wa=[],ps=null,ms=null,hn=null,Wo=new Map,Xs=new Map,or=[],Ad="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Ni(i,a){switch(i){case"focusin":case"focusout":ps=null;break;case"dragenter":case"dragleave":ms=null;break;case"mouseover":case"mouseout":hn=null;break;case"pointerover":case"pointerout":Wo.delete(a.pointerId);break;case"gotpointercapture":case"lostpointercapture":Xs.delete(a.pointerId)}}function Vr(i,a,c,p,y,_){return i===null||i.nativeEvent!==_?(i={blockedOn:a,domEventName:c,eventSystemFlags:p,nativeEvent:_,targetContainers:[y]},a!==null&&(a=Lc(a),a!==null&&za(a)),i):(i.eventSystemFlags|=p,a=i.targetContainers,y!==null&&a.indexOf(y)===-1&&a.push(y),i)}function kd(i,a,c,p,y){switch(a){case"focusin":return ps=Vr(ps,i,a,c,p,y),!0;case"dragenter":return ms=Vr(ms,i,a,c,p,y),!0;case"mouseover":return hn=Vr(hn,i,a,c,p,y),!0;case"pointerover":var _=y.pointerId;return Wo.set(_,Vr(Wo.get(_)||null,i,a,c,p,y)),!0;case"gotpointercapture":return _=y.pointerId,Xs.set(_,Vr(Xs.get(_)||null,i,a,c,p,y)),!0}return!1}function Ha(i){var a=Ko(i.target);if(a!==null){var c=Lr(a);if(c!==null){if(a=c.tag,a===13){if(a=hc(c),a!==null){i.blockedOn=a,bc(i.priority,function(){xc(c)});return}}else if(a===3&&c.stateNode.current.memoizedState.isDehydrated){i.blockedOn=c.tag===3?c.stateNode.containerInfo:null;return}}}i.blockedOn=null}function _t(i){if(i.blockedOn!==null)return!1;for(var a=i.targetContainers;0<a.length;){var c=qa(i.domEventName,i.eventSystemFlags,a[0],i.nativeEvent);if(c===null){c=i.nativeEvent;var p=new c.constructor(c.type,c);as=p,c.target.dispatchEvent(p),as=null}else return a=Lc(c),a!==null&&za(a),i.blockedOn=c,!1;a.shift()}return!0}function Pd(i,a,c){_t(i)&&c.delete(a)}function tm(){fs=!1,ps!==null&&_t(ps)&&(ps=null),ms!==null&&_t(ms)&&(ms=null),hn!==null&&_t(hn)&&(hn=null),Wo.forEach(Pd),Xs.forEach(Pd)}function Ai(i,a){i.blockedOn===a&&(i.blockedOn=null,fs||(fs=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,tm)))}function ki(i){function a(y){return Ai(y,i)}if(0<Wa.length){Ai(Wa[0],i);for(var c=1;c<Wa.length;c++){var p=Wa[c];p.blockedOn===i&&(p.blockedOn=null)}}for(ps!==null&&Ai(ps,i),ms!==null&&Ai(ms,i),hn!==null&&Ai(hn,i),Wo.forEach(a),Xs.forEach(a),c=0;c<or.length;c++)p=or[c],p.blockedOn===i&&(p.blockedOn=null);for(;0<or.length&&(c=or[0],c.blockedOn===null);)Ha(c),c.blockedOn===null&&or.shift()}var Js=B.ReactCurrentBatchConfig,Zs=!0;function gs(i,a,c,p){var y=rt,_=Js.transition;Js.transition=null;try{rt=1,Tc(i,a,c,p)}finally{rt=y,Js.transition=_}}function jd(i,a,c,p){var y=rt,_=Js.transition;Js.transition=null;try{rt=4,Tc(i,a,c,p)}finally{rt=y,Js.transition=_}}function Tc(i,a,c,p){if(Zs){var y=qa(i,a,c,p);if(y===null)hm(i,a,p,ys,c),Ni(i,p);else if(kd(y,i,a,c,p))p.stopPropagation();else if(Ni(i,p),a&4&&-1<Ad.indexOf(i)){for(;y!==null;){var _=Lc(y);if(_!==null&&wc(_),_=qa(i,a,c,p),_===null&&hm(i,a,p,ys,c),_===y)break;y=_}y!==null&&p.stopPropagation()}else hm(i,a,p,null,c)}}var ys=null;function qa(i,a,c,p){if(ys=null,i=Gs(p),i=Ko(i),i!==null)if(a=Lr(i),a===null)i=null;else if(c=a.tag,c===13){if(i=hc(a),i!==null)return i;i=null}else if(c===3){if(a.stateNode.current.memoizedState.isDehydrated)return a.tag===3?a.stateNode.containerInfo:null;i=null}else a!==i&&(i=null);return ys=i,null}function Ga(i){switch(i){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Zp()){case $a:return 1;case pc:return 4;case Vo:case mc:return 16;case Ba:return 536870912;default:return 16}default:return 16}}var ar=null,Ka=null,ei=null;function Dd(){if(ei)return ei;var i,a=Ka,c=a.length,p,y="value"in ar?ar.value:ar.textContent,_=y.length;for(i=0;i<c&&a[i]===y[i];i++);var A=c-i;for(p=1;p<=A&&a[c-p]===y[_-p];p++);return ei=y.slice(i,1<p?1-p:void 0)}function Ho(i){var a=i.keyCode;return"charCode"in i?(i=i.charCode,i===0&&a===13&&(i=13)):i=a,i===10&&(i=13),32<=i||i===13?i:0}function vs(){return!0}function Sc(){return!1}function Sn(i){function a(c,p,y,_,A){this._reactName=c,this._targetInst=y,this.type=p,this.nativeEvent=_,this.target=A,this.currentTarget=null;for(var U in i)i.hasOwnProperty(U)&&(c=i[U],this[U]=c?c(_):_[U]);return this.isDefaultPrevented=(_.defaultPrevented!=null?_.defaultPrevented:_.returnValue===!1)?vs:Sc,this.isPropagationStopped=Sc,this}return ie(a.prototype,{preventDefault:function(){this.defaultPrevented=!0;var c=this.nativeEvent;c&&(c.preventDefault?c.preventDefault():typeof c.returnValue!="unknown"&&(c.returnValue=!1),this.isDefaultPrevented=vs)},stopPropagation:function(){var c=this.nativeEvent;c&&(c.stopPropagation?c.stopPropagation():typeof c.cancelBubble!="unknown"&&(c.cancelBubble=!0),this.isPropagationStopped=vs)},persist:function(){},isPersistent:vs}),a}var _s={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(i){return i.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},qo=Sn(_s),Pi=ie({},_s,{view:0,detail:0}),Qa=Sn(Pi),Ya,Xa,lr,Go=ie({},Pi,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ge,button:0,buttons:0,relatedTarget:function(i){return i.relatedTarget===void 0?i.fromElement===i.srcElement?i.toElement:i.fromElement:i.relatedTarget},movementX:function(i){return"movementX"in i?i.movementX:(i!==lr&&(lr&&i.type==="mousemove"?(Ya=i.screenX-lr.screenX,Xa=i.screenY-lr.screenY):Xa=Ya=0,lr=i),Ya)},movementY:function(i){return"movementY"in i?i.movementY:Xa}}),Cc=Sn(Go),Od=ie({},Go,{dataTransfer:0}),Md=Sn(Od),Ja=ie({},Pi,{relatedTarget:0}),fn=Sn(Ja),Ld=ie({},_s,{animationName:0,elapsedTime:0,pseudoElement:0}),Vd=Sn(Ld),ji=ie({},_s,{clipboardData:function(i){return"clipboardData"in i?i.clipboardData:window.clipboardData}}),h=Sn(ji),x=ie({},_s,{data:0}),S=Sn(x),P={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},K={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},ee={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function pe(i){var a=this.nativeEvent;return a.getModifierState?a.getModifierState(i):(i=ee[i])?!!a[i]:!1}function Ge(){return pe}var Ut=ie({},Pi,{key:function(i){if(i.key){var a=P[i.key]||i.key;if(a!=="Unidentified")return a}return i.type==="keypress"?(i=Ho(i),i===13?"Enter":String.fromCharCode(i)):i.type==="keydown"||i.type==="keyup"?K[i.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ge,charCode:function(i){return i.type==="keypress"?Ho(i):0},keyCode:function(i){return i.type==="keydown"||i.type==="keyup"?i.keyCode:0},which:function(i){return i.type==="keypress"?Ho(i):i.type==="keydown"||i.type==="keyup"?i.keyCode:0}}),gt=Sn(Ut),Wt=ie({},Go,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),cr=Sn(Wt),ti=ie({},Pi,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ge}),ws=Sn(ti),xs=ie({},_s,{propertyName:0,elapsedTime:0,pseudoElement:0}),Za=Sn(xs),Ic=ie({},Go,{deltaX:function(i){return"deltaX"in i?i.deltaX:"wheelDeltaX"in i?-i.wheelDeltaX:0},deltaY:function(i){return"deltaY"in i?i.deltaY:"wheelDeltaY"in i?-i.wheelDeltaY:"wheelDelta"in i?-i.wheelDelta:0},deltaZ:0,deltaMode:0}),WA=Sn(Ic),HA=[9,13,27,32],nm=u&&"CompositionEvent"in window,Rc=null;u&&"documentMode"in document&&(Rc=document.documentMode);var qA=u&&"TextEvent"in window&&!Rc,fw=u&&(!nm||Rc&&8<Rc&&11>=Rc),pw=" ",mw=!1;function gw(i,a){switch(i){case"keyup":return HA.indexOf(a.keyCode)!==-1;case"keydown":return a.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function yw(i){return i=i.detail,typeof i=="object"&&"data"in i?i.data:null}var el=!1;function GA(i,a){switch(i){case"compositionend":return yw(a);case"keypress":return a.which!==32?null:(mw=!0,pw);case"textInput":return i=a.data,i===pw&&mw?null:i;default:return null}}function KA(i,a){if(el)return i==="compositionend"||!nm&&gw(i,a)?(i=Dd(),ei=Ka=ar=null,el=!1,i):null;switch(i){case"paste":return null;case"keypress":if(!(a.ctrlKey||a.altKey||a.metaKey)||a.ctrlKey&&a.altKey){if(a.char&&1<a.char.length)return a.char;if(a.which)return String.fromCharCode(a.which)}return null;case"compositionend":return fw&&a.locale!=="ko"?null:a.data;default:return null}}var QA={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function vw(i){var a=i&&i.nodeName&&i.nodeName.toLowerCase();return a==="input"?!!QA[i.type]:a==="textarea"}function _w(i,a,c,p){ls(p),a=zd(a,"onChange"),0<a.length&&(c=new qo("onChange","change",null,c,p),i.push({event:c,listeners:a}))}var Nc=null,Ac=null;function YA(i){Lw(i,0)}function Fd(i){var a=il(i);if(pt(a))return i}function XA(i,a){if(i==="change")return a}var ww=!1;if(u){var rm;if(u){var sm="oninput"in document;if(!sm){var xw=document.createElement("div");xw.setAttribute("oninput","return;"),sm=typeof xw.oninput=="function"}rm=sm}else rm=!1;ww=rm&&(!document.documentMode||9<document.documentMode)}function Ew(){Nc&&(Nc.detachEvent("onpropertychange",bw),Ac=Nc=null)}function bw(i){if(i.propertyName==="value"&&Fd(Ac)){var a=[];_w(a,Ac,i,Gs(i)),En(YA,a)}}function JA(i,a,c){i==="focusin"?(Ew(),Nc=a,Ac=c,Nc.attachEvent("onpropertychange",bw)):i==="focusout"&&Ew()}function ZA(i){if(i==="selectionchange"||i==="keyup"||i==="keydown")return Fd(Ac)}function ek(i,a){if(i==="click")return Fd(a)}function tk(i,a){if(i==="input"||i==="change")return Fd(a)}function nk(i,a){return i===a&&(i!==0||1/i===1/a)||i!==i&&a!==a}var Fr=typeof Object.is=="function"?Object.is:nk;function kc(i,a){if(Fr(i,a))return!0;if(typeof i!="object"||i===null||typeof a!="object"||a===null)return!1;var c=Object.keys(i),p=Object.keys(a);if(c.length!==p.length)return!1;for(p=0;p<c.length;p++){var y=c[p];if(!f.call(a,y)||!Fr(i[y],a[y]))return!1}return!0}function Tw(i){for(;i&&i.firstChild;)i=i.firstChild;return i}function Sw(i,a){var c=Tw(i);i=0;for(var p;c;){if(c.nodeType===3){if(p=i+c.textContent.length,i<=a&&p>=a)return{node:c,offset:a-i};i=p}e:{for(;c;){if(c.nextSibling){c=c.nextSibling;break e}c=c.parentNode}c=void 0}c=Tw(c)}}function Cw(i,a){return i&&a?i===a?!0:i&&i.nodeType===3?!1:a&&a.nodeType===3?Cw(i,a.parentNode):"contains"in i?i.contains(a):i.compareDocumentPosition?!!(i.compareDocumentPosition(a)&16):!1:!1}function Iw(){for(var i=window,a=Rt();a instanceof i.HTMLIFrameElement;){try{var c=typeof a.contentWindow.location.href=="string"}catch{c=!1}if(c)i=a.contentWindow;else break;a=Rt(i.document)}return a}function im(i){var a=i&&i.nodeName&&i.nodeName.toLowerCase();return a&&(a==="input"&&(i.type==="text"||i.type==="search"||i.type==="tel"||i.type==="url"||i.type==="password")||a==="textarea"||i.contentEditable==="true")}function rk(i){var a=Iw(),c=i.focusedElem,p=i.selectionRange;if(a!==c&&c&&c.ownerDocument&&Cw(c.ownerDocument.documentElement,c)){if(p!==null&&im(c)){if(a=p.start,i=p.end,i===void 0&&(i=a),"selectionStart"in c)c.selectionStart=a,c.selectionEnd=Math.min(i,c.value.length);else if(i=(a=c.ownerDocument||document)&&a.defaultView||window,i.getSelection){i=i.getSelection();var y=c.textContent.length,_=Math.min(p.start,y);p=p.end===void 0?_:Math.min(p.end,y),!i.extend&&_>p&&(y=p,p=_,_=y),y=Sw(c,_);var A=Sw(c,p);y&&A&&(i.rangeCount!==1||i.anchorNode!==y.node||i.anchorOffset!==y.offset||i.focusNode!==A.node||i.focusOffset!==A.offset)&&(a=a.createRange(),a.setStart(y.node,y.offset),i.removeAllRanges(),_>p?(i.addRange(a),i.extend(A.node,A.offset)):(a.setEnd(A.node,A.offset),i.addRange(a)))}}for(a=[],i=c;i=i.parentNode;)i.nodeType===1&&a.push({element:i,left:i.scrollLeft,top:i.scrollTop});for(typeof c.focus=="function"&&c.focus(),c=0;c<a.length;c++)i=a[c],i.element.scrollLeft=i.left,i.element.scrollTop=i.top}}var sk=u&&"documentMode"in document&&11>=document.documentMode,tl=null,om=null,Pc=null,am=!1;function Rw(i,a,c){var p=c.window===c?c.document:c.nodeType===9?c:c.ownerDocument;am||tl==null||tl!==Rt(p)||(p=tl,"selectionStart"in p&&im(p)?p={start:p.selectionStart,end:p.selectionEnd}:(p=(p.ownerDocument&&p.ownerDocument.defaultView||window).getSelection(),p={anchorNode:p.anchorNode,anchorOffset:p.anchorOffset,focusNode:p.focusNode,focusOffset:p.focusOffset}),Pc&&kc(Pc,p)||(Pc=p,p=zd(om,"onSelect"),0<p.length&&(a=new qo("onSelect","select",null,a,c),i.push({event:a,listeners:p}),a.target=tl)))}function Ud(i,a){var c={};return c[i.toLowerCase()]=a.toLowerCase(),c["Webkit"+i]="webkit"+a,c["Moz"+i]="moz"+a,c}var nl={animationend:Ud("Animation","AnimationEnd"),animationiteration:Ud("Animation","AnimationIteration"),animationstart:Ud("Animation","AnimationStart"),transitionend:Ud("Transition","TransitionEnd")},lm={},Nw={};u&&(Nw=document.createElement("div").style,"AnimationEvent"in window||(delete nl.animationend.animation,delete nl.animationiteration.animation,delete nl.animationstart.animation),"TransitionEvent"in window||delete nl.transitionend.transition);function $d(i){if(lm[i])return lm[i];if(!nl[i])return i;var a=nl[i],c;for(c in a)if(a.hasOwnProperty(c)&&c in Nw)return lm[i]=a[c];return i}var Aw=$d("animationend"),kw=$d("animationiteration"),Pw=$d("animationstart"),jw=$d("transitionend"),Dw=new Map,Ow="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Di(i,a){Dw.set(i,a),o(a,[i])}for(var cm=0;cm<Ow.length;cm++){var um=Ow[cm],ik=um.toLowerCase(),ok=um[0].toUpperCase()+um.slice(1);Di(ik,"on"+ok)}Di(Aw,"onAnimationEnd"),Di(kw,"onAnimationIteration"),Di(Pw,"onAnimationStart"),Di("dblclick","onDoubleClick"),Di("focusin","onFocus"),Di("focusout","onBlur"),Di(jw,"onTransitionEnd"),l("onMouseEnter",["mouseout","mouseover"]),l("onMouseLeave",["mouseout","mouseover"]),l("onPointerEnter",["pointerout","pointerover"]),l("onPointerLeave",["pointerout","pointerover"]),o("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),o("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),o("onBeforeInput",["compositionend","keypress","textInput","paste"]),o("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),o("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),o("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var jc="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),ak=new Set("cancel close invalid load scroll toggle".split(" ").concat(jc));function Mw(i,a,c){var p=i.type||"unknown-event";i.currentTarget=c,dc(p,a,void 0,i),i.currentTarget=null}function Lw(i,a){a=(a&4)!==0;for(var c=0;c<i.length;c++){var p=i[c],y=p.event;p=p.listeners;e:{var _=void 0;if(a)for(var A=p.length-1;0<=A;A--){var U=p[A],$=U.instance,J=U.currentTarget;if(U=U.listener,$!==_&&y.isPropagationStopped())break e;Mw(y,U,J),_=$}else for(A=0;A<p.length;A++){if(U=p[A],$=U.instance,J=U.currentTarget,U=U.listener,$!==_&&y.isPropagationStopped())break e;Mw(y,U,J),_=$}}}if(Fa)throw i=br,Fa=!1,br=null,i}function Tt(i,a){var c=a[vm];c===void 0&&(c=a[vm]=new Set);var p=i+"__bubble";c.has(p)||(Vw(a,i,2,!1),c.add(p))}function dm(i,a,c){var p=0;a&&(p|=4),Vw(c,i,p,a)}var Bd="_reactListening"+Math.random().toString(36).slice(2);function Dc(i){if(!i[Bd]){i[Bd]=!0,r.forEach(function(c){c!=="selectionchange"&&(ak.has(c)||dm(c,!1,i),dm(c,!0,i))});var a=i.nodeType===9?i:i.ownerDocument;a===null||a[Bd]||(a[Bd]=!0,dm("selectionchange",!1,a))}}function Vw(i,a,c,p){switch(Ga(a)){case 1:var y=gs;break;case 4:y=jd;break;default:y=Tc}c=y.bind(null,a,c,i),y=void 0,!Tn||a!=="touchstart"&&a!=="touchmove"&&a!=="wheel"||(y=!0),p?y!==void 0?i.addEventListener(a,c,{capture:!0,passive:y}):i.addEventListener(a,c,!0):y!==void 0?i.addEventListener(a,c,{passive:y}):i.addEventListener(a,c,!1)}function hm(i,a,c,p,y){var _=p;if((a&1)===0&&(a&2)===0&&p!==null)e:for(;;){if(p===null)return;var A=p.tag;if(A===3||A===4){var U=p.stateNode.containerInfo;if(U===y||U.nodeType===8&&U.parentNode===y)break;if(A===4)for(A=p.return;A!==null;){var $=A.tag;if(($===3||$===4)&&($=A.stateNode.containerInfo,$===y||$.nodeType===8&&$.parentNode===y))return;A=A.return}for(;U!==null;){if(A=Ko(U),A===null)return;if($=A.tag,$===5||$===6){p=_=A;continue e}U=U.parentNode}}p=p.return}En(function(){var J=_,ae=Gs(c),le=[];e:{var oe=Dw.get(i);if(oe!==void 0){var _e=qo,Te=i;switch(i){case"keypress":if(Ho(c)===0)break e;case"keydown":case"keyup":_e=gt;break;case"focusin":Te="focus",_e=fn;break;case"focusout":Te="blur",_e=fn;break;case"beforeblur":case"afterblur":_e=fn;break;case"click":if(c.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":_e=Cc;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":_e=Md;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":_e=ws;break;case Aw:case kw:case Pw:_e=Vd;break;case jw:_e=Za;break;case"scroll":_e=Qa;break;case"wheel":_e=WA;break;case"copy":case"cut":case"paste":_e=h;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":_e=cr}var Ce=(a&4)!==0,$t=!Ce&&i==="scroll",G=Ce?oe!==null?oe+"Capture":null:oe;Ce=[];for(var W=J,Y;W!==null;){Y=W;var ce=Y.stateNode;if(Y.tag===5&&ce!==null&&(Y=ce,G!==null&&(ce=bn(W,G),ce!=null&&Ce.push(Oc(W,ce,Y)))),$t)break;W=W.return}0<Ce.length&&(oe=new _e(oe,Te,null,c,ae),le.push({event:oe,listeners:Ce}))}}if((a&7)===0){e:{if(oe=i==="mouseover"||i==="pointerover",_e=i==="mouseout"||i==="pointerout",oe&&c!==as&&(Te=c.relatedTarget||c.fromElement)&&(Ko(Te)||Te[ni]))break e;if((_e||oe)&&(oe=ae.window===ae?ae:(oe=ae.ownerDocument)?oe.defaultView||oe.parentWindow:window,_e?(Te=c.relatedTarget||c.toElement,_e=J,Te=Te?Ko(Te):null,Te!==null&&($t=Lr(Te),Te!==$t||Te.tag!==5&&Te.tag!==6)&&(Te=null)):(_e=null,Te=J),_e!==Te)){if(Ce=Cc,ce="onMouseLeave",G="onMouseEnter",W="mouse",(i==="pointerout"||i==="pointerover")&&(Ce=cr,ce="onPointerLeave",G="onPointerEnter",W="pointer"),$t=_e==null?oe:il(_e),Y=Te==null?oe:il(Te),oe=new Ce(ce,W+"leave",_e,c,ae),oe.target=$t,oe.relatedTarget=Y,ce=null,Ko(ae)===J&&(Ce=new Ce(G,W+"enter",Te,c,ae),Ce.target=Y,Ce.relatedTarget=$t,ce=Ce),$t=ce,_e&&Te)t:{for(Ce=_e,G=Te,W=0,Y=Ce;Y;Y=rl(Y))W++;for(Y=0,ce=G;ce;ce=rl(ce))Y++;for(;0<W-Y;)Ce=rl(Ce),W--;for(;0<Y-W;)G=rl(G),Y--;for(;W--;){if(Ce===G||G!==null&&Ce===G.alternate)break t;Ce=rl(Ce),G=rl(G)}Ce=null}else Ce=null;_e!==null&&Fw(le,oe,_e,Ce,!1),Te!==null&&$t!==null&&Fw(le,$t,Te,Ce,!0)}}e:{if(oe=J?il(J):window,_e=oe.nodeName&&oe.nodeName.toLowerCase(),_e==="select"||_e==="input"&&oe.type==="file")var Ne=XA;else if(vw(oe))if(ww)Ne=tk;else{Ne=ZA;var Me=JA}else(_e=oe.nodeName)&&_e.toLowerCase()==="input"&&(oe.type==="checkbox"||oe.type==="radio")&&(Ne=ek);if(Ne&&(Ne=Ne(i,J))){_w(le,Ne,c,ae);break e}Me&&Me(i,oe,J),i==="focusout"&&(Me=oe._wrapperState)&&Me.controlled&&oe.type==="number"&&Mt(oe,"number",oe.value)}switch(Me=J?il(J):window,i){case"focusin":(vw(Me)||Me.contentEditable==="true")&&(tl=Me,om=J,Pc=null);break;case"focusout":Pc=om=tl=null;break;case"mousedown":am=!0;break;case"contextmenu":case"mouseup":case"dragend":am=!1,Rw(le,c,ae);break;case"selectionchange":if(sk)break;case"keydown":case"keyup":Rw(le,c,ae)}var Le;if(nm)e:{switch(i){case"compositionstart":var ze="onCompositionStart";break e;case"compositionend":ze="onCompositionEnd";break e;case"compositionupdate":ze="onCompositionUpdate";break e}ze=void 0}else el?gw(i,c)&&(ze="onCompositionEnd"):i==="keydown"&&c.keyCode===229&&(ze="onCompositionStart");ze&&(fw&&c.locale!=="ko"&&(el||ze!=="onCompositionStart"?ze==="onCompositionEnd"&&el&&(Le=Dd()):(ar=ae,Ka="value"in ar?ar.value:ar.textContent,el=!0)),Me=zd(J,ze),0<Me.length&&(ze=new S(ze,i,null,c,ae),le.push({event:ze,listeners:Me}),Le?ze.data=Le:(Le=yw(c),Le!==null&&(ze.data=Le)))),(Le=qA?GA(i,c):KA(i,c))&&(J=zd(J,"onBeforeInput"),0<J.length&&(ae=new S("onBeforeInput","beforeinput",null,c,ae),le.push({event:ae,listeners:J}),ae.data=Le))}Lw(le,a)})}function Oc(i,a,c){return{instance:i,listener:a,currentTarget:c}}function zd(i,a){for(var c=a+"Capture",p=[];i!==null;){var y=i,_=y.stateNode;y.tag===5&&_!==null&&(y=_,_=bn(i,c),_!=null&&p.unshift(Oc(i,_,y)),_=bn(i,a),_!=null&&p.push(Oc(i,_,y))),i=i.return}return p}function rl(i){if(i===null)return null;do i=i.return;while(i&&i.tag!==5);return i||null}function Fw(i,a,c,p,y){for(var _=a._reactName,A=[];c!==null&&c!==p;){var U=c,$=U.alternate,J=U.stateNode;if($!==null&&$===p)break;U.tag===5&&J!==null&&(U=J,y?($=bn(c,_),$!=null&&A.unshift(Oc(c,$,U))):y||($=bn(c,_),$!=null&&A.push(Oc(c,$,U)))),c=c.return}A.length!==0&&i.push({event:a,listeners:A})}var lk=/\r\n?/g,ck=/\u0000|\uFFFD/g;function Uw(i){return(typeof i=="string"?i:""+i).replace(lk,`
`).replace(ck,"")}function Wd(i,a,c){if(a=Uw(a),Uw(i)!==a&&c)throw Error(t(425))}function Hd(){}var fm=null,pm=null;function mm(i,a){return i==="textarea"||i==="noscript"||typeof a.children=="string"||typeof a.children=="number"||typeof a.dangerouslySetInnerHTML=="object"&&a.dangerouslySetInnerHTML!==null&&a.dangerouslySetInnerHTML.__html!=null}var gm=typeof setTimeout=="function"?setTimeout:void 0,uk=typeof clearTimeout=="function"?clearTimeout:void 0,$w=typeof Promise=="function"?Promise:void 0,dk=typeof queueMicrotask=="function"?queueMicrotask:typeof $w<"u"?function(i){return $w.resolve(null).then(i).catch(hk)}:gm;function hk(i){setTimeout(function(){throw i})}function ym(i,a){var c=a,p=0;do{var y=c.nextSibling;if(i.removeChild(c),y&&y.nodeType===8)if(c=y.data,c==="/$"){if(p===0){i.removeChild(y),ki(a);return}p--}else c!=="$"&&c!=="$?"&&c!=="$!"||p++;c=y}while(c);ki(a)}function Oi(i){for(;i!=null;i=i.nextSibling){var a=i.nodeType;if(a===1||a===3)break;if(a===8){if(a=i.data,a==="$"||a==="$!"||a==="$?")break;if(a==="/$")return null}}return i}function Bw(i){i=i.previousSibling;for(var a=0;i;){if(i.nodeType===8){var c=i.data;if(c==="$"||c==="$!"||c==="$?"){if(a===0)return i;a--}else c==="/$"&&a++}i=i.previousSibling}return null}var sl=Math.random().toString(36).slice(2),Es="__reactFiber$"+sl,Mc="__reactProps$"+sl,ni="__reactContainer$"+sl,vm="__reactEvents$"+sl,fk="__reactListeners$"+sl,pk="__reactHandles$"+sl;function Ko(i){var a=i[Es];if(a)return a;for(var c=i.parentNode;c;){if(a=c[ni]||c[Es]){if(c=a.alternate,a.child!==null||c!==null&&c.child!==null)for(i=Bw(i);i!==null;){if(c=i[Es])return c;i=Bw(i)}return a}i=c,c=i.parentNode}return null}function Lc(i){return i=i[Es]||i[ni],!i||i.tag!==5&&i.tag!==6&&i.tag!==13&&i.tag!==3?null:i}function il(i){if(i.tag===5||i.tag===6)return i.stateNode;throw Error(t(33))}function qd(i){return i[Mc]||null}var _m=[],ol=-1;function Mi(i){return{current:i}}function St(i){0>ol||(i.current=_m[ol],_m[ol]=null,ol--)}function Et(i,a){ol++,_m[ol]=i.current,i.current=a}var Li={},Cn=Mi(Li),$n=Mi(!1),Qo=Li;function al(i,a){var c=i.type.contextTypes;if(!c)return Li;var p=i.stateNode;if(p&&p.__reactInternalMemoizedUnmaskedChildContext===a)return p.__reactInternalMemoizedMaskedChildContext;var y={},_;for(_ in c)y[_]=a[_];return p&&(i=i.stateNode,i.__reactInternalMemoizedUnmaskedChildContext=a,i.__reactInternalMemoizedMaskedChildContext=y),y}function Bn(i){return i=i.childContextTypes,i!=null}function Gd(){St($n),St(Cn)}function zw(i,a,c){if(Cn.current!==Li)throw Error(t(168));Et(Cn,a),Et($n,c)}function Ww(i,a,c){var p=i.stateNode;if(a=a.childContextTypes,typeof p.getChildContext!="function")return c;p=p.getChildContext();for(var y in p)if(!(y in a))throw Error(t(108,re(i)||"Unknown",y));return ie({},c,p)}function Kd(i){return i=(i=i.stateNode)&&i.__reactInternalMemoizedMergedChildContext||Li,Qo=Cn.current,Et(Cn,i),Et($n,$n.current),!0}function Hw(i,a,c){var p=i.stateNode;if(!p)throw Error(t(169));c?(i=Ww(i,a,Qo),p.__reactInternalMemoizedMergedChildContext=i,St($n),St(Cn),Et(Cn,i)):St($n),Et($n,c)}var ri=null,Qd=!1,wm=!1;function qw(i){ri===null?ri=[i]:ri.push(i)}function mk(i){Qd=!0,qw(i)}function Vi(){if(!wm&&ri!==null){wm=!0;var i=0,a=rt;try{var c=ri;for(rt=1;i<c.length;i++){var p=c[i];do p=p(!0);while(p!==null)}ri=null,Qd=!1}catch(y){throw ri!==null&&(ri=ri.slice(i+1)),fc($a,Vi),y}finally{rt=a,wm=!1}}return null}var ll=[],cl=0,Yd=null,Xd=0,Sr=[],Cr=0,Yo=null,si=1,ii="";function Xo(i,a){ll[cl++]=Xd,ll[cl++]=Yd,Yd=i,Xd=a}function Gw(i,a,c){Sr[Cr++]=si,Sr[Cr++]=ii,Sr[Cr++]=Yo,Yo=i;var p=si;i=ii;var y=32-ir(p)-1;p&=~(1<<y),c+=1;var _=32-ir(a)+y;if(30<_){var A=y-y%5;_=(p&(1<<A)-1).toString(32),p>>=A,y-=A,si=1<<32-ir(a)+y|c<<y|p,ii=_+i}else si=1<<_|c<<y|p,ii=i}function xm(i){i.return!==null&&(Xo(i,1),Gw(i,1,0))}function Em(i){for(;i===Yd;)Yd=ll[--cl],ll[cl]=null,Xd=ll[--cl],ll[cl]=null;for(;i===Yo;)Yo=Sr[--Cr],Sr[Cr]=null,ii=Sr[--Cr],Sr[Cr]=null,si=Sr[--Cr],Sr[Cr]=null}var ur=null,dr=null,At=!1,Ur=null;function Kw(i,a){var c=Ar(5,null,null,0);c.elementType="DELETED",c.stateNode=a,c.return=i,a=i.deletions,a===null?(i.deletions=[c],i.flags|=16):a.push(c)}function Qw(i,a){switch(i.tag){case 5:var c=i.type;return a=a.nodeType!==1||c.toLowerCase()!==a.nodeName.toLowerCase()?null:a,a!==null?(i.stateNode=a,ur=i,dr=Oi(a.firstChild),!0):!1;case 6:return a=i.pendingProps===""||a.nodeType!==3?null:a,a!==null?(i.stateNode=a,ur=i,dr=null,!0):!1;case 13:return a=a.nodeType!==8?null:a,a!==null?(c=Yo!==null?{id:si,overflow:ii}:null,i.memoizedState={dehydrated:a,treeContext:c,retryLane:1073741824},c=Ar(18,null,null,0),c.stateNode=a,c.return=i,i.child=c,ur=i,dr=null,!0):!1;default:return!1}}function bm(i){return(i.mode&1)!==0&&(i.flags&128)===0}function Tm(i){if(At){var a=dr;if(a){var c=a;if(!Qw(i,a)){if(bm(i))throw Error(t(418));a=Oi(c.nextSibling);var p=ur;a&&Qw(i,a)?Kw(p,c):(i.flags=i.flags&-4097|2,At=!1,ur=i)}}else{if(bm(i))throw Error(t(418));i.flags=i.flags&-4097|2,At=!1,ur=i}}}function Yw(i){for(i=i.return;i!==null&&i.tag!==5&&i.tag!==3&&i.tag!==13;)i=i.return;ur=i}function Jd(i){if(i!==ur)return!1;if(!At)return Yw(i),At=!0,!1;var a;if((a=i.tag!==3)&&!(a=i.tag!==5)&&(a=i.type,a=a!=="head"&&a!=="body"&&!mm(i.type,i.memoizedProps)),a&&(a=dr)){if(bm(i))throw Xw(),Error(t(418));for(;a;)Kw(i,a),a=Oi(a.nextSibling)}if(Yw(i),i.tag===13){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(t(317));e:{for(i=i.nextSibling,a=0;i;){if(i.nodeType===8){var c=i.data;if(c==="/$"){if(a===0){dr=Oi(i.nextSibling);break e}a--}else c!=="$"&&c!=="$!"&&c!=="$?"||a++}i=i.nextSibling}dr=null}}else dr=ur?Oi(i.stateNode.nextSibling):null;return!0}function Xw(){for(var i=dr;i;)i=Oi(i.nextSibling)}function ul(){dr=ur=null,At=!1}function Sm(i){Ur===null?Ur=[i]:Ur.push(i)}var gk=B.ReactCurrentBatchConfig;function Vc(i,a,c){if(i=c.ref,i!==null&&typeof i!="function"&&typeof i!="object"){if(c._owner){if(c=c._owner,c){if(c.tag!==1)throw Error(t(309));var p=c.stateNode}if(!p)throw Error(t(147,i));var y=p,_=""+i;return a!==null&&a.ref!==null&&typeof a.ref=="function"&&a.ref._stringRef===_?a.ref:(a=function(A){var U=y.refs;A===null?delete U[_]:U[_]=A},a._stringRef=_,a)}if(typeof i!="string")throw Error(t(284));if(!c._owner)throw Error(t(290,i))}return i}function Zd(i,a){throw i=Object.prototype.toString.call(a),Error(t(31,i==="[object Object]"?"object with keys {"+Object.keys(a).join(", ")+"}":i))}function Jw(i){var a=i._init;return a(i._payload)}function Zw(i){function a(G,W){if(i){var Y=G.deletions;Y===null?(G.deletions=[W],G.flags|=16):Y.push(W)}}function c(G,W){if(!i)return null;for(;W!==null;)a(G,W),W=W.sibling;return null}function p(G,W){for(G=new Map;W!==null;)W.key!==null?G.set(W.key,W):G.set(W.index,W),W=W.sibling;return G}function y(G,W){return G=qi(G,W),G.index=0,G.sibling=null,G}function _(G,W,Y){return G.index=Y,i?(Y=G.alternate,Y!==null?(Y=Y.index,Y<W?(G.flags|=2,W):Y):(G.flags|=2,W)):(G.flags|=1048576,W)}function A(G){return i&&G.alternate===null&&(G.flags|=2),G}function U(G,W,Y,ce){return W===null||W.tag!==6?(W=gg(Y,G.mode,ce),W.return=G,W):(W=y(W,Y),W.return=G,W)}function $(G,W,Y,ce){var Ne=Y.type;return Ne===k?ae(G,W,Y.props.children,ce,Y.key):W!==null&&(W.elementType===Ne||typeof Ne=="object"&&Ne!==null&&Ne.$$typeof===de&&Jw(Ne)===W.type)?(ce=y(W,Y.props),ce.ref=Vc(G,W,Y),ce.return=G,ce):(ce=bh(Y.type,Y.key,Y.props,null,G.mode,ce),ce.ref=Vc(G,W,Y),ce.return=G,ce)}function J(G,W,Y,ce){return W===null||W.tag!==4||W.stateNode.containerInfo!==Y.containerInfo||W.stateNode.implementation!==Y.implementation?(W=yg(Y,G.mode,ce),W.return=G,W):(W=y(W,Y.children||[]),W.return=G,W)}function ae(G,W,Y,ce,Ne){return W===null||W.tag!==7?(W=ia(Y,G.mode,ce,Ne),W.return=G,W):(W=y(W,Y),W.return=G,W)}function le(G,W,Y){if(typeof W=="string"&&W!==""||typeof W=="number")return W=gg(""+W,G.mode,Y),W.return=G,W;if(typeof W=="object"&&W!==null){switch(W.$$typeof){case H:return Y=bh(W.type,W.key,W.props,null,G.mode,Y),Y.ref=Vc(G,null,W),Y.return=G,Y;case Q:return W=yg(W,G.mode,Y),W.return=G,W;case de:var ce=W._init;return le(G,ce(W._payload),Y)}if(Nt(W)||q(W))return W=ia(W,G.mode,Y,null),W.return=G,W;Zd(G,W)}return null}function oe(G,W,Y,ce){var Ne=W!==null?W.key:null;if(typeof Y=="string"&&Y!==""||typeof Y=="number")return Ne!==null?null:U(G,W,""+Y,ce);if(typeof Y=="object"&&Y!==null){switch(Y.$$typeof){case H:return Y.key===Ne?$(G,W,Y,ce):null;case Q:return Y.key===Ne?J(G,W,Y,ce):null;case de:return Ne=Y._init,oe(G,W,Ne(Y._payload),ce)}if(Nt(Y)||q(Y))return Ne!==null?null:ae(G,W,Y,ce,null);Zd(G,Y)}return null}function _e(G,W,Y,ce,Ne){if(typeof ce=="string"&&ce!==""||typeof ce=="number")return G=G.get(Y)||null,U(W,G,""+ce,Ne);if(typeof ce=="object"&&ce!==null){switch(ce.$$typeof){case H:return G=G.get(ce.key===null?Y:ce.key)||null,$(W,G,ce,Ne);case Q:return G=G.get(ce.key===null?Y:ce.key)||null,J(W,G,ce,Ne);case de:var Me=ce._init;return _e(G,W,Y,Me(ce._payload),Ne)}if(Nt(ce)||q(ce))return G=G.get(Y)||null,ae(W,G,ce,Ne,null);Zd(W,ce)}return null}function Te(G,W,Y,ce){for(var Ne=null,Me=null,Le=W,ze=W=0,on=null;Le!==null&&ze<Y.length;ze++){Le.index>ze?(on=Le,Le=null):on=Le.sibling;var dt=oe(G,Le,Y[ze],ce);if(dt===null){Le===null&&(Le=on);break}i&&Le&&dt.alternate===null&&a(G,Le),W=_(dt,W,ze),Me===null?Ne=dt:Me.sibling=dt,Me=dt,Le=on}if(ze===Y.length)return c(G,Le),At&&Xo(G,ze),Ne;if(Le===null){for(;ze<Y.length;ze++)Le=le(G,Y[ze],ce),Le!==null&&(W=_(Le,W,ze),Me===null?Ne=Le:Me.sibling=Le,Me=Le);return At&&Xo(G,ze),Ne}for(Le=p(G,Le);ze<Y.length;ze++)on=_e(Le,G,ze,Y[ze],ce),on!==null&&(i&&on.alternate!==null&&Le.delete(on.key===null?ze:on.key),W=_(on,W,ze),Me===null?Ne=on:Me.sibling=on,Me=on);return i&&Le.forEach(function(Gi){return a(G,Gi)}),At&&Xo(G,ze),Ne}function Ce(G,W,Y,ce){var Ne=q(Y);if(typeof Ne!="function")throw Error(t(150));if(Y=Ne.call(Y),Y==null)throw Error(t(151));for(var Me=Ne=null,Le=W,ze=W=0,on=null,dt=Y.next();Le!==null&&!dt.done;ze++,dt=Y.next()){Le.index>ze?(on=Le,Le=null):on=Le.sibling;var Gi=oe(G,Le,dt.value,ce);if(Gi===null){Le===null&&(Le=on);break}i&&Le&&Gi.alternate===null&&a(G,Le),W=_(Gi,W,ze),Me===null?Ne=Gi:Me.sibling=Gi,Me=Gi,Le=on}if(dt.done)return c(G,Le),At&&Xo(G,ze),Ne;if(Le===null){for(;!dt.done;ze++,dt=Y.next())dt=le(G,dt.value,ce),dt!==null&&(W=_(dt,W,ze),Me===null?Ne=dt:Me.sibling=dt,Me=dt);return At&&Xo(G,ze),Ne}for(Le=p(G,Le);!dt.done;ze++,dt=Y.next())dt=_e(Le,G,ze,dt.value,ce),dt!==null&&(i&&dt.alternate!==null&&Le.delete(dt.key===null?ze:dt.key),W=_(dt,W,ze),Me===null?Ne=dt:Me.sibling=dt,Me=dt);return i&&Le.forEach(function(Qk){return a(G,Qk)}),At&&Xo(G,ze),Ne}function $t(G,W,Y,ce){if(typeof Y=="object"&&Y!==null&&Y.type===k&&Y.key===null&&(Y=Y.props.children),typeof Y=="object"&&Y!==null){switch(Y.$$typeof){case H:e:{for(var Ne=Y.key,Me=W;Me!==null;){if(Me.key===Ne){if(Ne=Y.type,Ne===k){if(Me.tag===7){c(G,Me.sibling),W=y(Me,Y.props.children),W.return=G,G=W;break e}}else if(Me.elementType===Ne||typeof Ne=="object"&&Ne!==null&&Ne.$$typeof===de&&Jw(Ne)===Me.type){c(G,Me.sibling),W=y(Me,Y.props),W.ref=Vc(G,Me,Y),W.return=G,G=W;break e}c(G,Me);break}else a(G,Me);Me=Me.sibling}Y.type===k?(W=ia(Y.props.children,G.mode,ce,Y.key),W.return=G,G=W):(ce=bh(Y.type,Y.key,Y.props,null,G.mode,ce),ce.ref=Vc(G,W,Y),ce.return=G,G=ce)}return A(G);case Q:e:{for(Me=Y.key;W!==null;){if(W.key===Me)if(W.tag===4&&W.stateNode.containerInfo===Y.containerInfo&&W.stateNode.implementation===Y.implementation){c(G,W.sibling),W=y(W,Y.children||[]),W.return=G,G=W;break e}else{c(G,W);break}else a(G,W);W=W.sibling}W=yg(Y,G.mode,ce),W.return=G,G=W}return A(G);case de:return Me=Y._init,$t(G,W,Me(Y._payload),ce)}if(Nt(Y))return Te(G,W,Y,ce);if(q(Y))return Ce(G,W,Y,ce);Zd(G,Y)}return typeof Y=="string"&&Y!==""||typeof Y=="number"?(Y=""+Y,W!==null&&W.tag===6?(c(G,W.sibling),W=y(W,Y),W.return=G,G=W):(c(G,W),W=gg(Y,G.mode,ce),W.return=G,G=W),A(G)):c(G,W)}return $t}var dl=Zw(!0),ex=Zw(!1),eh=Mi(null),th=null,hl=null,Cm=null;function Im(){Cm=hl=th=null}function Rm(i){var a=eh.current;St(eh),i._currentValue=a}function Nm(i,a,c){for(;i!==null;){var p=i.alternate;if((i.childLanes&a)!==a?(i.childLanes|=a,p!==null&&(p.childLanes|=a)):p!==null&&(p.childLanes&a)!==a&&(p.childLanes|=a),i===c)break;i=i.return}}function fl(i,a){th=i,Cm=hl=null,i=i.dependencies,i!==null&&i.firstContext!==null&&((i.lanes&a)!==0&&(zn=!0),i.firstContext=null)}function Ir(i){var a=i._currentValue;if(Cm!==i)if(i={context:i,memoizedValue:a,next:null},hl===null){if(th===null)throw Error(t(308));hl=i,th.dependencies={lanes:0,firstContext:i}}else hl=hl.next=i;return a}var Jo=null;function Am(i){Jo===null?Jo=[i]:Jo.push(i)}function tx(i,a,c,p){var y=a.interleaved;return y===null?(c.next=c,Am(a)):(c.next=y.next,y.next=c),a.interleaved=c,oi(i,p)}function oi(i,a){i.lanes|=a;var c=i.alternate;for(c!==null&&(c.lanes|=a),c=i,i=i.return;i!==null;)i.childLanes|=a,c=i.alternate,c!==null&&(c.childLanes|=a),c=i,i=i.return;return c.tag===3?c.stateNode:null}var Fi=!1;function km(i){i.updateQueue={baseState:i.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function nx(i,a){i=i.updateQueue,a.updateQueue===i&&(a.updateQueue={baseState:i.baseState,firstBaseUpdate:i.firstBaseUpdate,lastBaseUpdate:i.lastBaseUpdate,shared:i.shared,effects:i.effects})}function ai(i,a){return{eventTime:i,lane:a,tag:0,payload:null,callback:null,next:null}}function Ui(i,a,c){var p=i.updateQueue;if(p===null)return null;if(p=p.shared,(lt&2)!==0){var y=p.pending;return y===null?a.next=a:(a.next=y.next,y.next=a),p.pending=a,oi(i,c)}return y=p.interleaved,y===null?(a.next=a,Am(p)):(a.next=y.next,y.next=a),p.interleaved=a,oi(i,c)}function nh(i,a,c){if(a=a.updateQueue,a!==null&&(a=a.shared,(c&4194240)!==0)){var p=a.lanes;p&=i.pendingLanes,c|=p,a.lanes=c,_c(i,c)}}function rx(i,a){var c=i.updateQueue,p=i.alternate;if(p!==null&&(p=p.updateQueue,c===p)){var y=null,_=null;if(c=c.firstBaseUpdate,c!==null){do{var A={eventTime:c.eventTime,lane:c.lane,tag:c.tag,payload:c.payload,callback:c.callback,next:null};_===null?y=_=A:_=_.next=A,c=c.next}while(c!==null);_===null?y=_=a:_=_.next=a}else y=_=a;c={baseState:p.baseState,firstBaseUpdate:y,lastBaseUpdate:_,shared:p.shared,effects:p.effects},i.updateQueue=c;return}i=c.lastBaseUpdate,i===null?c.firstBaseUpdate=a:i.next=a,c.lastBaseUpdate=a}function rh(i,a,c,p){var y=i.updateQueue;Fi=!1;var _=y.firstBaseUpdate,A=y.lastBaseUpdate,U=y.shared.pending;if(U!==null){y.shared.pending=null;var $=U,J=$.next;$.next=null,A===null?_=J:A.next=J,A=$;var ae=i.alternate;ae!==null&&(ae=ae.updateQueue,U=ae.lastBaseUpdate,U!==A&&(U===null?ae.firstBaseUpdate=J:U.next=J,ae.lastBaseUpdate=$))}if(_!==null){var le=y.baseState;A=0,ae=J=$=null,U=_;do{var oe=U.lane,_e=U.eventTime;if((p&oe)===oe){ae!==null&&(ae=ae.next={eventTime:_e,lane:0,tag:U.tag,payload:U.payload,callback:U.callback,next:null});e:{var Te=i,Ce=U;switch(oe=a,_e=c,Ce.tag){case 1:if(Te=Ce.payload,typeof Te=="function"){le=Te.call(_e,le,oe);break e}le=Te;break e;case 3:Te.flags=Te.flags&-65537|128;case 0:if(Te=Ce.payload,oe=typeof Te=="function"?Te.call(_e,le,oe):Te,oe==null)break e;le=ie({},le,oe);break e;case 2:Fi=!0}}U.callback!==null&&U.lane!==0&&(i.flags|=64,oe=y.effects,oe===null?y.effects=[U]:oe.push(U))}else _e={eventTime:_e,lane:oe,tag:U.tag,payload:U.payload,callback:U.callback,next:null},ae===null?(J=ae=_e,$=le):ae=ae.next=_e,A|=oe;if(U=U.next,U===null){if(U=y.shared.pending,U===null)break;oe=U,U=oe.next,oe.next=null,y.lastBaseUpdate=oe,y.shared.pending=null}}while(!0);if(ae===null&&($=le),y.baseState=$,y.firstBaseUpdate=J,y.lastBaseUpdate=ae,a=y.shared.interleaved,a!==null){y=a;do A|=y.lane,y=y.next;while(y!==a)}else _===null&&(y.shared.lanes=0);ta|=A,i.lanes=A,i.memoizedState=le}}function sx(i,a,c){if(i=a.effects,a.effects=null,i!==null)for(a=0;a<i.length;a++){var p=i[a],y=p.callback;if(y!==null){if(p.callback=null,p=c,typeof y!="function")throw Error(t(191,y));y.call(p)}}}var Fc={},bs=Mi(Fc),Uc=Mi(Fc),$c=Mi(Fc);function Zo(i){if(i===Fc)throw Error(t(174));return i}function Pm(i,a){switch(Et($c,a),Et(Uc,i),Et(bs,Fc),i=a.nodeType,i){case 9:case 11:a=(a=a.documentElement)?a.namespaceURI:tr(null,"");break;default:i=i===8?a.parentNode:a,a=i.namespaceURI||null,i=i.tagName,a=tr(a,i)}St(bs),Et(bs,a)}function pl(){St(bs),St(Uc),St($c)}function ix(i){Zo($c.current);var a=Zo(bs.current),c=tr(a,i.type);a!==c&&(Et(Uc,i),Et(bs,c))}function jm(i){Uc.current===i&&(St(bs),St(Uc))}var Pt=Mi(0);function sh(i){for(var a=i;a!==null;){if(a.tag===13){var c=a.memoizedState;if(c!==null&&(c=c.dehydrated,c===null||c.data==="$?"||c.data==="$!"))return a}else if(a.tag===19&&a.memoizedProps.revealOrder!==void 0){if((a.flags&128)!==0)return a}else if(a.child!==null){a.child.return=a,a=a.child;continue}if(a===i)break;for(;a.sibling===null;){if(a.return===null||a.return===i)return null;a=a.return}a.sibling.return=a.return,a=a.sibling}return null}var Dm=[];function Om(){for(var i=0;i<Dm.length;i++)Dm[i]._workInProgressVersionPrimary=null;Dm.length=0}var ih=B.ReactCurrentDispatcher,Mm=B.ReactCurrentBatchConfig,ea=0,jt=null,Jt=null,rn=null,oh=!1,Bc=!1,zc=0,yk=0;function In(){throw Error(t(321))}function Lm(i,a){if(a===null)return!1;for(var c=0;c<a.length&&c<i.length;c++)if(!Fr(i[c],a[c]))return!1;return!0}function Vm(i,a,c,p,y,_){if(ea=_,jt=a,a.memoizedState=null,a.updateQueue=null,a.lanes=0,ih.current=i===null||i.memoizedState===null?xk:Ek,i=c(p,y),Bc){_=0;do{if(Bc=!1,zc=0,25<=_)throw Error(t(301));_+=1,rn=Jt=null,a.updateQueue=null,ih.current=bk,i=c(p,y)}while(Bc)}if(ih.current=ch,a=Jt!==null&&Jt.next!==null,ea=0,rn=Jt=jt=null,oh=!1,a)throw Error(t(300));return i}function Fm(){var i=zc!==0;return zc=0,i}function Ts(){var i={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return rn===null?jt.memoizedState=rn=i:rn=rn.next=i,rn}function Rr(){if(Jt===null){var i=jt.alternate;i=i!==null?i.memoizedState:null}else i=Jt.next;var a=rn===null?jt.memoizedState:rn.next;if(a!==null)rn=a,Jt=i;else{if(i===null)throw Error(t(310));Jt=i,i={memoizedState:Jt.memoizedState,baseState:Jt.baseState,baseQueue:Jt.baseQueue,queue:Jt.queue,next:null},rn===null?jt.memoizedState=rn=i:rn=rn.next=i}return rn}function Wc(i,a){return typeof a=="function"?a(i):a}function Um(i){var a=Rr(),c=a.queue;if(c===null)throw Error(t(311));c.lastRenderedReducer=i;var p=Jt,y=p.baseQueue,_=c.pending;if(_!==null){if(y!==null){var A=y.next;y.next=_.next,_.next=A}p.baseQueue=y=_,c.pending=null}if(y!==null){_=y.next,p=p.baseState;var U=A=null,$=null,J=_;do{var ae=J.lane;if((ea&ae)===ae)$!==null&&($=$.next={lane:0,action:J.action,hasEagerState:J.hasEagerState,eagerState:J.eagerState,next:null}),p=J.hasEagerState?J.eagerState:i(p,J.action);else{var le={lane:ae,action:J.action,hasEagerState:J.hasEagerState,eagerState:J.eagerState,next:null};$===null?(U=$=le,A=p):$=$.next=le,jt.lanes|=ae,ta|=ae}J=J.next}while(J!==null&&J!==_);$===null?A=p:$.next=U,Fr(p,a.memoizedState)||(zn=!0),a.memoizedState=p,a.baseState=A,a.baseQueue=$,c.lastRenderedState=p}if(i=c.interleaved,i!==null){y=i;do _=y.lane,jt.lanes|=_,ta|=_,y=y.next;while(y!==i)}else y===null&&(c.lanes=0);return[a.memoizedState,c.dispatch]}function $m(i){var a=Rr(),c=a.queue;if(c===null)throw Error(t(311));c.lastRenderedReducer=i;var p=c.dispatch,y=c.pending,_=a.memoizedState;if(y!==null){c.pending=null;var A=y=y.next;do _=i(_,A.action),A=A.next;while(A!==y);Fr(_,a.memoizedState)||(zn=!0),a.memoizedState=_,a.baseQueue===null&&(a.baseState=_),c.lastRenderedState=_}return[_,p]}function ox(){}function ax(i,a){var c=jt,p=Rr(),y=a(),_=!Fr(p.memoizedState,y);if(_&&(p.memoizedState=y,zn=!0),p=p.queue,Bm(ux.bind(null,c,p,i),[i]),p.getSnapshot!==a||_||rn!==null&&rn.memoizedState.tag&1){if(c.flags|=2048,Hc(9,cx.bind(null,c,p,y,a),void 0,null),sn===null)throw Error(t(349));(ea&30)!==0||lx(c,a,y)}return y}function lx(i,a,c){i.flags|=16384,i={getSnapshot:a,value:c},a=jt.updateQueue,a===null?(a={lastEffect:null,stores:null},jt.updateQueue=a,a.stores=[i]):(c=a.stores,c===null?a.stores=[i]:c.push(i))}function cx(i,a,c,p){a.value=c,a.getSnapshot=p,dx(a)&&hx(i)}function ux(i,a,c){return c(function(){dx(a)&&hx(i)})}function dx(i){var a=i.getSnapshot;i=i.value;try{var c=a();return!Fr(i,c)}catch{return!0}}function hx(i){var a=oi(i,1);a!==null&&Wr(a,i,1,-1)}function fx(i){var a=Ts();return typeof i=="function"&&(i=i()),a.memoizedState=a.baseState=i,i={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Wc,lastRenderedState:i},a.queue=i,i=i.dispatch=wk.bind(null,jt,i),[a.memoizedState,i]}function Hc(i,a,c,p){return i={tag:i,create:a,destroy:c,deps:p,next:null},a=jt.updateQueue,a===null?(a={lastEffect:null,stores:null},jt.updateQueue=a,a.lastEffect=i.next=i):(c=a.lastEffect,c===null?a.lastEffect=i.next=i:(p=c.next,c.next=i,i.next=p,a.lastEffect=i)),i}function px(){return Rr().memoizedState}function ah(i,a,c,p){var y=Ts();jt.flags|=i,y.memoizedState=Hc(1|a,c,void 0,p===void 0?null:p)}function lh(i,a,c,p){var y=Rr();p=p===void 0?null:p;var _=void 0;if(Jt!==null){var A=Jt.memoizedState;if(_=A.destroy,p!==null&&Lm(p,A.deps)){y.memoizedState=Hc(a,c,_,p);return}}jt.flags|=i,y.memoizedState=Hc(1|a,c,_,p)}function mx(i,a){return ah(8390656,8,i,a)}function Bm(i,a){return lh(2048,8,i,a)}function gx(i,a){return lh(4,2,i,a)}function yx(i,a){return lh(4,4,i,a)}function vx(i,a){if(typeof a=="function")return i=i(),a(i),function(){a(null)};if(a!=null)return i=i(),a.current=i,function(){a.current=null}}function _x(i,a,c){return c=c!=null?c.concat([i]):null,lh(4,4,vx.bind(null,a,i),c)}function zm(){}function wx(i,a){var c=Rr();a=a===void 0?null:a;var p=c.memoizedState;return p!==null&&a!==null&&Lm(a,p[1])?p[0]:(c.memoizedState=[i,a],i)}function xx(i,a){var c=Rr();a=a===void 0?null:a;var p=c.memoizedState;return p!==null&&a!==null&&Lm(a,p[1])?p[0]:(i=i(),c.memoizedState=[i,a],i)}function Ex(i,a,c){return(ea&21)===0?(i.baseState&&(i.baseState=!1,zn=!0),i.memoizedState=c):(Fr(c,a)||(c=yc(),jt.lanes|=c,ta|=c,i.baseState=!0),a)}function vk(i,a){var c=rt;rt=c!==0&&4>c?c:4,i(!0);var p=Mm.transition;Mm.transition={};try{i(!1),a()}finally{rt=c,Mm.transition=p}}function bx(){return Rr().memoizedState}function _k(i,a,c){var p=Wi(i);if(c={lane:p,action:c,hasEagerState:!1,eagerState:null,next:null},Tx(i))Sx(a,c);else if(c=tx(i,a,c,p),c!==null){var y=Mn();Wr(c,i,p,y),Cx(c,a,p)}}function wk(i,a,c){var p=Wi(i),y={lane:p,action:c,hasEagerState:!1,eagerState:null,next:null};if(Tx(i))Sx(a,y);else{var _=i.alternate;if(i.lanes===0&&(_===null||_.lanes===0)&&(_=a.lastRenderedReducer,_!==null))try{var A=a.lastRenderedState,U=_(A,c);if(y.hasEagerState=!0,y.eagerState=U,Fr(U,A)){var $=a.interleaved;$===null?(y.next=y,Am(a)):(y.next=$.next,$.next=y),a.interleaved=y;return}}catch{}c=tx(i,a,y,p),c!==null&&(y=Mn(),Wr(c,i,p,y),Cx(c,a,p))}}function Tx(i){var a=i.alternate;return i===jt||a!==null&&a===jt}function Sx(i,a){Bc=oh=!0;var c=i.pending;c===null?a.next=a:(a.next=c.next,c.next=a),i.pending=a}function Cx(i,a,c){if((c&4194240)!==0){var p=a.lanes;p&=i.pendingLanes,c|=p,a.lanes=c,_c(i,c)}}var ch={readContext:Ir,useCallback:In,useContext:In,useEffect:In,useImperativeHandle:In,useInsertionEffect:In,useLayoutEffect:In,useMemo:In,useReducer:In,useRef:In,useState:In,useDebugValue:In,useDeferredValue:In,useTransition:In,useMutableSource:In,useSyncExternalStore:In,useId:In,unstable_isNewReconciler:!1},xk={readContext:Ir,useCallback:function(i,a){return Ts().memoizedState=[i,a===void 0?null:a],i},useContext:Ir,useEffect:mx,useImperativeHandle:function(i,a,c){return c=c!=null?c.concat([i]):null,ah(4194308,4,vx.bind(null,a,i),c)},useLayoutEffect:function(i,a){return ah(4194308,4,i,a)},useInsertionEffect:function(i,a){return ah(4,2,i,a)},useMemo:function(i,a){var c=Ts();return a=a===void 0?null:a,i=i(),c.memoizedState=[i,a],i},useReducer:function(i,a,c){var p=Ts();return a=c!==void 0?c(a):a,p.memoizedState=p.baseState=a,i={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:i,lastRenderedState:a},p.queue=i,i=i.dispatch=_k.bind(null,jt,i),[p.memoizedState,i]},useRef:function(i){var a=Ts();return i={current:i},a.memoizedState=i},useState:fx,useDebugValue:zm,useDeferredValue:function(i){return Ts().memoizedState=i},useTransition:function(){var i=fx(!1),a=i[0];return i=vk.bind(null,i[1]),Ts().memoizedState=i,[a,i]},useMutableSource:function(){},useSyncExternalStore:function(i,a,c){var p=jt,y=Ts();if(At){if(c===void 0)throw Error(t(407));c=c()}else{if(c=a(),sn===null)throw Error(t(349));(ea&30)!==0||lx(p,a,c)}y.memoizedState=c;var _={value:c,getSnapshot:a};return y.queue=_,mx(ux.bind(null,p,_,i),[i]),p.flags|=2048,Hc(9,cx.bind(null,p,_,c,a),void 0,null),c},useId:function(){var i=Ts(),a=sn.identifierPrefix;if(At){var c=ii,p=si;c=(p&~(1<<32-ir(p)-1)).toString(32)+c,a=":"+a+"R"+c,c=zc++,0<c&&(a+="H"+c.toString(32)),a+=":"}else c=yk++,a=":"+a+"r"+c.toString(32)+":";return i.memoizedState=a},unstable_isNewReconciler:!1},Ek={readContext:Ir,useCallback:wx,useContext:Ir,useEffect:Bm,useImperativeHandle:_x,useInsertionEffect:gx,useLayoutEffect:yx,useMemo:xx,useReducer:Um,useRef:px,useState:function(){return Um(Wc)},useDebugValue:zm,useDeferredValue:function(i){var a=Rr();return Ex(a,Jt.memoizedState,i)},useTransition:function(){var i=Um(Wc)[0],a=Rr().memoizedState;return[i,a]},useMutableSource:ox,useSyncExternalStore:ax,useId:bx,unstable_isNewReconciler:!1},bk={readContext:Ir,useCallback:wx,useContext:Ir,useEffect:Bm,useImperativeHandle:_x,useInsertionEffect:gx,useLayoutEffect:yx,useMemo:xx,useReducer:$m,useRef:px,useState:function(){return $m(Wc)},useDebugValue:zm,useDeferredValue:function(i){var a=Rr();return Jt===null?a.memoizedState=i:Ex(a,Jt.memoizedState,i)},useTransition:function(){var i=$m(Wc)[0],a=Rr().memoizedState;return[i,a]},useMutableSource:ox,useSyncExternalStore:ax,useId:bx,unstable_isNewReconciler:!1};function $r(i,a){if(i&&i.defaultProps){a=ie({},a),i=i.defaultProps;for(var c in i)a[c]===void 0&&(a[c]=i[c]);return a}return a}function Wm(i,a,c,p){a=i.memoizedState,c=c(p,a),c=c==null?a:ie({},a,c),i.memoizedState=c,i.lanes===0&&(i.updateQueue.baseState=c)}var uh={isMounted:function(i){return(i=i._reactInternals)?Lr(i)===i:!1},enqueueSetState:function(i,a,c){i=i._reactInternals;var p=Mn(),y=Wi(i),_=ai(p,y);_.payload=a,c!=null&&(_.callback=c),a=Ui(i,_,y),a!==null&&(Wr(a,i,y,p),nh(a,i,y))},enqueueReplaceState:function(i,a,c){i=i._reactInternals;var p=Mn(),y=Wi(i),_=ai(p,y);_.tag=1,_.payload=a,c!=null&&(_.callback=c),a=Ui(i,_,y),a!==null&&(Wr(a,i,y,p),nh(a,i,y))},enqueueForceUpdate:function(i,a){i=i._reactInternals;var c=Mn(),p=Wi(i),y=ai(c,p);y.tag=2,a!=null&&(y.callback=a),a=Ui(i,y,p),a!==null&&(Wr(a,i,p,c),nh(a,i,p))}};function Ix(i,a,c,p,y,_,A){return i=i.stateNode,typeof i.shouldComponentUpdate=="function"?i.shouldComponentUpdate(p,_,A):a.prototype&&a.prototype.isPureReactComponent?!kc(c,p)||!kc(y,_):!0}function Rx(i,a,c){var p=!1,y=Li,_=a.contextType;return typeof _=="object"&&_!==null?_=Ir(_):(y=Bn(a)?Qo:Cn.current,p=a.contextTypes,_=(p=p!=null)?al(i,y):Li),a=new a(c,_),i.memoizedState=a.state!==null&&a.state!==void 0?a.state:null,a.updater=uh,i.stateNode=a,a._reactInternals=i,p&&(i=i.stateNode,i.__reactInternalMemoizedUnmaskedChildContext=y,i.__reactInternalMemoizedMaskedChildContext=_),a}function Nx(i,a,c,p){i=a.state,typeof a.componentWillReceiveProps=="function"&&a.componentWillReceiveProps(c,p),typeof a.UNSAFE_componentWillReceiveProps=="function"&&a.UNSAFE_componentWillReceiveProps(c,p),a.state!==i&&uh.enqueueReplaceState(a,a.state,null)}function Hm(i,a,c,p){var y=i.stateNode;y.props=c,y.state=i.memoizedState,y.refs={},km(i);var _=a.contextType;typeof _=="object"&&_!==null?y.context=Ir(_):(_=Bn(a)?Qo:Cn.current,y.context=al(i,_)),y.state=i.memoizedState,_=a.getDerivedStateFromProps,typeof _=="function"&&(Wm(i,a,_,c),y.state=i.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof y.getSnapshotBeforeUpdate=="function"||typeof y.UNSAFE_componentWillMount!="function"&&typeof y.componentWillMount!="function"||(a=y.state,typeof y.componentWillMount=="function"&&y.componentWillMount(),typeof y.UNSAFE_componentWillMount=="function"&&y.UNSAFE_componentWillMount(),a!==y.state&&uh.enqueueReplaceState(y,y.state,null),rh(i,c,y,p),y.state=i.memoizedState),typeof y.componentDidMount=="function"&&(i.flags|=4194308)}function ml(i,a){try{var c="",p=a;do c+=Re(p),p=p.return;while(p);var y=c}catch(_){y=`
Error generating stack: `+_.message+`
`+_.stack}return{value:i,source:a,stack:y,digest:null}}function qm(i,a,c){return{value:i,source:null,stack:c??null,digest:a??null}}function Gm(i,a){try{console.error(a.value)}catch(c){setTimeout(function(){throw c})}}var Tk=typeof WeakMap=="function"?WeakMap:Map;function Ax(i,a,c){c=ai(-1,c),c.tag=3,c.payload={element:null};var p=a.value;return c.callback=function(){yh||(yh=!0,lg=p),Gm(i,a)},c}function kx(i,a,c){c=ai(-1,c),c.tag=3;var p=i.type.getDerivedStateFromError;if(typeof p=="function"){var y=a.value;c.payload=function(){return p(y)},c.callback=function(){Gm(i,a)}}var _=i.stateNode;return _!==null&&typeof _.componentDidCatch=="function"&&(c.callback=function(){Gm(i,a),typeof p!="function"&&(Bi===null?Bi=new Set([this]):Bi.add(this));var A=a.stack;this.componentDidCatch(a.value,{componentStack:A!==null?A:""})}),c}function Px(i,a,c){var p=i.pingCache;if(p===null){p=i.pingCache=new Tk;var y=new Set;p.set(a,y)}else y=p.get(a),y===void 0&&(y=new Set,p.set(a,y));y.has(c)||(y.add(c),i=Vk.bind(null,i,a,c),a.then(i,i))}function jx(i){do{var a;if((a=i.tag===13)&&(a=i.memoizedState,a=a!==null?a.dehydrated!==null:!0),a)return i;i=i.return}while(i!==null);return null}function Dx(i,a,c,p,y){return(i.mode&1)===0?(i===a?i.flags|=65536:(i.flags|=128,c.flags|=131072,c.flags&=-52805,c.tag===1&&(c.alternate===null?c.tag=17:(a=ai(-1,1),a.tag=2,Ui(c,a,1))),c.lanes|=1),i):(i.flags|=65536,i.lanes=y,i)}var Sk=B.ReactCurrentOwner,zn=!1;function On(i,a,c,p){a.child=i===null?ex(a,null,c,p):dl(a,i.child,c,p)}function Ox(i,a,c,p,y){c=c.render;var _=a.ref;return fl(a,y),p=Vm(i,a,c,p,_,y),c=Fm(),i!==null&&!zn?(a.updateQueue=i.updateQueue,a.flags&=-2053,i.lanes&=~y,li(i,a,y)):(At&&c&&xm(a),a.flags|=1,On(i,a,p,y),a.child)}function Mx(i,a,c,p,y){if(i===null){var _=c.type;return typeof _=="function"&&!mg(_)&&_.defaultProps===void 0&&c.compare===null&&c.defaultProps===void 0?(a.tag=15,a.type=_,Lx(i,a,_,p,y)):(i=bh(c.type,null,p,a,a.mode,y),i.ref=a.ref,i.return=a,a.child=i)}if(_=i.child,(i.lanes&y)===0){var A=_.memoizedProps;if(c=c.compare,c=c!==null?c:kc,c(A,p)&&i.ref===a.ref)return li(i,a,y)}return a.flags|=1,i=qi(_,p),i.ref=a.ref,i.return=a,a.child=i}function Lx(i,a,c,p,y){if(i!==null){var _=i.memoizedProps;if(kc(_,p)&&i.ref===a.ref)if(zn=!1,a.pendingProps=p=_,(i.lanes&y)!==0)(i.flags&131072)!==0&&(zn=!0);else return a.lanes=i.lanes,li(i,a,y)}return Km(i,a,c,p,y)}function Vx(i,a,c){var p=a.pendingProps,y=p.children,_=i!==null?i.memoizedState:null;if(p.mode==="hidden")if((a.mode&1)===0)a.memoizedState={baseLanes:0,cachePool:null,transitions:null},Et(yl,hr),hr|=c;else{if((c&1073741824)===0)return i=_!==null?_.baseLanes|c:c,a.lanes=a.childLanes=1073741824,a.memoizedState={baseLanes:i,cachePool:null,transitions:null},a.updateQueue=null,Et(yl,hr),hr|=i,null;a.memoizedState={baseLanes:0,cachePool:null,transitions:null},p=_!==null?_.baseLanes:c,Et(yl,hr),hr|=p}else _!==null?(p=_.baseLanes|c,a.memoizedState=null):p=c,Et(yl,hr),hr|=p;return On(i,a,y,c),a.child}function Fx(i,a){var c=a.ref;(i===null&&c!==null||i!==null&&i.ref!==c)&&(a.flags|=512,a.flags|=2097152)}function Km(i,a,c,p,y){var _=Bn(c)?Qo:Cn.current;return _=al(a,_),fl(a,y),c=Vm(i,a,c,p,_,y),p=Fm(),i!==null&&!zn?(a.updateQueue=i.updateQueue,a.flags&=-2053,i.lanes&=~y,li(i,a,y)):(At&&p&&xm(a),a.flags|=1,On(i,a,c,y),a.child)}function Ux(i,a,c,p,y){if(Bn(c)){var _=!0;Kd(a)}else _=!1;if(fl(a,y),a.stateNode===null)hh(i,a),Rx(a,c,p),Hm(a,c,p,y),p=!0;else if(i===null){var A=a.stateNode,U=a.memoizedProps;A.props=U;var $=A.context,J=c.contextType;typeof J=="object"&&J!==null?J=Ir(J):(J=Bn(c)?Qo:Cn.current,J=al(a,J));var ae=c.getDerivedStateFromProps,le=typeof ae=="function"||typeof A.getSnapshotBeforeUpdate=="function";le||typeof A.UNSAFE_componentWillReceiveProps!="function"&&typeof A.componentWillReceiveProps!="function"||(U!==p||$!==J)&&Nx(a,A,p,J),Fi=!1;var oe=a.memoizedState;A.state=oe,rh(a,p,A,y),$=a.memoizedState,U!==p||oe!==$||$n.current||Fi?(typeof ae=="function"&&(Wm(a,c,ae,p),$=a.memoizedState),(U=Fi||Ix(a,c,U,p,oe,$,J))?(le||typeof A.UNSAFE_componentWillMount!="function"&&typeof A.componentWillMount!="function"||(typeof A.componentWillMount=="function"&&A.componentWillMount(),typeof A.UNSAFE_componentWillMount=="function"&&A.UNSAFE_componentWillMount()),typeof A.componentDidMount=="function"&&(a.flags|=4194308)):(typeof A.componentDidMount=="function"&&(a.flags|=4194308),a.memoizedProps=p,a.memoizedState=$),A.props=p,A.state=$,A.context=J,p=U):(typeof A.componentDidMount=="function"&&(a.flags|=4194308),p=!1)}else{A=a.stateNode,nx(i,a),U=a.memoizedProps,J=a.type===a.elementType?U:$r(a.type,U),A.props=J,le=a.pendingProps,oe=A.context,$=c.contextType,typeof $=="object"&&$!==null?$=Ir($):($=Bn(c)?Qo:Cn.current,$=al(a,$));var _e=c.getDerivedStateFromProps;(ae=typeof _e=="function"||typeof A.getSnapshotBeforeUpdate=="function")||typeof A.UNSAFE_componentWillReceiveProps!="function"&&typeof A.componentWillReceiveProps!="function"||(U!==le||oe!==$)&&Nx(a,A,p,$),Fi=!1,oe=a.memoizedState,A.state=oe,rh(a,p,A,y);var Te=a.memoizedState;U!==le||oe!==Te||$n.current||Fi?(typeof _e=="function"&&(Wm(a,c,_e,p),Te=a.memoizedState),(J=Fi||Ix(a,c,J,p,oe,Te,$)||!1)?(ae||typeof A.UNSAFE_componentWillUpdate!="function"&&typeof A.componentWillUpdate!="function"||(typeof A.componentWillUpdate=="function"&&A.componentWillUpdate(p,Te,$),typeof A.UNSAFE_componentWillUpdate=="function"&&A.UNSAFE_componentWillUpdate(p,Te,$)),typeof A.componentDidUpdate=="function"&&(a.flags|=4),typeof A.getSnapshotBeforeUpdate=="function"&&(a.flags|=1024)):(typeof A.componentDidUpdate!="function"||U===i.memoizedProps&&oe===i.memoizedState||(a.flags|=4),typeof A.getSnapshotBeforeUpdate!="function"||U===i.memoizedProps&&oe===i.memoizedState||(a.flags|=1024),a.memoizedProps=p,a.memoizedState=Te),A.props=p,A.state=Te,A.context=$,p=J):(typeof A.componentDidUpdate!="function"||U===i.memoizedProps&&oe===i.memoizedState||(a.flags|=4),typeof A.getSnapshotBeforeUpdate!="function"||U===i.memoizedProps&&oe===i.memoizedState||(a.flags|=1024),p=!1)}return Qm(i,a,c,p,_,y)}function Qm(i,a,c,p,y,_){Fx(i,a);var A=(a.flags&128)!==0;if(!p&&!A)return y&&Hw(a,c,!1),li(i,a,_);p=a.stateNode,Sk.current=a;var U=A&&typeof c.getDerivedStateFromError!="function"?null:p.render();return a.flags|=1,i!==null&&A?(a.child=dl(a,i.child,null,_),a.child=dl(a,null,U,_)):On(i,a,U,_),a.memoizedState=p.state,y&&Hw(a,c,!0),a.child}function $x(i){var a=i.stateNode;a.pendingContext?zw(i,a.pendingContext,a.pendingContext!==a.context):a.context&&zw(i,a.context,!1),Pm(i,a.containerInfo)}function Bx(i,a,c,p,y){return ul(),Sm(y),a.flags|=256,On(i,a,c,p),a.child}var Ym={dehydrated:null,treeContext:null,retryLane:0};function Xm(i){return{baseLanes:i,cachePool:null,transitions:null}}function zx(i,a,c){var p=a.pendingProps,y=Pt.current,_=!1,A=(a.flags&128)!==0,U;if((U=A)||(U=i!==null&&i.memoizedState===null?!1:(y&2)!==0),U?(_=!0,a.flags&=-129):(i===null||i.memoizedState!==null)&&(y|=1),Et(Pt,y&1),i===null)return Tm(a),i=a.memoizedState,i!==null&&(i=i.dehydrated,i!==null)?((a.mode&1)===0?a.lanes=1:i.data==="$!"?a.lanes=8:a.lanes=1073741824,null):(A=p.children,i=p.fallback,_?(p=a.mode,_=a.child,A={mode:"hidden",children:A},(p&1)===0&&_!==null?(_.childLanes=0,_.pendingProps=A):_=Th(A,p,0,null),i=ia(i,p,c,null),_.return=a,i.return=a,_.sibling=i,a.child=_,a.child.memoizedState=Xm(c),a.memoizedState=Ym,i):Jm(a,A));if(y=i.memoizedState,y!==null&&(U=y.dehydrated,U!==null))return Ck(i,a,A,p,U,y,c);if(_){_=p.fallback,A=a.mode,y=i.child,U=y.sibling;var $={mode:"hidden",children:p.children};return(A&1)===0&&a.child!==y?(p=a.child,p.childLanes=0,p.pendingProps=$,a.deletions=null):(p=qi(y,$),p.subtreeFlags=y.subtreeFlags&14680064),U!==null?_=qi(U,_):(_=ia(_,A,c,null),_.flags|=2),_.return=a,p.return=a,p.sibling=_,a.child=p,p=_,_=a.child,A=i.child.memoizedState,A=A===null?Xm(c):{baseLanes:A.baseLanes|c,cachePool:null,transitions:A.transitions},_.memoizedState=A,_.childLanes=i.childLanes&~c,a.memoizedState=Ym,p}return _=i.child,i=_.sibling,p=qi(_,{mode:"visible",children:p.children}),(a.mode&1)===0&&(p.lanes=c),p.return=a,p.sibling=null,i!==null&&(c=a.deletions,c===null?(a.deletions=[i],a.flags|=16):c.push(i)),a.child=p,a.memoizedState=null,p}function Jm(i,a){return a=Th({mode:"visible",children:a},i.mode,0,null),a.return=i,i.child=a}function dh(i,a,c,p){return p!==null&&Sm(p),dl(a,i.child,null,c),i=Jm(a,a.pendingProps.children),i.flags|=2,a.memoizedState=null,i}function Ck(i,a,c,p,y,_,A){if(c)return a.flags&256?(a.flags&=-257,p=qm(Error(t(422))),dh(i,a,A,p)):a.memoizedState!==null?(a.child=i.child,a.flags|=128,null):(_=p.fallback,y=a.mode,p=Th({mode:"visible",children:p.children},y,0,null),_=ia(_,y,A,null),_.flags|=2,p.return=a,_.return=a,p.sibling=_,a.child=p,(a.mode&1)!==0&&dl(a,i.child,null,A),a.child.memoizedState=Xm(A),a.memoizedState=Ym,_);if((a.mode&1)===0)return dh(i,a,A,null);if(y.data==="$!"){if(p=y.nextSibling&&y.nextSibling.dataset,p)var U=p.dgst;return p=U,_=Error(t(419)),p=qm(_,p,void 0),dh(i,a,A,p)}if(U=(A&i.childLanes)!==0,zn||U){if(p=sn,p!==null){switch(A&-A){case 4:y=2;break;case 16:y=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:y=32;break;case 536870912:y=268435456;break;default:y=0}y=(y&(p.suspendedLanes|A))!==0?0:y,y!==0&&y!==_.retryLane&&(_.retryLane=y,oi(i,y),Wr(p,i,y,-1))}return pg(),p=qm(Error(t(421))),dh(i,a,A,p)}return y.data==="$?"?(a.flags|=128,a.child=i.child,a=Fk.bind(null,i),y._reactRetry=a,null):(i=_.treeContext,dr=Oi(y.nextSibling),ur=a,At=!0,Ur=null,i!==null&&(Sr[Cr++]=si,Sr[Cr++]=ii,Sr[Cr++]=Yo,si=i.id,ii=i.overflow,Yo=a),a=Jm(a,p.children),a.flags|=4096,a)}function Wx(i,a,c){i.lanes|=a;var p=i.alternate;p!==null&&(p.lanes|=a),Nm(i.return,a,c)}function Zm(i,a,c,p,y){var _=i.memoizedState;_===null?i.memoizedState={isBackwards:a,rendering:null,renderingStartTime:0,last:p,tail:c,tailMode:y}:(_.isBackwards=a,_.rendering=null,_.renderingStartTime=0,_.last=p,_.tail=c,_.tailMode=y)}function Hx(i,a,c){var p=a.pendingProps,y=p.revealOrder,_=p.tail;if(On(i,a,p.children,c),p=Pt.current,(p&2)!==0)p=p&1|2,a.flags|=128;else{if(i!==null&&(i.flags&128)!==0)e:for(i=a.child;i!==null;){if(i.tag===13)i.memoizedState!==null&&Wx(i,c,a);else if(i.tag===19)Wx(i,c,a);else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===a)break e;for(;i.sibling===null;){if(i.return===null||i.return===a)break e;i=i.return}i.sibling.return=i.return,i=i.sibling}p&=1}if(Et(Pt,p),(a.mode&1)===0)a.memoizedState=null;else switch(y){case"forwards":for(c=a.child,y=null;c!==null;)i=c.alternate,i!==null&&sh(i)===null&&(y=c),c=c.sibling;c=y,c===null?(y=a.child,a.child=null):(y=c.sibling,c.sibling=null),Zm(a,!1,y,c,_);break;case"backwards":for(c=null,y=a.child,a.child=null;y!==null;){if(i=y.alternate,i!==null&&sh(i)===null){a.child=y;break}i=y.sibling,y.sibling=c,c=y,y=i}Zm(a,!0,c,null,_);break;case"together":Zm(a,!1,null,null,void 0);break;default:a.memoizedState=null}return a.child}function hh(i,a){(a.mode&1)===0&&i!==null&&(i.alternate=null,a.alternate=null,a.flags|=2)}function li(i,a,c){if(i!==null&&(a.dependencies=i.dependencies),ta|=a.lanes,(c&a.childLanes)===0)return null;if(i!==null&&a.child!==i.child)throw Error(t(153));if(a.child!==null){for(i=a.child,c=qi(i,i.pendingProps),a.child=c,c.return=a;i.sibling!==null;)i=i.sibling,c=c.sibling=qi(i,i.pendingProps),c.return=a;c.sibling=null}return a.child}function Ik(i,a,c){switch(a.tag){case 3:$x(a),ul();break;case 5:ix(a);break;case 1:Bn(a.type)&&Kd(a);break;case 4:Pm(a,a.stateNode.containerInfo);break;case 10:var p=a.type._context,y=a.memoizedProps.value;Et(eh,p._currentValue),p._currentValue=y;break;case 13:if(p=a.memoizedState,p!==null)return p.dehydrated!==null?(Et(Pt,Pt.current&1),a.flags|=128,null):(c&a.child.childLanes)!==0?zx(i,a,c):(Et(Pt,Pt.current&1),i=li(i,a,c),i!==null?i.sibling:null);Et(Pt,Pt.current&1);break;case 19:if(p=(c&a.childLanes)!==0,(i.flags&128)!==0){if(p)return Hx(i,a,c);a.flags|=128}if(y=a.memoizedState,y!==null&&(y.rendering=null,y.tail=null,y.lastEffect=null),Et(Pt,Pt.current),p)break;return null;case 22:case 23:return a.lanes=0,Vx(i,a,c)}return li(i,a,c)}var qx,eg,Gx,Kx;qx=function(i,a){for(var c=a.child;c!==null;){if(c.tag===5||c.tag===6)i.appendChild(c.stateNode);else if(c.tag!==4&&c.child!==null){c.child.return=c,c=c.child;continue}if(c===a)break;for(;c.sibling===null;){if(c.return===null||c.return===a)return;c=c.return}c.sibling.return=c.return,c=c.sibling}},eg=function(){},Gx=function(i,a,c,p){var y=i.memoizedProps;if(y!==p){i=a.stateNode,Zo(bs.current);var _=null;switch(c){case"input":y=xn(i,y),p=xn(i,p),_=[];break;case"select":y=ie({},y,{value:void 0}),p=ie({},p,{value:void 0}),_=[];break;case"textarea":y=Si(i,y),p=Si(i,p),_=[];break;default:typeof y.onClick!="function"&&typeof p.onClick=="function"&&(i.onclick=Hd)}nn(c,p);var A;c=null;for(J in y)if(!p.hasOwnProperty(J)&&y.hasOwnProperty(J)&&y[J]!=null)if(J==="style"){var U=y[J];for(A in U)U.hasOwnProperty(A)&&(c||(c={}),c[A]="")}else J!=="dangerouslySetInnerHTML"&&J!=="children"&&J!=="suppressContentEditableWarning"&&J!=="suppressHydrationWarning"&&J!=="autoFocus"&&(s.hasOwnProperty(J)?_||(_=[]):(_=_||[]).push(J,null));for(J in p){var $=p[J];if(U=y?.[J],p.hasOwnProperty(J)&&$!==U&&($!=null||U!=null))if(J==="style")if(U){for(A in U)!U.hasOwnProperty(A)||$&&$.hasOwnProperty(A)||(c||(c={}),c[A]="");for(A in $)$.hasOwnProperty(A)&&U[A]!==$[A]&&(c||(c={}),c[A]=$[A])}else c||(_||(_=[]),_.push(J,c)),c=$;else J==="dangerouslySetInnerHTML"?($=$?$.__html:void 0,U=U?U.__html:void 0,$!=null&&U!==$&&(_=_||[]).push(J,$)):J==="children"?typeof $!="string"&&typeof $!="number"||(_=_||[]).push(J,""+$):J!=="suppressContentEditableWarning"&&J!=="suppressHydrationWarning"&&(s.hasOwnProperty(J)?($!=null&&J==="onScroll"&&Tt("scroll",i),_||U===$||(_=[])):(_=_||[]).push(J,$))}c&&(_=_||[]).push("style",c);var J=_;(a.updateQueue=J)&&(a.flags|=4)}},Kx=function(i,a,c,p){c!==p&&(a.flags|=4)};function qc(i,a){if(!At)switch(i.tailMode){case"hidden":a=i.tail;for(var c=null;a!==null;)a.alternate!==null&&(c=a),a=a.sibling;c===null?i.tail=null:c.sibling=null;break;case"collapsed":c=i.tail;for(var p=null;c!==null;)c.alternate!==null&&(p=c),c=c.sibling;p===null?a||i.tail===null?i.tail=null:i.tail.sibling=null:p.sibling=null}}function Rn(i){var a=i.alternate!==null&&i.alternate.child===i.child,c=0,p=0;if(a)for(var y=i.child;y!==null;)c|=y.lanes|y.childLanes,p|=y.subtreeFlags&14680064,p|=y.flags&14680064,y.return=i,y=y.sibling;else for(y=i.child;y!==null;)c|=y.lanes|y.childLanes,p|=y.subtreeFlags,p|=y.flags,y.return=i,y=y.sibling;return i.subtreeFlags|=p,i.childLanes=c,a}function Rk(i,a,c){var p=a.pendingProps;switch(Em(a),a.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Rn(a),null;case 1:return Bn(a.type)&&Gd(),Rn(a),null;case 3:return p=a.stateNode,pl(),St($n),St(Cn),Om(),p.pendingContext&&(p.context=p.pendingContext,p.pendingContext=null),(i===null||i.child===null)&&(Jd(a)?a.flags|=4:i===null||i.memoizedState.isDehydrated&&(a.flags&256)===0||(a.flags|=1024,Ur!==null&&(dg(Ur),Ur=null))),eg(i,a),Rn(a),null;case 5:jm(a);var y=Zo($c.current);if(c=a.type,i!==null&&a.stateNode!=null)Gx(i,a,c,p,y),i.ref!==a.ref&&(a.flags|=512,a.flags|=2097152);else{if(!p){if(a.stateNode===null)throw Error(t(166));return Rn(a),null}if(i=Zo(bs.current),Jd(a)){p=a.stateNode,c=a.type;var _=a.memoizedProps;switch(p[Es]=a,p[Mc]=_,i=(a.mode&1)!==0,c){case"dialog":Tt("cancel",p),Tt("close",p);break;case"iframe":case"object":case"embed":Tt("load",p);break;case"video":case"audio":for(y=0;y<jc.length;y++)Tt(jc[y],p);break;case"source":Tt("error",p);break;case"img":case"image":case"link":Tt("error",p),Tt("load",p);break;case"details":Tt("toggle",p);break;case"input":rs(p,_),Tt("invalid",p);break;case"select":p._wrapperState={wasMultiple:!!_.multiple},Tt("invalid",p);break;case"textarea":er(p,_),Tt("invalid",p)}nn(c,_),y=null;for(var A in _)if(_.hasOwnProperty(A)){var U=_[A];A==="children"?typeof U=="string"?p.textContent!==U&&(_.suppressHydrationWarning!==!0&&Wd(p.textContent,U,i),y=["children",U]):typeof U=="number"&&p.textContent!==""+U&&(_.suppressHydrationWarning!==!0&&Wd(p.textContent,U,i),y=["children",""+U]):s.hasOwnProperty(A)&&U!=null&&A==="onScroll"&&Tt("scroll",p)}switch(c){case"input":Ze(p),qs(p,_,!0);break;case"textarea":Ze(p),ss(p);break;case"select":case"option":break;default:typeof _.onClick=="function"&&(p.onclick=Hd)}p=y,a.updateQueue=p,p!==null&&(a.flags|=4)}else{A=y.nodeType===9?y:y.ownerDocument,i==="http://www.w3.org/1999/xhtml"&&(i=tn(c)),i==="http://www.w3.org/1999/xhtml"?c==="script"?(i=A.createElement("div"),i.innerHTML="<script><\/script>",i=i.removeChild(i.firstChild)):typeof p.is=="string"?i=A.createElement(c,{is:p.is}):(i=A.createElement(c),c==="select"&&(A=i,p.multiple?A.multiple=!0:p.size&&(A.size=p.size))):i=A.createElementNS(i,c),i[Es]=a,i[Mc]=p,qx(i,a,!1,!1),a.stateNode=i;e:{switch(A=Ii(c,p),c){case"dialog":Tt("cancel",i),Tt("close",i),y=p;break;case"iframe":case"object":case"embed":Tt("load",i),y=p;break;case"video":case"audio":for(y=0;y<jc.length;y++)Tt(jc[y],i);y=p;break;case"source":Tt("error",i),y=p;break;case"img":case"image":case"link":Tt("error",i),Tt("load",i),y=p;break;case"details":Tt("toggle",i),y=p;break;case"input":rs(i,p),y=xn(i,p),Tt("invalid",i);break;case"option":y=p;break;case"select":i._wrapperState={wasMultiple:!!p.multiple},y=ie({},p,{value:void 0}),Tt("invalid",i);break;case"textarea":er(i,p),y=Si(i,p),Tt("invalid",i);break;default:y=p}nn(c,y),U=y;for(_ in U)if(U.hasOwnProperty(_)){var $=U[_];_==="style"?nr(i,$):_==="dangerouslySetInnerHTML"?($=$?$.__html:void 0,$!=null&&Va(i,$)):_==="children"?typeof $=="string"?(c!=="textarea"||$!=="")&&wr(i,$):typeof $=="number"&&wr(i,""+$):_!=="suppressContentEditableWarning"&&_!=="suppressHydrationWarning"&&_!=="autoFocus"&&(s.hasOwnProperty(_)?$!=null&&_==="onScroll"&&Tt("scroll",i):$!=null&&V(i,_,$,A))}switch(c){case"input":Ze(i),qs(i,p,!1);break;case"textarea":Ze(i),ss(i);break;case"option":p.value!=null&&i.setAttribute("value",""+Se(p.value));break;case"select":i.multiple=!!p.multiple,_=p.value,_!=null?dn(i,!!p.multiple,_,!1):p.defaultValue!=null&&dn(i,!!p.multiple,p.defaultValue,!0);break;default:typeof y.onClick=="function"&&(i.onclick=Hd)}switch(c){case"button":case"input":case"select":case"textarea":p=!!p.autoFocus;break e;case"img":p=!0;break e;default:p=!1}}p&&(a.flags|=4)}a.ref!==null&&(a.flags|=512,a.flags|=2097152)}return Rn(a),null;case 6:if(i&&a.stateNode!=null)Kx(i,a,i.memoizedProps,p);else{if(typeof p!="string"&&a.stateNode===null)throw Error(t(166));if(c=Zo($c.current),Zo(bs.current),Jd(a)){if(p=a.stateNode,c=a.memoizedProps,p[Es]=a,(_=p.nodeValue!==c)&&(i=ur,i!==null))switch(i.tag){case 3:Wd(p.nodeValue,c,(i.mode&1)!==0);break;case 5:i.memoizedProps.suppressHydrationWarning!==!0&&Wd(p.nodeValue,c,(i.mode&1)!==0)}_&&(a.flags|=4)}else p=(c.nodeType===9?c:c.ownerDocument).createTextNode(p),p[Es]=a,a.stateNode=p}return Rn(a),null;case 13:if(St(Pt),p=a.memoizedState,i===null||i.memoizedState!==null&&i.memoizedState.dehydrated!==null){if(At&&dr!==null&&(a.mode&1)!==0&&(a.flags&128)===0)Xw(),ul(),a.flags|=98560,_=!1;else if(_=Jd(a),p!==null&&p.dehydrated!==null){if(i===null){if(!_)throw Error(t(318));if(_=a.memoizedState,_=_!==null?_.dehydrated:null,!_)throw Error(t(317));_[Es]=a}else ul(),(a.flags&128)===0&&(a.memoizedState=null),a.flags|=4;Rn(a),_=!1}else Ur!==null&&(dg(Ur),Ur=null),_=!0;if(!_)return a.flags&65536?a:null}return(a.flags&128)!==0?(a.lanes=c,a):(p=p!==null,p!==(i!==null&&i.memoizedState!==null)&&p&&(a.child.flags|=8192,(a.mode&1)!==0&&(i===null||(Pt.current&1)!==0?Zt===0&&(Zt=3):pg())),a.updateQueue!==null&&(a.flags|=4),Rn(a),null);case 4:return pl(),eg(i,a),i===null&&Dc(a.stateNode.containerInfo),Rn(a),null;case 10:return Rm(a.type._context),Rn(a),null;case 17:return Bn(a.type)&&Gd(),Rn(a),null;case 19:if(St(Pt),_=a.memoizedState,_===null)return Rn(a),null;if(p=(a.flags&128)!==0,A=_.rendering,A===null)if(p)qc(_,!1);else{if(Zt!==0||i!==null&&(i.flags&128)!==0)for(i=a.child;i!==null;){if(A=sh(i),A!==null){for(a.flags|=128,qc(_,!1),p=A.updateQueue,p!==null&&(a.updateQueue=p,a.flags|=4),a.subtreeFlags=0,p=c,c=a.child;c!==null;)_=c,i=p,_.flags&=14680066,A=_.alternate,A===null?(_.childLanes=0,_.lanes=i,_.child=null,_.subtreeFlags=0,_.memoizedProps=null,_.memoizedState=null,_.updateQueue=null,_.dependencies=null,_.stateNode=null):(_.childLanes=A.childLanes,_.lanes=A.lanes,_.child=A.child,_.subtreeFlags=0,_.deletions=null,_.memoizedProps=A.memoizedProps,_.memoizedState=A.memoizedState,_.updateQueue=A.updateQueue,_.type=A.type,i=A.dependencies,_.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),c=c.sibling;return Et(Pt,Pt.current&1|2),a.child}i=i.sibling}_.tail!==null&&bt()>vl&&(a.flags|=128,p=!0,qc(_,!1),a.lanes=4194304)}else{if(!p)if(i=sh(A),i!==null){if(a.flags|=128,p=!0,c=i.updateQueue,c!==null&&(a.updateQueue=c,a.flags|=4),qc(_,!0),_.tail===null&&_.tailMode==="hidden"&&!A.alternate&&!At)return Rn(a),null}else 2*bt()-_.renderingStartTime>vl&&c!==1073741824&&(a.flags|=128,p=!0,qc(_,!1),a.lanes=4194304);_.isBackwards?(A.sibling=a.child,a.child=A):(c=_.last,c!==null?c.sibling=A:a.child=A,_.last=A)}return _.tail!==null?(a=_.tail,_.rendering=a,_.tail=a.sibling,_.renderingStartTime=bt(),a.sibling=null,c=Pt.current,Et(Pt,p?c&1|2:c&1),a):(Rn(a),null);case 22:case 23:return fg(),p=a.memoizedState!==null,i!==null&&i.memoizedState!==null!==p&&(a.flags|=8192),p&&(a.mode&1)!==0?(hr&1073741824)!==0&&(Rn(a),a.subtreeFlags&6&&(a.flags|=8192)):Rn(a),null;case 24:return null;case 25:return null}throw Error(t(156,a.tag))}function Nk(i,a){switch(Em(a),a.tag){case 1:return Bn(a.type)&&Gd(),i=a.flags,i&65536?(a.flags=i&-65537|128,a):null;case 3:return pl(),St($n),St(Cn),Om(),i=a.flags,(i&65536)!==0&&(i&128)===0?(a.flags=i&-65537|128,a):null;case 5:return jm(a),null;case 13:if(St(Pt),i=a.memoizedState,i!==null&&i.dehydrated!==null){if(a.alternate===null)throw Error(t(340));ul()}return i=a.flags,i&65536?(a.flags=i&-65537|128,a):null;case 19:return St(Pt),null;case 4:return pl(),null;case 10:return Rm(a.type._context),null;case 22:case 23:return fg(),null;case 24:return null;default:return null}}var fh=!1,Nn=!1,Ak=typeof WeakSet=="function"?WeakSet:Set,be=null;function gl(i,a){var c=i.ref;if(c!==null)if(typeof c=="function")try{c(null)}catch(p){Vt(i,a,p)}else c.current=null}function tg(i,a,c){try{c()}catch(p){Vt(i,a,p)}}var Qx=!1;function kk(i,a){if(fm=Zs,i=Iw(),im(i)){if("selectionStart"in i)var c={start:i.selectionStart,end:i.selectionEnd};else e:{c=(c=i.ownerDocument)&&c.defaultView||window;var p=c.getSelection&&c.getSelection();if(p&&p.rangeCount!==0){c=p.anchorNode;var y=p.anchorOffset,_=p.focusNode;p=p.focusOffset;try{c.nodeType,_.nodeType}catch{c=null;break e}var A=0,U=-1,$=-1,J=0,ae=0,le=i,oe=null;t:for(;;){for(var _e;le!==c||y!==0&&le.nodeType!==3||(U=A+y),le!==_||p!==0&&le.nodeType!==3||($=A+p),le.nodeType===3&&(A+=le.nodeValue.length),(_e=le.firstChild)!==null;)oe=le,le=_e;for(;;){if(le===i)break t;if(oe===c&&++J===y&&(U=A),oe===_&&++ae===p&&($=A),(_e=le.nextSibling)!==null)break;le=oe,oe=le.parentNode}le=_e}c=U===-1||$===-1?null:{start:U,end:$}}else c=null}c=c||{start:0,end:0}}else c=null;for(pm={focusedElem:i,selectionRange:c},Zs=!1,be=a;be!==null;)if(a=be,i=a.child,(a.subtreeFlags&1028)!==0&&i!==null)i.return=a,be=i;else for(;be!==null;){a=be;try{var Te=a.alternate;if((a.flags&1024)!==0)switch(a.tag){case 0:case 11:case 15:break;case 1:if(Te!==null){var Ce=Te.memoizedProps,$t=Te.memoizedState,G=a.stateNode,W=G.getSnapshotBeforeUpdate(a.elementType===a.type?Ce:$r(a.type,Ce),$t);G.__reactInternalSnapshotBeforeUpdate=W}break;case 3:var Y=a.stateNode.containerInfo;Y.nodeType===1?Y.textContent="":Y.nodeType===9&&Y.documentElement&&Y.removeChild(Y.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(t(163))}}catch(ce){Vt(a,a.return,ce)}if(i=a.sibling,i!==null){i.return=a.return,be=i;break}be=a.return}return Te=Qx,Qx=!1,Te}function Gc(i,a,c){var p=a.updateQueue;if(p=p!==null?p.lastEffect:null,p!==null){var y=p=p.next;do{if((y.tag&i)===i){var _=y.destroy;y.destroy=void 0,_!==void 0&&tg(a,c,_)}y=y.next}while(y!==p)}}function ph(i,a){if(a=a.updateQueue,a=a!==null?a.lastEffect:null,a!==null){var c=a=a.next;do{if((c.tag&i)===i){var p=c.create;c.destroy=p()}c=c.next}while(c!==a)}}function ng(i){var a=i.ref;if(a!==null){var c=i.stateNode;i.tag,i=c,typeof a=="function"?a(i):a.current=i}}function Yx(i){var a=i.alternate;a!==null&&(i.alternate=null,Yx(a)),i.child=null,i.deletions=null,i.sibling=null,i.tag===5&&(a=i.stateNode,a!==null&&(delete a[Es],delete a[Mc],delete a[vm],delete a[fk],delete a[pk])),i.stateNode=null,i.return=null,i.dependencies=null,i.memoizedProps=null,i.memoizedState=null,i.pendingProps=null,i.stateNode=null,i.updateQueue=null}function Xx(i){return i.tag===5||i.tag===3||i.tag===4}function Jx(i){e:for(;;){for(;i.sibling===null;){if(i.return===null||Xx(i.return))return null;i=i.return}for(i.sibling.return=i.return,i=i.sibling;i.tag!==5&&i.tag!==6&&i.tag!==18;){if(i.flags&2||i.child===null||i.tag===4)continue e;i.child.return=i,i=i.child}if(!(i.flags&2))return i.stateNode}}function rg(i,a,c){var p=i.tag;if(p===5||p===6)i=i.stateNode,a?c.nodeType===8?c.parentNode.insertBefore(i,a):c.insertBefore(i,a):(c.nodeType===8?(a=c.parentNode,a.insertBefore(i,c)):(a=c,a.appendChild(i)),c=c._reactRootContainer,c!=null||a.onclick!==null||(a.onclick=Hd));else if(p!==4&&(i=i.child,i!==null))for(rg(i,a,c),i=i.sibling;i!==null;)rg(i,a,c),i=i.sibling}function sg(i,a,c){var p=i.tag;if(p===5||p===6)i=i.stateNode,a?c.insertBefore(i,a):c.appendChild(i);else if(p!==4&&(i=i.child,i!==null))for(sg(i,a,c),i=i.sibling;i!==null;)sg(i,a,c),i=i.sibling}var pn=null,Br=!1;function $i(i,a,c){for(c=c.child;c!==null;)Zx(i,a,c),c=c.sibling}function Zx(i,a,c){if(sr&&typeof sr.onCommitFiberUnmount=="function")try{sr.onCommitFiberUnmount(Fo,c)}catch{}switch(c.tag){case 5:Nn||gl(c,a);case 6:var p=pn,y=Br;pn=null,$i(i,a,c),pn=p,Br=y,pn!==null&&(Br?(i=pn,c=c.stateNode,i.nodeType===8?i.parentNode.removeChild(c):i.removeChild(c)):pn.removeChild(c.stateNode));break;case 18:pn!==null&&(Br?(i=pn,c=c.stateNode,i.nodeType===8?ym(i.parentNode,c):i.nodeType===1&&ym(i,c),ki(i)):ym(pn,c.stateNode));break;case 4:p=pn,y=Br,pn=c.stateNode.containerInfo,Br=!0,$i(i,a,c),pn=p,Br=y;break;case 0:case 11:case 14:case 15:if(!Nn&&(p=c.updateQueue,p!==null&&(p=p.lastEffect,p!==null))){y=p=p.next;do{var _=y,A=_.destroy;_=_.tag,A!==void 0&&((_&2)!==0||(_&4)!==0)&&tg(c,a,A),y=y.next}while(y!==p)}$i(i,a,c);break;case 1:if(!Nn&&(gl(c,a),p=c.stateNode,typeof p.componentWillUnmount=="function"))try{p.props=c.memoizedProps,p.state=c.memoizedState,p.componentWillUnmount()}catch(U){Vt(c,a,U)}$i(i,a,c);break;case 21:$i(i,a,c);break;case 22:c.mode&1?(Nn=(p=Nn)||c.memoizedState!==null,$i(i,a,c),Nn=p):$i(i,a,c);break;default:$i(i,a,c)}}function e0(i){var a=i.updateQueue;if(a!==null){i.updateQueue=null;var c=i.stateNode;c===null&&(c=i.stateNode=new Ak),a.forEach(function(p){var y=Uk.bind(null,i,p);c.has(p)||(c.add(p),p.then(y,y))})}}function zr(i,a){var c=a.deletions;if(c!==null)for(var p=0;p<c.length;p++){var y=c[p];try{var _=i,A=a,U=A;e:for(;U!==null;){switch(U.tag){case 5:pn=U.stateNode,Br=!1;break e;case 3:pn=U.stateNode.containerInfo,Br=!0;break e;case 4:pn=U.stateNode.containerInfo,Br=!0;break e}U=U.return}if(pn===null)throw Error(t(160));Zx(_,A,y),pn=null,Br=!1;var $=y.alternate;$!==null&&($.return=null),y.return=null}catch(J){Vt(y,a,J)}}if(a.subtreeFlags&12854)for(a=a.child;a!==null;)t0(a,i),a=a.sibling}function t0(i,a){var c=i.alternate,p=i.flags;switch(i.tag){case 0:case 11:case 14:case 15:if(zr(a,i),Ss(i),p&4){try{Gc(3,i,i.return),ph(3,i)}catch(Ce){Vt(i,i.return,Ce)}try{Gc(5,i,i.return)}catch(Ce){Vt(i,i.return,Ce)}}break;case 1:zr(a,i),Ss(i),p&512&&c!==null&&gl(c,c.return);break;case 5:if(zr(a,i),Ss(i),p&512&&c!==null&&gl(c,c.return),i.flags&32){var y=i.stateNode;try{wr(y,"")}catch(Ce){Vt(i,i.return,Ce)}}if(p&4&&(y=i.stateNode,y!=null)){var _=i.memoizedProps,A=c!==null?c.memoizedProps:_,U=i.type,$=i.updateQueue;if(i.updateQueue=null,$!==null)try{U==="input"&&_.type==="radio"&&_.name!=null&&Jn(y,_),Ii(U,A);var J=Ii(U,_);for(A=0;A<$.length;A+=2){var ae=$[A],le=$[A+1];ae==="style"?nr(y,le):ae==="dangerouslySetInnerHTML"?Va(y,le):ae==="children"?wr(y,le):V(y,ae,le,J)}switch(U){case"input":Zn(y,_);break;case"textarea":La(y,_);break;case"select":var oe=y._wrapperState.wasMultiple;y._wrapperState.wasMultiple=!!_.multiple;var _e=_.value;_e!=null?dn(y,!!_.multiple,_e,!1):oe!==!!_.multiple&&(_.defaultValue!=null?dn(y,!!_.multiple,_.defaultValue,!0):dn(y,!!_.multiple,_.multiple?[]:"",!1))}y[Mc]=_}catch(Ce){Vt(i,i.return,Ce)}}break;case 6:if(zr(a,i),Ss(i),p&4){if(i.stateNode===null)throw Error(t(162));y=i.stateNode,_=i.memoizedProps;try{y.nodeValue=_}catch(Ce){Vt(i,i.return,Ce)}}break;case 3:if(zr(a,i),Ss(i),p&4&&c!==null&&c.memoizedState.isDehydrated)try{ki(a.containerInfo)}catch(Ce){Vt(i,i.return,Ce)}break;case 4:zr(a,i),Ss(i);break;case 13:zr(a,i),Ss(i),y=i.child,y.flags&8192&&(_=y.memoizedState!==null,y.stateNode.isHidden=_,!_||y.alternate!==null&&y.alternate.memoizedState!==null||(ag=bt())),p&4&&e0(i);break;case 22:if(ae=c!==null&&c.memoizedState!==null,i.mode&1?(Nn=(J=Nn)||ae,zr(a,i),Nn=J):zr(a,i),Ss(i),p&8192){if(J=i.memoizedState!==null,(i.stateNode.isHidden=J)&&!ae&&(i.mode&1)!==0)for(be=i,ae=i.child;ae!==null;){for(le=be=ae;be!==null;){switch(oe=be,_e=oe.child,oe.tag){case 0:case 11:case 14:case 15:Gc(4,oe,oe.return);break;case 1:gl(oe,oe.return);var Te=oe.stateNode;if(typeof Te.componentWillUnmount=="function"){p=oe,c=oe.return;try{a=p,Te.props=a.memoizedProps,Te.state=a.memoizedState,Te.componentWillUnmount()}catch(Ce){Vt(p,c,Ce)}}break;case 5:gl(oe,oe.return);break;case 22:if(oe.memoizedState!==null){s0(le);continue}}_e!==null?(_e.return=oe,be=_e):s0(le)}ae=ae.sibling}e:for(ae=null,le=i;;){if(le.tag===5){if(ae===null){ae=le;try{y=le.stateNode,J?(_=y.style,typeof _.setProperty=="function"?_.setProperty("display","none","important"):_.display="none"):(U=le.stateNode,$=le.memoizedProps.style,A=$!=null&&$.hasOwnProperty("display")?$.display:null,U.style.display=xr("display",A))}catch(Ce){Vt(i,i.return,Ce)}}}else if(le.tag===6){if(ae===null)try{le.stateNode.nodeValue=J?"":le.memoizedProps}catch(Ce){Vt(i,i.return,Ce)}}else if((le.tag!==22&&le.tag!==23||le.memoizedState===null||le===i)&&le.child!==null){le.child.return=le,le=le.child;continue}if(le===i)break e;for(;le.sibling===null;){if(le.return===null||le.return===i)break e;ae===le&&(ae=null),le=le.return}ae===le&&(ae=null),le.sibling.return=le.return,le=le.sibling}}break;case 19:zr(a,i),Ss(i),p&4&&e0(i);break;case 21:break;default:zr(a,i),Ss(i)}}function Ss(i){var a=i.flags;if(a&2){try{e:{for(var c=i.return;c!==null;){if(Xx(c)){var p=c;break e}c=c.return}throw Error(t(160))}switch(p.tag){case 5:var y=p.stateNode;p.flags&32&&(wr(y,""),p.flags&=-33);var _=Jx(i);sg(i,_,y);break;case 3:case 4:var A=p.stateNode.containerInfo,U=Jx(i);rg(i,U,A);break;default:throw Error(t(161))}}catch($){Vt(i,i.return,$)}i.flags&=-3}a&4096&&(i.flags&=-4097)}function Pk(i,a,c){be=i,n0(i)}function n0(i,a,c){for(var p=(i.mode&1)!==0;be!==null;){var y=be,_=y.child;if(y.tag===22&&p){var A=y.memoizedState!==null||fh;if(!A){var U=y.alternate,$=U!==null&&U.memoizedState!==null||Nn;U=fh;var J=Nn;if(fh=A,(Nn=$)&&!J)for(be=y;be!==null;)A=be,$=A.child,A.tag===22&&A.memoizedState!==null?i0(y):$!==null?($.return=A,be=$):i0(y);for(;_!==null;)be=_,n0(_),_=_.sibling;be=y,fh=U,Nn=J}r0(i)}else(y.subtreeFlags&8772)!==0&&_!==null?(_.return=y,be=_):r0(i)}}function r0(i){for(;be!==null;){var a=be;if((a.flags&8772)!==0){var c=a.alternate;try{if((a.flags&8772)!==0)switch(a.tag){case 0:case 11:case 15:Nn||ph(5,a);break;case 1:var p=a.stateNode;if(a.flags&4&&!Nn)if(c===null)p.componentDidMount();else{var y=a.elementType===a.type?c.memoizedProps:$r(a.type,c.memoizedProps);p.componentDidUpdate(y,c.memoizedState,p.__reactInternalSnapshotBeforeUpdate)}var _=a.updateQueue;_!==null&&sx(a,_,p);break;case 3:var A=a.updateQueue;if(A!==null){if(c=null,a.child!==null)switch(a.child.tag){case 5:c=a.child.stateNode;break;case 1:c=a.child.stateNode}sx(a,A,c)}break;case 5:var U=a.stateNode;if(c===null&&a.flags&4){c=U;var $=a.memoizedProps;switch(a.type){case"button":case"input":case"select":case"textarea":$.autoFocus&&c.focus();break;case"img":$.src&&(c.src=$.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(a.memoizedState===null){var J=a.alternate;if(J!==null){var ae=J.memoizedState;if(ae!==null){var le=ae.dehydrated;le!==null&&ki(le)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(t(163))}Nn||a.flags&512&&ng(a)}catch(oe){Vt(a,a.return,oe)}}if(a===i){be=null;break}if(c=a.sibling,c!==null){c.return=a.return,be=c;break}be=a.return}}function s0(i){for(;be!==null;){var a=be;if(a===i){be=null;break}var c=a.sibling;if(c!==null){c.return=a.return,be=c;break}be=a.return}}function i0(i){for(;be!==null;){var a=be;try{switch(a.tag){case 0:case 11:case 15:var c=a.return;try{ph(4,a)}catch($){Vt(a,c,$)}break;case 1:var p=a.stateNode;if(typeof p.componentDidMount=="function"){var y=a.return;try{p.componentDidMount()}catch($){Vt(a,y,$)}}var _=a.return;try{ng(a)}catch($){Vt(a,_,$)}break;case 5:var A=a.return;try{ng(a)}catch($){Vt(a,A,$)}}}catch($){Vt(a,a.return,$)}if(a===i){be=null;break}var U=a.sibling;if(U!==null){U.return=a.return,be=U;break}be=a.return}}var jk=Math.ceil,mh=B.ReactCurrentDispatcher,ig=B.ReactCurrentOwner,Nr=B.ReactCurrentBatchConfig,lt=0,sn=null,Ht=null,mn=0,hr=0,yl=Mi(0),Zt=0,Kc=null,ta=0,gh=0,og=0,Qc=null,Wn=null,ag=0,vl=1/0,ci=null,yh=!1,lg=null,Bi=null,vh=!1,zi=null,_h=0,Yc=0,cg=null,wh=-1,xh=0;function Mn(){return(lt&6)!==0?bt():wh!==-1?wh:wh=bt()}function Wi(i){return(i.mode&1)===0?1:(lt&2)!==0&&mn!==0?mn&-mn:gk.transition!==null?(xh===0&&(xh=yc()),xh):(i=rt,i!==0||(i=window.event,i=i===void 0?16:Ga(i.type)),i)}function Wr(i,a,c,p){if(50<Yc)throw Yc=0,cg=null,Error(t(185));zo(i,c,p),((lt&2)===0||i!==sn)&&(i===sn&&((lt&2)===0&&(gh|=c),Zt===4&&Hi(i,mn)),Hn(i,p),c===1&&lt===0&&(a.mode&1)===0&&(vl=bt()+500,Qd&&Vi()))}function Hn(i,a){var c=i.callbackNode;Bo(i,a);var p=Ys(i,i===sn?mn:0);if(p===0)c!==null&&Ua(c),i.callbackNode=null,i.callbackPriority=0;else if(a=p&-p,i.callbackPriority!==a){if(c!=null&&Ua(c),a===1)i.tag===0?mk(a0.bind(null,i)):qw(a0.bind(null,i)),dk(function(){(lt&6)===0&&Vi()}),c=null;else{switch(hs(p)){case 1:c=$a;break;case 4:c=pc;break;case 16:c=Vo;break;case 536870912:c=Ba;break;default:c=Vo}c=m0(c,o0.bind(null,i))}i.callbackPriority=a,i.callbackNode=c}}function o0(i,a){if(wh=-1,xh=0,(lt&6)!==0)throw Error(t(327));var c=i.callbackNode;if(_l()&&i.callbackNode!==c)return null;var p=Ys(i,i===sn?mn:0);if(p===0)return null;if((p&30)!==0||(p&i.expiredLanes)!==0||a)a=Eh(i,p);else{a=p;var y=lt;lt|=2;var _=c0();(sn!==i||mn!==a)&&(ci=null,vl=bt()+500,ra(i,a));do try{Mk();break}catch(U){l0(i,U)}while(!0);Im(),mh.current=_,lt=y,Ht!==null?a=0:(sn=null,mn=0,a=Zt)}if(a!==0){if(a===2&&(y=gc(i),y!==0&&(p=y,a=ug(i,y))),a===1)throw c=Kc,ra(i,0),Hi(i,p),Hn(i,bt()),c;if(a===6)Hi(i,p);else{if(y=i.current.alternate,(p&30)===0&&!Dk(y)&&(a=Eh(i,p),a===2&&(_=gc(i),_!==0&&(p=_,a=ug(i,_))),a===1))throw c=Kc,ra(i,0),Hi(i,p),Hn(i,bt()),c;switch(i.finishedWork=y,i.finishedLanes=p,a){case 0:case 1:throw Error(t(345));case 2:sa(i,Wn,ci);break;case 3:if(Hi(i,p),(p&130023424)===p&&(a=ag+500-bt(),10<a)){if(Ys(i,0)!==0)break;if(y=i.suspendedLanes,(y&p)!==p){Mn(),i.pingedLanes|=i.suspendedLanes&y;break}i.timeoutHandle=gm(sa.bind(null,i,Wn,ci),a);break}sa(i,Wn,ci);break;case 4:if(Hi(i,p),(p&4194240)===p)break;for(a=i.eventTimes,y=-1;0<p;){var A=31-ir(p);_=1<<A,A=a[A],A>y&&(y=A),p&=~_}if(p=y,p=bt()-p,p=(120>p?120:480>p?480:1080>p?1080:1920>p?1920:3e3>p?3e3:4320>p?4320:1960*jk(p/1960))-p,10<p){i.timeoutHandle=gm(sa.bind(null,i,Wn,ci),p);break}sa(i,Wn,ci);break;case 5:sa(i,Wn,ci);break;default:throw Error(t(329))}}}return Hn(i,bt()),i.callbackNode===c?o0.bind(null,i):null}function ug(i,a){var c=Qc;return i.current.memoizedState.isDehydrated&&(ra(i,a).flags|=256),i=Eh(i,a),i!==2&&(a=Wn,Wn=c,a!==null&&dg(a)),i}function dg(i){Wn===null?Wn=i:Wn.push.apply(Wn,i)}function Dk(i){for(var a=i;;){if(a.flags&16384){var c=a.updateQueue;if(c!==null&&(c=c.stores,c!==null))for(var p=0;p<c.length;p++){var y=c[p],_=y.getSnapshot;y=y.value;try{if(!Fr(_(),y))return!1}catch{return!1}}}if(c=a.child,a.subtreeFlags&16384&&c!==null)c.return=a,a=c;else{if(a===i)break;for(;a.sibling===null;){if(a.return===null||a.return===i)return!0;a=a.return}a.sibling.return=a.return,a=a.sibling}}return!0}function Hi(i,a){for(a&=~og,a&=~gh,i.suspendedLanes|=a,i.pingedLanes&=~a,i=i.expirationTimes;0<a;){var c=31-ir(a),p=1<<c;i[c]=-1,a&=~p}}function a0(i){if((lt&6)!==0)throw Error(t(327));_l();var a=Ys(i,0);if((a&1)===0)return Hn(i,bt()),null;var c=Eh(i,a);if(i.tag!==0&&c===2){var p=gc(i);p!==0&&(a=p,c=ug(i,p))}if(c===1)throw c=Kc,ra(i,0),Hi(i,a),Hn(i,bt()),c;if(c===6)throw Error(t(345));return i.finishedWork=i.current.alternate,i.finishedLanes=a,sa(i,Wn,ci),Hn(i,bt()),null}function hg(i,a){var c=lt;lt|=1;try{return i(a)}finally{lt=c,lt===0&&(vl=bt()+500,Qd&&Vi())}}function na(i){zi!==null&&zi.tag===0&&(lt&6)===0&&_l();var a=lt;lt|=1;var c=Nr.transition,p=rt;try{if(Nr.transition=null,rt=1,i)return i()}finally{rt=p,Nr.transition=c,lt=a,(lt&6)===0&&Vi()}}function fg(){hr=yl.current,St(yl)}function ra(i,a){i.finishedWork=null,i.finishedLanes=0;var c=i.timeoutHandle;if(c!==-1&&(i.timeoutHandle=-1,uk(c)),Ht!==null)for(c=Ht.return;c!==null;){var p=c;switch(Em(p),p.tag){case 1:p=p.type.childContextTypes,p!=null&&Gd();break;case 3:pl(),St($n),St(Cn),Om();break;case 5:jm(p);break;case 4:pl();break;case 13:St(Pt);break;case 19:St(Pt);break;case 10:Rm(p.type._context);break;case 22:case 23:fg()}c=c.return}if(sn=i,Ht=i=qi(i.current,null),mn=hr=a,Zt=0,Kc=null,og=gh=ta=0,Wn=Qc=null,Jo!==null){for(a=0;a<Jo.length;a++)if(c=Jo[a],p=c.interleaved,p!==null){c.interleaved=null;var y=p.next,_=c.pending;if(_!==null){var A=_.next;_.next=y,p.next=A}c.pending=p}Jo=null}return i}function l0(i,a){do{var c=Ht;try{if(Im(),ih.current=ch,oh){for(var p=jt.memoizedState;p!==null;){var y=p.queue;y!==null&&(y.pending=null),p=p.next}oh=!1}if(ea=0,rn=Jt=jt=null,Bc=!1,zc=0,ig.current=null,c===null||c.return===null){Zt=1,Kc=a,Ht=null;break}e:{var _=i,A=c.return,U=c,$=a;if(a=mn,U.flags|=32768,$!==null&&typeof $=="object"&&typeof $.then=="function"){var J=$,ae=U,le=ae.tag;if((ae.mode&1)===0&&(le===0||le===11||le===15)){var oe=ae.alternate;oe?(ae.updateQueue=oe.updateQueue,ae.memoizedState=oe.memoizedState,ae.lanes=oe.lanes):(ae.updateQueue=null,ae.memoizedState=null)}var _e=jx(A);if(_e!==null){_e.flags&=-257,Dx(_e,A,U,_,a),_e.mode&1&&Px(_,J,a),a=_e,$=J;var Te=a.updateQueue;if(Te===null){var Ce=new Set;Ce.add($),a.updateQueue=Ce}else Te.add($);break e}else{if((a&1)===0){Px(_,J,a),pg();break e}$=Error(t(426))}}else if(At&&U.mode&1){var $t=jx(A);if($t!==null){($t.flags&65536)===0&&($t.flags|=256),Dx($t,A,U,_,a),Sm(ml($,U));break e}}_=$=ml($,U),Zt!==4&&(Zt=2),Qc===null?Qc=[_]:Qc.push(_),_=A;do{switch(_.tag){case 3:_.flags|=65536,a&=-a,_.lanes|=a;var G=Ax(_,$,a);rx(_,G);break e;case 1:U=$;var W=_.type,Y=_.stateNode;if((_.flags&128)===0&&(typeof W.getDerivedStateFromError=="function"||Y!==null&&typeof Y.componentDidCatch=="function"&&(Bi===null||!Bi.has(Y)))){_.flags|=65536,a&=-a,_.lanes|=a;var ce=kx(_,U,a);rx(_,ce);break e}}_=_.return}while(_!==null)}d0(c)}catch(Ne){a=Ne,Ht===c&&c!==null&&(Ht=c=c.return);continue}break}while(!0)}function c0(){var i=mh.current;return mh.current=ch,i===null?ch:i}function pg(){(Zt===0||Zt===3||Zt===2)&&(Zt=4),sn===null||(ta&268435455)===0&&(gh&268435455)===0||Hi(sn,mn)}function Eh(i,a){var c=lt;lt|=2;var p=c0();(sn!==i||mn!==a)&&(ci=null,ra(i,a));do try{Ok();break}catch(y){l0(i,y)}while(!0);if(Im(),lt=c,mh.current=p,Ht!==null)throw Error(t(261));return sn=null,mn=0,Zt}function Ok(){for(;Ht!==null;)u0(Ht)}function Mk(){for(;Ht!==null&&!Lo();)u0(Ht)}function u0(i){var a=p0(i.alternate,i,hr);i.memoizedProps=i.pendingProps,a===null?d0(i):Ht=a,ig.current=null}function d0(i){var a=i;do{var c=a.alternate;if(i=a.return,(a.flags&32768)===0){if(c=Rk(c,a,hr),c!==null){Ht=c;return}}else{if(c=Nk(c,a),c!==null){c.flags&=32767,Ht=c;return}if(i!==null)i.flags|=32768,i.subtreeFlags=0,i.deletions=null;else{Zt=6,Ht=null;return}}if(a=a.sibling,a!==null){Ht=a;return}Ht=a=i}while(a!==null);Zt===0&&(Zt=5)}function sa(i,a,c){var p=rt,y=Nr.transition;try{Nr.transition=null,rt=1,Lk(i,a,c,p)}finally{Nr.transition=y,rt=p}return null}function Lk(i,a,c,p){do _l();while(zi!==null);if((lt&6)!==0)throw Error(t(327));c=i.finishedWork;var y=i.finishedLanes;if(c===null)return null;if(i.finishedWork=null,i.finishedLanes=0,c===i.current)throw Error(t(177));i.callbackNode=null,i.callbackPriority=0;var _=c.lanes|c.childLanes;if(em(i,_),i===sn&&(Ht=sn=null,mn=0),(c.subtreeFlags&2064)===0&&(c.flags&2064)===0||vh||(vh=!0,m0(Vo,function(){return _l(),null})),_=(c.flags&15990)!==0,(c.subtreeFlags&15990)!==0||_){_=Nr.transition,Nr.transition=null;var A=rt;rt=1;var U=lt;lt|=4,ig.current=null,kk(i,c),t0(c,i),rk(pm),Zs=!!fm,pm=fm=null,i.current=c,Pk(c),Qs(),lt=U,rt=A,Nr.transition=_}else i.current=c;if(vh&&(vh=!1,zi=i,_h=y),_=i.pendingLanes,_===0&&(Bi=null),Nd(c.stateNode),Hn(i,bt()),a!==null)for(p=i.onRecoverableError,c=0;c<a.length;c++)y=a[c],p(y.value,{componentStack:y.stack,digest:y.digest});if(yh)throw yh=!1,i=lg,lg=null,i;return(_h&1)!==0&&i.tag!==0&&_l(),_=i.pendingLanes,(_&1)!==0?i===cg?Yc++:(Yc=0,cg=i):Yc=0,Vi(),null}function _l(){if(zi!==null){var i=hs(_h),a=Nr.transition,c=rt;try{if(Nr.transition=null,rt=16>i?16:i,zi===null)var p=!1;else{if(i=zi,zi=null,_h=0,(lt&6)!==0)throw Error(t(331));var y=lt;for(lt|=4,be=i.current;be!==null;){var _=be,A=_.child;if((be.flags&16)!==0){var U=_.deletions;if(U!==null){for(var $=0;$<U.length;$++){var J=U[$];for(be=J;be!==null;){var ae=be;switch(ae.tag){case 0:case 11:case 15:Gc(8,ae,_)}var le=ae.child;if(le!==null)le.return=ae,be=le;else for(;be!==null;){ae=be;var oe=ae.sibling,_e=ae.return;if(Yx(ae),ae===J){be=null;break}if(oe!==null){oe.return=_e,be=oe;break}be=_e}}}var Te=_.alternate;if(Te!==null){var Ce=Te.child;if(Ce!==null){Te.child=null;do{var $t=Ce.sibling;Ce.sibling=null,Ce=$t}while(Ce!==null)}}be=_}}if((_.subtreeFlags&2064)!==0&&A!==null)A.return=_,be=A;else e:for(;be!==null;){if(_=be,(_.flags&2048)!==0)switch(_.tag){case 0:case 11:case 15:Gc(9,_,_.return)}var G=_.sibling;if(G!==null){G.return=_.return,be=G;break e}be=_.return}}var W=i.current;for(be=W;be!==null;){A=be;var Y=A.child;if((A.subtreeFlags&2064)!==0&&Y!==null)Y.return=A,be=Y;else e:for(A=W;be!==null;){if(U=be,(U.flags&2048)!==0)try{switch(U.tag){case 0:case 11:case 15:ph(9,U)}}catch(Ne){Vt(U,U.return,Ne)}if(U===A){be=null;break e}var ce=U.sibling;if(ce!==null){ce.return=U.return,be=ce;break e}be=U.return}}if(lt=y,Vi(),sr&&typeof sr.onPostCommitFiberRoot=="function")try{sr.onPostCommitFiberRoot(Fo,i)}catch{}p=!0}return p}finally{rt=c,Nr.transition=a}}return!1}function h0(i,a,c){a=ml(c,a),a=Ax(i,a,1),i=Ui(i,a,1),a=Mn(),i!==null&&(zo(i,1,a),Hn(i,a))}function Vt(i,a,c){if(i.tag===3)h0(i,i,c);else for(;a!==null;){if(a.tag===3){h0(a,i,c);break}else if(a.tag===1){var p=a.stateNode;if(typeof a.type.getDerivedStateFromError=="function"||typeof p.componentDidCatch=="function"&&(Bi===null||!Bi.has(p))){i=ml(c,i),i=kx(a,i,1),a=Ui(a,i,1),i=Mn(),a!==null&&(zo(a,1,i),Hn(a,i));break}}a=a.return}}function Vk(i,a,c){var p=i.pingCache;p!==null&&p.delete(a),a=Mn(),i.pingedLanes|=i.suspendedLanes&c,sn===i&&(mn&c)===c&&(Zt===4||Zt===3&&(mn&130023424)===mn&&500>bt()-ag?ra(i,0):og|=c),Hn(i,a)}function f0(i,a){a===0&&((i.mode&1)===0?a=1:(a=Ri,Ri<<=1,(Ri&130023424)===0&&(Ri=4194304)));var c=Mn();i=oi(i,a),i!==null&&(zo(i,a,c),Hn(i,c))}function Fk(i){var a=i.memoizedState,c=0;a!==null&&(c=a.retryLane),f0(i,c)}function Uk(i,a){var c=0;switch(i.tag){case 13:var p=i.stateNode,y=i.memoizedState;y!==null&&(c=y.retryLane);break;case 19:p=i.stateNode;break;default:throw Error(t(314))}p!==null&&p.delete(a),f0(i,c)}var p0;p0=function(i,a,c){if(i!==null)if(i.memoizedProps!==a.pendingProps||$n.current)zn=!0;else{if((i.lanes&c)===0&&(a.flags&128)===0)return zn=!1,Ik(i,a,c);zn=(i.flags&131072)!==0}else zn=!1,At&&(a.flags&1048576)!==0&&Gw(a,Xd,a.index);switch(a.lanes=0,a.tag){case 2:var p=a.type;hh(i,a),i=a.pendingProps;var y=al(a,Cn.current);fl(a,c),y=Vm(null,a,p,i,y,c);var _=Fm();return a.flags|=1,typeof y=="object"&&y!==null&&typeof y.render=="function"&&y.$$typeof===void 0?(a.tag=1,a.memoizedState=null,a.updateQueue=null,Bn(p)?(_=!0,Kd(a)):_=!1,a.memoizedState=y.state!==null&&y.state!==void 0?y.state:null,km(a),y.updater=uh,a.stateNode=y,y._reactInternals=a,Hm(a,p,i,c),a=Qm(null,a,p,!0,_,c)):(a.tag=0,At&&_&&xm(a),On(null,a,y,c),a=a.child),a;case 16:p=a.elementType;e:{switch(hh(i,a),i=a.pendingProps,y=p._init,p=y(p._payload),a.type=p,y=a.tag=Bk(p),i=$r(p,i),y){case 0:a=Km(null,a,p,i,c);break e;case 1:a=Ux(null,a,p,i,c);break e;case 11:a=Ox(null,a,p,i,c);break e;case 14:a=Mx(null,a,p,$r(p.type,i),c);break e}throw Error(t(306,p,""))}return a;case 0:return p=a.type,y=a.pendingProps,y=a.elementType===p?y:$r(p,y),Km(i,a,p,y,c);case 1:return p=a.type,y=a.pendingProps,y=a.elementType===p?y:$r(p,y),Ux(i,a,p,y,c);case 3:e:{if($x(a),i===null)throw Error(t(387));p=a.pendingProps,_=a.memoizedState,y=_.element,nx(i,a),rh(a,p,null,c);var A=a.memoizedState;if(p=A.element,_.isDehydrated)if(_={element:p,isDehydrated:!1,cache:A.cache,pendingSuspenseBoundaries:A.pendingSuspenseBoundaries,transitions:A.transitions},a.updateQueue.baseState=_,a.memoizedState=_,a.flags&256){y=ml(Error(t(423)),a),a=Bx(i,a,p,c,y);break e}else if(p!==y){y=ml(Error(t(424)),a),a=Bx(i,a,p,c,y);break e}else for(dr=Oi(a.stateNode.containerInfo.firstChild),ur=a,At=!0,Ur=null,c=ex(a,null,p,c),a.child=c;c;)c.flags=c.flags&-3|4096,c=c.sibling;else{if(ul(),p===y){a=li(i,a,c);break e}On(i,a,p,c)}a=a.child}return a;case 5:return ix(a),i===null&&Tm(a),p=a.type,y=a.pendingProps,_=i!==null?i.memoizedProps:null,A=y.children,mm(p,y)?A=null:_!==null&&mm(p,_)&&(a.flags|=32),Fx(i,a),On(i,a,A,c),a.child;case 6:return i===null&&Tm(a),null;case 13:return zx(i,a,c);case 4:return Pm(a,a.stateNode.containerInfo),p=a.pendingProps,i===null?a.child=dl(a,null,p,c):On(i,a,p,c),a.child;case 11:return p=a.type,y=a.pendingProps,y=a.elementType===p?y:$r(p,y),Ox(i,a,p,y,c);case 7:return On(i,a,a.pendingProps,c),a.child;case 8:return On(i,a,a.pendingProps.children,c),a.child;case 12:return On(i,a,a.pendingProps.children,c),a.child;case 10:e:{if(p=a.type._context,y=a.pendingProps,_=a.memoizedProps,A=y.value,Et(eh,p._currentValue),p._currentValue=A,_!==null)if(Fr(_.value,A)){if(_.children===y.children&&!$n.current){a=li(i,a,c);break e}}else for(_=a.child,_!==null&&(_.return=a);_!==null;){var U=_.dependencies;if(U!==null){A=_.child;for(var $=U.firstContext;$!==null;){if($.context===p){if(_.tag===1){$=ai(-1,c&-c),$.tag=2;var J=_.updateQueue;if(J!==null){J=J.shared;var ae=J.pending;ae===null?$.next=$:($.next=ae.next,ae.next=$),J.pending=$}}_.lanes|=c,$=_.alternate,$!==null&&($.lanes|=c),Nm(_.return,c,a),U.lanes|=c;break}$=$.next}}else if(_.tag===10)A=_.type===a.type?null:_.child;else if(_.tag===18){if(A=_.return,A===null)throw Error(t(341));A.lanes|=c,U=A.alternate,U!==null&&(U.lanes|=c),Nm(A,c,a),A=_.sibling}else A=_.child;if(A!==null)A.return=_;else for(A=_;A!==null;){if(A===a){A=null;break}if(_=A.sibling,_!==null){_.return=A.return,A=_;break}A=A.return}_=A}On(i,a,y.children,c),a=a.child}return a;case 9:return y=a.type,p=a.pendingProps.children,fl(a,c),y=Ir(y),p=p(y),a.flags|=1,On(i,a,p,c),a.child;case 14:return p=a.type,y=$r(p,a.pendingProps),y=$r(p.type,y),Mx(i,a,p,y,c);case 15:return Lx(i,a,a.type,a.pendingProps,c);case 17:return p=a.type,y=a.pendingProps,y=a.elementType===p?y:$r(p,y),hh(i,a),a.tag=1,Bn(p)?(i=!0,Kd(a)):i=!1,fl(a,c),Rx(a,p,y),Hm(a,p,y,c),Qm(null,a,p,!0,i,c);case 19:return Hx(i,a,c);case 22:return Vx(i,a,c)}throw Error(t(156,a.tag))};function m0(i,a){return fc(i,a)}function $k(i,a,c,p){this.tag=i,this.key=c,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=a,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=p,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ar(i,a,c,p){return new $k(i,a,c,p)}function mg(i){return i=i.prototype,!(!i||!i.isReactComponent)}function Bk(i){if(typeof i=="function")return mg(i)?1:0;if(i!=null){if(i=i.$$typeof,i===F)return 11;if(i===Ee)return 14}return 2}function qi(i,a){var c=i.alternate;return c===null?(c=Ar(i.tag,a,i.key,i.mode),c.elementType=i.elementType,c.type=i.type,c.stateNode=i.stateNode,c.alternate=i,i.alternate=c):(c.pendingProps=a,c.type=i.type,c.flags=0,c.subtreeFlags=0,c.deletions=null),c.flags=i.flags&14680064,c.childLanes=i.childLanes,c.lanes=i.lanes,c.child=i.child,c.memoizedProps=i.memoizedProps,c.memoizedState=i.memoizedState,c.updateQueue=i.updateQueue,a=i.dependencies,c.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext},c.sibling=i.sibling,c.index=i.index,c.ref=i.ref,c}function bh(i,a,c,p,y,_){var A=2;if(p=i,typeof i=="function")mg(i)&&(A=1);else if(typeof i=="string")A=5;else e:switch(i){case k:return ia(c.children,y,_,a);case R:A=8,y|=8;break;case N:return i=Ar(12,c,a,y|2),i.elementType=N,i.lanes=_,i;case O:return i=Ar(13,c,a,y),i.elementType=O,i.lanes=_,i;case ne:return i=Ar(19,c,a,y),i.elementType=ne,i.lanes=_,i;case ye:return Th(c,y,_,a);default:if(typeof i=="object"&&i!==null)switch(i.$$typeof){case j:A=10;break e;case L:A=9;break e;case F:A=11;break e;case Ee:A=14;break e;case de:A=16,p=null;break e}throw Error(t(130,i==null?i:typeof i,""))}return a=Ar(A,c,a,y),a.elementType=i,a.type=p,a.lanes=_,a}function ia(i,a,c,p){return i=Ar(7,i,p,a),i.lanes=c,i}function Th(i,a,c,p){return i=Ar(22,i,p,a),i.elementType=ye,i.lanes=c,i.stateNode={isHidden:!1},i}function gg(i,a,c){return i=Ar(6,i,null,a),i.lanes=c,i}function yg(i,a,c){return a=Ar(4,i.children!==null?i.children:[],i.key,a),a.lanes=c,a.stateNode={containerInfo:i.containerInfo,pendingChildren:null,implementation:i.implementation},a}function zk(i,a,c,p,y){this.tag=a,this.containerInfo=i,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=vc(0),this.expirationTimes=vc(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=vc(0),this.identifierPrefix=p,this.onRecoverableError=y,this.mutableSourceEagerHydrationData=null}function vg(i,a,c,p,y,_,A,U,$){return i=new zk(i,a,c,U,$),a===1?(a=1,_===!0&&(a|=8)):a=0,_=Ar(3,null,null,a),i.current=_,_.stateNode=i,_.memoizedState={element:p,isDehydrated:c,cache:null,transitions:null,pendingSuspenseBoundaries:null},km(_),i}function Wk(i,a,c){var p=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Q,key:p==null?null:""+p,children:i,containerInfo:a,implementation:c}}function g0(i){if(!i)return Li;i=i._reactInternals;e:{if(Lr(i)!==i||i.tag!==1)throw Error(t(170));var a=i;do{switch(a.tag){case 3:a=a.stateNode.context;break e;case 1:if(Bn(a.type)){a=a.stateNode.__reactInternalMemoizedMergedChildContext;break e}}a=a.return}while(a!==null);throw Error(t(171))}if(i.tag===1){var c=i.type;if(Bn(c))return Ww(i,c,a)}return a}function y0(i,a,c,p,y,_,A,U,$){return i=vg(c,p,!0,i,y,_,A,U,$),i.context=g0(null),c=i.current,p=Mn(),y=Wi(c),_=ai(p,y),_.callback=a??null,Ui(c,_,y),i.current.lanes=y,zo(i,y,p),Hn(i,p),i}function Sh(i,a,c,p){var y=a.current,_=Mn(),A=Wi(y);return c=g0(c),a.context===null?a.context=c:a.pendingContext=c,a=ai(_,A),a.payload={element:i},p=p===void 0?null:p,p!==null&&(a.callback=p),i=Ui(y,a,A),i!==null&&(Wr(i,y,A,_),nh(i,y,A)),A}function Ch(i){return i=i.current,i.child?(i.child.tag===5,i.child.stateNode):null}function v0(i,a){if(i=i.memoizedState,i!==null&&i.dehydrated!==null){var c=i.retryLane;i.retryLane=c!==0&&c<a?c:a}}function _g(i,a){v0(i,a),(i=i.alternate)&&v0(i,a)}function Hk(){return null}var _0=typeof reportError=="function"?reportError:function(i){console.error(i)};function wg(i){this._internalRoot=i}Ih.prototype.render=wg.prototype.render=function(i){var a=this._internalRoot;if(a===null)throw Error(t(409));Sh(i,a,null,null)},Ih.prototype.unmount=wg.prototype.unmount=function(){var i=this._internalRoot;if(i!==null){this._internalRoot=null;var a=i.containerInfo;na(function(){Sh(null,i,null,null)}),a[ni]=null}};function Ih(i){this._internalRoot=i}Ih.prototype.unstable_scheduleHydration=function(i){if(i){var a=Ec();i={blockedOn:null,target:i,priority:a};for(var c=0;c<or.length&&a!==0&&a<or[c].priority;c++);or.splice(c,0,i),c===0&&Ha(i)}};function xg(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11)}function Rh(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11&&(i.nodeType!==8||i.nodeValue!==" react-mount-point-unstable "))}function w0(){}function qk(i,a,c,p,y){if(y){if(typeof p=="function"){var _=p;p=function(){var J=Ch(A);_.call(J)}}var A=y0(a,p,i,0,null,!1,!1,"",w0);return i._reactRootContainer=A,i[ni]=A.current,Dc(i.nodeType===8?i.parentNode:i),na(),A}for(;y=i.lastChild;)i.removeChild(y);if(typeof p=="function"){var U=p;p=function(){var J=Ch($);U.call(J)}}var $=vg(i,0,!1,null,null,!1,!1,"",w0);return i._reactRootContainer=$,i[ni]=$.current,Dc(i.nodeType===8?i.parentNode:i),na(function(){Sh(a,$,c,p)}),$}function Nh(i,a,c,p,y){var _=c._reactRootContainer;if(_){var A=_;if(typeof y=="function"){var U=y;y=function(){var $=Ch(A);U.call($)}}Sh(a,A,i,y)}else A=qk(c,a,i,y,p);return Ch(A)}wc=function(i){switch(i.tag){case 3:var a=i.stateNode;if(a.current.memoizedState.isDehydrated){var c=ft(a.pendingLanes);c!==0&&(_c(a,c|1),Hn(a,bt()),(lt&6)===0&&(vl=bt()+500,Vi()))}break;case 13:na(function(){var p=oi(i,1);if(p!==null){var y=Mn();Wr(p,i,1,y)}}),_g(i,1)}},za=function(i){if(i.tag===13){var a=oi(i,134217728);if(a!==null){var c=Mn();Wr(a,i,134217728,c)}_g(i,134217728)}},xc=function(i){if(i.tag===13){var a=Wi(i),c=oi(i,a);if(c!==null){var p=Mn();Wr(c,i,a,p)}_g(i,a)}},Ec=function(){return rt},bc=function(i,a){var c=rt;try{return rt=i,a()}finally{rt=c}},Er=function(i,a,c){switch(a){case"input":if(Zn(i,c),a=c.name,c.type==="radio"&&a!=null){for(c=i;c.parentNode;)c=c.parentNode;for(c=c.querySelectorAll("input[name="+JSON.stringify(""+a)+'][type="radio"]'),a=0;a<c.length;a++){var p=c[a];if(p!==i&&p.form===i.form){var y=qd(p);if(!y)throw Error(t(90));pt(p),Zn(p,y)}}}break;case"textarea":La(i,c);break;case"select":a=c.value,a!=null&&dn(i,!!c.multiple,a,!1)}},at=hg,mt=na;var Gk={usingClientEntryPoint:!1,Events:[Lc,il,qd,ls,Oe,hg]},Xc={findFiberByHostInstance:Ko,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Kk={bundleType:Xc.bundleType,version:Xc.version,rendererPackageName:Xc.rendererPackageName,rendererConfig:Xc.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:B.ReactCurrentDispatcher,findHostInstanceByFiber:function(i){return i=Rd(i),i===null?null:i.stateNode},findFiberByHostInstance:Xc.findFiberByHostInstance||Hk,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Ah=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ah.isDisabled&&Ah.supportsFiber)try{Fo=Ah.inject(Kk),sr=Ah}catch{}}return qn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Gk,qn.createPortal=function(i,a){var c=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!xg(a))throw Error(t(200));return Wk(i,a,null,c)},qn.createRoot=function(i,a){if(!xg(i))throw Error(t(299));var c=!1,p="",y=_0;return a!=null&&(a.unstable_strictMode===!0&&(c=!0),a.identifierPrefix!==void 0&&(p=a.identifierPrefix),a.onRecoverableError!==void 0&&(y=a.onRecoverableError)),a=vg(i,1,!1,null,null,c,!1,p,y),i[ni]=a.current,Dc(i.nodeType===8?i.parentNode:i),new wg(a)},qn.findDOMNode=function(i){if(i==null)return null;if(i.nodeType===1)return i;var a=i._reactInternals;if(a===void 0)throw typeof i.render=="function"?Error(t(188)):(i=Object.keys(i).join(","),Error(t(268,i)));return i=Rd(a),i=i===null?null:i.stateNode,i},qn.flushSync=function(i){return na(i)},qn.hydrate=function(i,a,c){if(!Rh(a))throw Error(t(200));return Nh(null,i,a,!0,c)},qn.hydrateRoot=function(i,a,c){if(!xg(i))throw Error(t(405));var p=c!=null&&c.hydratedSources||null,y=!1,_="",A=_0;if(c!=null&&(c.unstable_strictMode===!0&&(y=!0),c.identifierPrefix!==void 0&&(_=c.identifierPrefix),c.onRecoverableError!==void 0&&(A=c.onRecoverableError)),a=y0(a,null,i,1,c??null,y,!1,_,A),i[ni]=a.current,Dc(i),p)for(i=0;i<p.length;i++)c=p[i],y=c._getVersion,y=y(c._source),a.mutableSourceEagerHydrationData==null?a.mutableSourceEagerHydrationData=[c,y]:a.mutableSourceEagerHydrationData.push(c,y);return new Ih(a)},qn.render=function(i,a,c){if(!Rh(a))throw Error(t(200));return Nh(null,i,a,!1,c)},qn.unmountComponentAtNode=function(i){if(!Rh(i))throw Error(t(40));return i._reactRootContainer?(na(function(){Nh(null,null,i,!1,function(){i._reactRootContainer=null,i[ni]=null})}),!0):!1},qn.unstable_batchedUpdates=hg,qn.unstable_renderSubtreeIntoContainer=function(i,a,c,p){if(!Rh(c))throw Error(t(200));if(i==null||i._reactInternals===void 0)throw Error(t(38));return Nh(i,a,c,!1,p)},qn.version="18.3.1-next-f1338f8080-20240426",qn}var R0;function MT(){if(R0)return Tg.exports;R0=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),Tg.exports=nP(),Tg.exports}var N0;function rP(){if(N0)return kh;N0=1;var n=MT();return kh.createRoot=n.createRoot,kh.hydrateRoot=n.hydrateRoot,kh}var sP=rP(),w=rp();const he=OT(w),pv=Yk({__proto__:null,default:he},[w]),iP=1,oP=1e6;let Ig=0;function aP(){return Ig=(Ig+1)%Number.MAX_SAFE_INTEGER,Ig.toString()}const Rg=new Map,A0=n=>{if(Rg.has(n))return;const e=setTimeout(()=>{Rg.delete(n),fu({type:"REMOVE_TOAST",toastId:n})},oP);Rg.set(n,e)},lP=(n,e)=>{switch(e.type){case"ADD_TOAST":return{...n,toasts:[e.toast,...n.toasts].slice(0,iP)};case"UPDATE_TOAST":return{...n,toasts:n.toasts.map(t=>t.id===e.toast.id?{...t,...e.toast}:t)};case"DISMISS_TOAST":{const{toastId:t}=e;return t?A0(t):n.toasts.forEach(r=>{A0(r.id)}),{...n,toasts:n.toasts.map(r=>r.id===t||t===void 0?{...r,open:!1}:r)}}case"REMOVE_TOAST":return e.toastId===void 0?{...n,toasts:[]}:{...n,toasts:n.toasts.filter(t=>t.id!==e.toastId)}}},Yh=[];let Xh={toasts:[]};function fu(n){Xh=lP(Xh,n),Yh.forEach(e=>{e(Xh)})}function cP({...n}){const e=aP(),t=s=>fu({type:"UPDATE_TOAST",toast:{...s,id:e}}),r=()=>fu({type:"DISMISS_TOAST",toastId:e});return fu({type:"ADD_TOAST",toast:{...n,id:e,open:!0,onOpenChange:s=>{s||r()}}}),{id:e,dismiss:r,update:t}}function LT(){const[n,e]=w.useState(Xh);return w.useEffect(()=>(Yh.push(e),()=>{const t=Yh.indexOf(e);t>-1&&Yh.splice(t,1)}),[n]),{...n,toast:cP,dismiss:t=>fu({type:"DISMISS_TOAST",toastId:t})}}var Xl=MT();const VT=OT(Xl);function ve(n,e,{checkForDefaultPrevented:t=!0}={}){return function(s){if(n?.(s),t===!1||!s.defaultPrevented)return e?.(s)}}function k0(n,e){if(typeof n=="function")return n(e);n!=null&&(n.current=e)}function sp(...n){return e=>{let t=!1;const r=n.map(s=>{const o=k0(s,e);return!t&&typeof o=="function"&&(t=!0),o});if(t)return()=>{for(let s=0;s<r.length;s++){const o=r[s];typeof o=="function"?o():k0(n[s],null)}}}}function ct(...n){return w.useCallback(sp(...n),n)}function uP(n,e){const t=w.createContext(e),r=o=>{const{children:l,...u}=o,f=w.useMemo(()=>u,Object.values(u));return d.jsx(t.Provider,{value:f,children:l})};r.displayName=n+"Provider";function s(o){const l=w.useContext(t);if(l)return l;if(e!==void 0)return e;throw new Error(`\`${o}\` must be used within \`${n}\``)}return[r,s]}function es(n,e=[]){let t=[];function r(o,l){const u=w.createContext(l),f=t.length;t=[...t,l];const m=v=>{const{scope:E,children:b,...I}=v,T=E?.[n]?.[f]||u,C=w.useMemo(()=>I,Object.values(I));return d.jsx(T.Provider,{value:C,children:b})};m.displayName=o+"Provider";function g(v,E){const b=E?.[n]?.[f]||u,I=w.useContext(b);if(I)return I;if(l!==void 0)return l;throw new Error(`\`${v}\` must be used within \`${o}\``)}return[m,g]}const s=()=>{const o=t.map(l=>w.createContext(l));return function(u){const f=u?.[n]||o;return w.useMemo(()=>({[`__scope${n}`]:{...u,[n]:f}}),[u,f])}};return s.scopeName=n,[r,dP(s,...e)]}function dP(...n){const e=n[0];if(n.length===1)return e;const t=()=>{const r=n.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(o){const l=r.reduce((u,{useScope:f,scopeName:m})=>{const v=f(o)[`__scope${m}`];return{...u,...v}},{});return w.useMemo(()=>({[`__scope${e.scopeName}`]:l}),[l])}};return t.scopeName=e.scopeName,t}function ha(n){const e=fP(n),t=w.forwardRef((r,s)=>{const{children:o,...l}=r,u=w.Children.toArray(o),f=u.find(mP);if(f){const m=f.props.children,g=u.map(v=>v===f?w.Children.count(m)>1?w.Children.only(null):w.isValidElement(m)?m.props.children:null:v);return d.jsx(e,{...l,ref:s,children:w.isValidElement(m)?w.cloneElement(m,void 0,g):null})}return d.jsx(e,{...l,ref:s,children:o})});return t.displayName=`${n}.Slot`,t}var hP=ha("Slot");function fP(n){const e=w.forwardRef((t,r)=>{const{children:s,...o}=t;if(w.isValidElement(s)){const l=yP(s),u=gP(o,s.props);return s.type!==w.Fragment&&(u.ref=r?sp(r,l):l),w.cloneElement(s,u)}return w.Children.count(s)>1?w.Children.only(null):null});return e.displayName=`${n}.SlotClone`,e}var FT=Symbol("radix.slottable");function pP(n){const e=({children:t})=>d.jsx(d.Fragment,{children:t});return e.displayName=`${n}.Slottable`,e.__radixId=FT,e}function mP(n){return w.isValidElement(n)&&typeof n.type=="function"&&"__radixId"in n.type&&n.type.__radixId===FT}function gP(n,e){const t={...e};for(const r in e){const s=n[r],o=e[r];/^on[A-Z]/.test(r)?s&&o?t[r]=(...u)=>{const f=o(...u);return s(...u),f}:s&&(t[r]=s):r==="style"?t[r]={...s,...o}:r==="className"&&(t[r]=[s,o].filter(Boolean).join(" "))}return{...n,...t}}function yP(n){let e=Object.getOwnPropertyDescriptor(n.props,"ref")?.get,t=e&&"isReactWarning"in e&&e.isReactWarning;return t?n.ref:(e=Object.getOwnPropertyDescriptor(n,"ref")?.get,t=e&&"isReactWarning"in e&&e.isReactWarning,t?n.props.ref:n.props.ref||n.ref)}function ip(n){const e=n+"CollectionProvider",[t,r]=es(e),[s,o]=t(e,{collectionRef:{current:null},itemMap:new Map}),l=T=>{const{scope:C,children:M}=T,D=he.useRef(null),V=he.useRef(new Map).current;return d.jsx(s,{scope:C,itemMap:V,collectionRef:D,children:M})};l.displayName=e;const u=n+"CollectionSlot",f=ha(u),m=he.forwardRef((T,C)=>{const{scope:M,children:D}=T,V=o(u,M),B=ct(C,V.collectionRef);return d.jsx(f,{ref:B,children:D})});m.displayName=u;const g=n+"CollectionItemSlot",v="data-radix-collection-item",E=ha(g),b=he.forwardRef((T,C)=>{const{scope:M,children:D,...V}=T,B=he.useRef(null),H=ct(C,B),Q=o(g,M);return he.useEffect(()=>(Q.itemMap.set(B,{ref:B,...V}),()=>{Q.itemMap.delete(B)})),d.jsx(E,{[v]:"",ref:H,children:D})});b.displayName=g;function I(T){const C=o(n+"CollectionConsumer",T);return he.useCallback(()=>{const D=C.collectionRef.current;if(!D)return[];const V=Array.from(D.querySelectorAll(`[${v}]`));return Array.from(C.itemMap.values()).sort((Q,k)=>V.indexOf(Q.ref.current)-V.indexOf(k.ref.current))},[C.collectionRef,C.itemMap])}return[{Provider:l,Slot:m,ItemSlot:b},I,r]}var vP=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],Be=vP.reduce((n,e)=>{const t=ha(`Primitive.${e}`),r=w.forwardRef((s,o)=>{const{asChild:l,...u}=s,f=l?t:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),d.jsx(f,{...u,ref:o})});return r.displayName=`Primitive.${e}`,{...n,[e]:r}},{});function mv(n,e){n&&Xl.flushSync(()=>n.dispatchEvent(e))}function Vn(n){const e=w.useRef(n);return w.useEffect(()=>{e.current=n}),w.useMemo(()=>(...t)=>e.current?.(...t),[])}function _P(n,e=globalThis?.document){const t=Vn(n);w.useEffect(()=>{const r=s=>{s.key==="Escape"&&t(s)};return e.addEventListener("keydown",r,{capture:!0}),()=>e.removeEventListener("keydown",r,{capture:!0})},[t,e])}var wP="DismissableLayer",ay="dismissableLayer.update",xP="dismissableLayer.pointerDownOutside",EP="dismissableLayer.focusOutside",P0,UT=w.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),Jl=w.forwardRef((n,e)=>{const{disableOutsidePointerEvents:t=!1,onEscapeKeyDown:r,onPointerDownOutside:s,onFocusOutside:o,onInteractOutside:l,onDismiss:u,...f}=n,m=w.useContext(UT),[g,v]=w.useState(null),E=g?.ownerDocument??globalThis?.document,[,b]=w.useState({}),I=ct(e,k=>v(k)),T=Array.from(m.layers),[C]=[...m.layersWithOutsidePointerEventsDisabled].slice(-1),M=T.indexOf(C),D=g?T.indexOf(g):-1,V=m.layersWithOutsidePointerEventsDisabled.size>0,B=D>=M,H=TP(k=>{const R=k.target,N=[...m.branches].some(j=>j.contains(R));!B||N||(s?.(k),l?.(k),k.defaultPrevented||u?.())},E),Q=SP(k=>{const R=k.target;[...m.branches].some(j=>j.contains(R))||(o?.(k),l?.(k),k.defaultPrevented||u?.())},E);return _P(k=>{D===m.layers.size-1&&(r?.(k),!k.defaultPrevented&&u&&(k.preventDefault(),u()))},E),w.useEffect(()=>{if(g)return t&&(m.layersWithOutsidePointerEventsDisabled.size===0&&(P0=E.body.style.pointerEvents,E.body.style.pointerEvents="none"),m.layersWithOutsidePointerEventsDisabled.add(g)),m.layers.add(g),j0(),()=>{t&&m.layersWithOutsidePointerEventsDisabled.size===1&&(E.body.style.pointerEvents=P0)}},[g,E,t,m]),w.useEffect(()=>()=>{g&&(m.layers.delete(g),m.layersWithOutsidePointerEventsDisabled.delete(g),j0())},[g,m]),w.useEffect(()=>{const k=()=>b({});return document.addEventListener(ay,k),()=>document.removeEventListener(ay,k)},[]),d.jsx(Be.div,{...f,ref:I,style:{pointerEvents:V?B?"auto":"none":void 0,...n.style},onFocusCapture:ve(n.onFocusCapture,Q.onFocusCapture),onBlurCapture:ve(n.onBlurCapture,Q.onBlurCapture),onPointerDownCapture:ve(n.onPointerDownCapture,H.onPointerDownCapture)})});Jl.displayName=wP;var bP="DismissableLayerBranch",$T=w.forwardRef((n,e)=>{const t=w.useContext(UT),r=w.useRef(null),s=ct(e,r);return w.useEffect(()=>{const o=r.current;if(o)return t.branches.add(o),()=>{t.branches.delete(o)}},[t.branches]),d.jsx(Be.div,{...n,ref:s})});$T.displayName=bP;function TP(n,e=globalThis?.document){const t=Vn(n),r=w.useRef(!1),s=w.useRef(()=>{});return w.useEffect(()=>{const o=u=>{if(u.target&&!r.current){let f=function(){BT(xP,t,m,{discrete:!0})};const m={originalEvent:u};u.pointerType==="touch"?(e.removeEventListener("click",s.current),s.current=f,e.addEventListener("click",s.current,{once:!0})):f()}else e.removeEventListener("click",s.current);r.current=!1},l=window.setTimeout(()=>{e.addEventListener("pointerdown",o)},0);return()=>{window.clearTimeout(l),e.removeEventListener("pointerdown",o),e.removeEventListener("click",s.current)}},[e,t]),{onPointerDownCapture:()=>r.current=!0}}function SP(n,e=globalThis?.document){const t=Vn(n),r=w.useRef(!1);return w.useEffect(()=>{const s=o=>{o.target&&!r.current&&BT(EP,t,{originalEvent:o},{discrete:!1})};return e.addEventListener("focusin",s),()=>e.removeEventListener("focusin",s)},[e,t]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function j0(){const n=new CustomEvent(ay);document.dispatchEvent(n)}function BT(n,e,t,{discrete:r}){const s=t.originalEvent.target,o=new CustomEvent(n,{bubbles:!1,cancelable:!0,detail:t});e&&s.addEventListener(n,e,{once:!0}),r?mv(s,o):s.dispatchEvent(o)}var CP=Jl,IP=$T,Xt=globalThis?.document?w.useLayoutEffect:()=>{},RP="Portal",Qu=w.forwardRef((n,e)=>{const{container:t,...r}=n,[s,o]=w.useState(!1);Xt(()=>o(!0),[]);const l=t||s&&globalThis?.document?.body;return l?VT.createPortal(d.jsx(Be.div,{...r,ref:e}),l):null});Qu.displayName=RP;function NP(n,e){return w.useReducer((t,r)=>e[t][r]??t,n)}var ts=n=>{const{present:e,children:t}=n,r=AP(e),s=typeof t=="function"?t({present:r.isPresent}):w.Children.only(t),o=ct(r.ref,kP(s));return typeof t=="function"||r.isPresent?w.cloneElement(s,{ref:o}):null};ts.displayName="Presence";function AP(n){const[e,t]=w.useState(),r=w.useRef(null),s=w.useRef(n),o=w.useRef("none"),l=n?"mounted":"unmounted",[u,f]=NP(l,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return w.useEffect(()=>{const m=Ph(r.current);o.current=u==="mounted"?m:"none"},[u]),Xt(()=>{const m=r.current,g=s.current;if(g!==n){const E=o.current,b=Ph(m);n?f("MOUNT"):b==="none"||m?.display==="none"?f("UNMOUNT"):f(g&&E!==b?"ANIMATION_OUT":"UNMOUNT"),s.current=n}},[n,f]),Xt(()=>{if(e){let m;const g=e.ownerDocument.defaultView??window,v=b=>{const T=Ph(r.current).includes(b.animationName);if(b.target===e&&T&&(f("ANIMATION_END"),!s.current)){const C=e.style.animationFillMode;e.style.animationFillMode="forwards",m=g.setTimeout(()=>{e.style.animationFillMode==="forwards"&&(e.style.animationFillMode=C)})}},E=b=>{b.target===e&&(o.current=Ph(r.current))};return e.addEventListener("animationstart",E),e.addEventListener("animationcancel",v),e.addEventListener("animationend",v),()=>{g.clearTimeout(m),e.removeEventListener("animationstart",E),e.removeEventListener("animationcancel",v),e.removeEventListener("animationend",v)}}else f("ANIMATION_END")},[e,f]),{isPresent:["mounted","unmountSuspended"].includes(u),ref:w.useCallback(m=>{r.current=m?getComputedStyle(m):null,t(m)},[])}}function Ph(n){return n?.animationName||"none"}function kP(n){let e=Object.getOwnPropertyDescriptor(n.props,"ref")?.get,t=e&&"isReactWarning"in e&&e.isReactWarning;return t?n.ref:(e=Object.getOwnPropertyDescriptor(n,"ref")?.get,t=e&&"isReactWarning"in e&&e.isReactWarning,t?n.props.ref:n.props.ref||n.ref)}var PP=pv[" useInsertionEffect ".trim().toString()]||Xt;function fa({prop:n,defaultProp:e,onChange:t=()=>{},caller:r}){const[s,o,l]=jP({defaultProp:e,onChange:t}),u=n!==void 0,f=u?n:s;{const g=w.useRef(n!==void 0);w.useEffect(()=>{const v=g.current;v!==u&&console.warn(`${r} is changing from ${v?"controlled":"uncontrolled"} to ${u?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),g.current=u},[u,r])}const m=w.useCallback(g=>{if(u){const v=DP(g)?g(n):g;v!==n&&l.current?.(v)}else o(g)},[u,n,o,l]);return[f,m]}function jP({defaultProp:n,onChange:e}){const[t,r]=w.useState(n),s=w.useRef(t),o=w.useRef(e);return PP(()=>{o.current=e},[e]),w.useEffect(()=>{s.current!==t&&(o.current?.(t),s.current=t)},[t,s]),[t,r,o]}function DP(n){return typeof n=="function"}var zT=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),OP="VisuallyHidden",op=w.forwardRef((n,e)=>d.jsx(Be.span,{...n,ref:e,style:{...zT,...n.style}}));op.displayName=OP;var MP=op,gv="ToastProvider",[yv,LP,VP]=ip("Toast"),[WT]=es("Toast",[VP]),[FP,ap]=WT(gv),HT=n=>{const{__scopeToast:e,label:t="Notification",duration:r=5e3,swipeDirection:s="right",swipeThreshold:o=50,children:l}=n,[u,f]=w.useState(null),[m,g]=w.useState(0),v=w.useRef(!1),E=w.useRef(!1);return t.trim()||console.error(`Invalid prop \`label\` supplied to \`${gv}\`. Expected non-empty \`string\`.`),d.jsx(yv.Provider,{scope:e,children:d.jsx(FP,{scope:e,label:t,duration:r,swipeDirection:s,swipeThreshold:o,toastCount:m,viewport:u,onViewportChange:f,onToastAdd:w.useCallback(()=>g(b=>b+1),[]),onToastRemove:w.useCallback(()=>g(b=>b-1),[]),isFocusedToastEscapeKeyDownRef:v,isClosePausedRef:E,children:l})})};HT.displayName=gv;var qT="ToastViewport",UP=["F8"],ly="toast.viewportPause",cy="toast.viewportResume",GT=w.forwardRef((n,e)=>{const{__scopeToast:t,hotkey:r=UP,label:s="Notifications ({hotkey})",...o}=n,l=ap(qT,t),u=LP(t),f=w.useRef(null),m=w.useRef(null),g=w.useRef(null),v=w.useRef(null),E=ct(e,v,l.onViewportChange),b=r.join("+").replace(/Key/g,"").replace(/Digit/g,""),I=l.toastCount>0;w.useEffect(()=>{const C=M=>{r.length!==0&&r.every(V=>M[V]||M.code===V)&&v.current?.focus()};return document.addEventListener("keydown",C),()=>document.removeEventListener("keydown",C)},[r]),w.useEffect(()=>{const C=f.current,M=v.current;if(I&&C&&M){const D=()=>{if(!l.isClosePausedRef.current){const Q=new CustomEvent(ly);M.dispatchEvent(Q),l.isClosePausedRef.current=!0}},V=()=>{if(l.isClosePausedRef.current){const Q=new CustomEvent(cy);M.dispatchEvent(Q),l.isClosePausedRef.current=!1}},B=Q=>{!C.contains(Q.relatedTarget)&&V()},H=()=>{C.contains(document.activeElement)||V()};return C.addEventListener("focusin",D),C.addEventListener("focusout",B),C.addEventListener("pointermove",D),C.addEventListener("pointerleave",H),window.addEventListener("blur",D),window.addEventListener("focus",V),()=>{C.removeEventListener("focusin",D),C.removeEventListener("focusout",B),C.removeEventListener("pointermove",D),C.removeEventListener("pointerleave",H),window.removeEventListener("blur",D),window.removeEventListener("focus",V)}}},[I,l.isClosePausedRef]);const T=w.useCallback(({tabbingDirection:C})=>{const D=u().map(V=>{const B=V.ref.current,H=[B,...ZP(B)];return C==="forwards"?H:H.reverse()});return(C==="forwards"?D.reverse():D).flat()},[u]);return w.useEffect(()=>{const C=v.current;if(C){const M=D=>{const V=D.altKey||D.ctrlKey||D.metaKey;if(D.key==="Tab"&&!V){const H=document.activeElement,Q=D.shiftKey;if(D.target===C&&Q){m.current?.focus();return}const N=T({tabbingDirection:Q?"backwards":"forwards"}),j=N.findIndex(L=>L===H);Ng(N.slice(j+1))?D.preventDefault():Q?m.current?.focus():g.current?.focus()}};return C.addEventListener("keydown",M),()=>C.removeEventListener("keydown",M)}},[u,T]),d.jsxs(IP,{ref:f,role:"region","aria-label":s.replace("{hotkey}",b),tabIndex:-1,style:{pointerEvents:I?void 0:"none"},children:[I&&d.jsx(uy,{ref:m,onFocusFromOutsideViewport:()=>{const C=T({tabbingDirection:"forwards"});Ng(C)}}),d.jsx(yv.Slot,{scope:t,children:d.jsx(Be.ol,{tabIndex:-1,...o,ref:E})}),I&&d.jsx(uy,{ref:g,onFocusFromOutsideViewport:()=>{const C=T({tabbingDirection:"backwards"});Ng(C)}})]})});GT.displayName=qT;var KT="ToastFocusProxy",uy=w.forwardRef((n,e)=>{const{__scopeToast:t,onFocusFromOutsideViewport:r,...s}=n,o=ap(KT,t);return d.jsx(op,{"aria-hidden":!0,tabIndex:0,...s,ref:e,style:{position:"fixed"},onFocus:l=>{const u=l.relatedTarget;!o.viewport?.contains(u)&&r()}})});uy.displayName=KT;var Yu="Toast",$P="toast.swipeStart",BP="toast.swipeMove",zP="toast.swipeCancel",WP="toast.swipeEnd",QT=w.forwardRef((n,e)=>{const{forceMount:t,open:r,defaultOpen:s,onOpenChange:o,...l}=n,[u,f]=fa({prop:r,defaultProp:s??!0,onChange:o,caller:Yu});return d.jsx(ts,{present:t||u,children:d.jsx(GP,{open:u,...l,ref:e,onClose:()=>f(!1),onPause:Vn(n.onPause),onResume:Vn(n.onResume),onSwipeStart:ve(n.onSwipeStart,m=>{m.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:ve(n.onSwipeMove,m=>{const{x:g,y:v}=m.detail.delta;m.currentTarget.setAttribute("data-swipe","move"),m.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${g}px`),m.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${v}px`)}),onSwipeCancel:ve(n.onSwipeCancel,m=>{m.currentTarget.setAttribute("data-swipe","cancel"),m.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),m.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),m.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),m.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:ve(n.onSwipeEnd,m=>{const{x:g,y:v}=m.detail.delta;m.currentTarget.setAttribute("data-swipe","end"),m.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),m.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),m.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${g}px`),m.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${v}px`),f(!1)})})})});QT.displayName=Yu;var[HP,qP]=WT(Yu,{onClose(){}}),GP=w.forwardRef((n,e)=>{const{__scopeToast:t,type:r="foreground",duration:s,open:o,onClose:l,onEscapeKeyDown:u,onPause:f,onResume:m,onSwipeStart:g,onSwipeMove:v,onSwipeCancel:E,onSwipeEnd:b,...I}=n,T=ap(Yu,t),[C,M]=w.useState(null),D=ct(e,ne=>M(ne)),V=w.useRef(null),B=w.useRef(null),H=s||T.duration,Q=w.useRef(0),k=w.useRef(H),R=w.useRef(0),{onToastAdd:N,onToastRemove:j}=T,L=Vn(()=>{C?.contains(document.activeElement)&&T.viewport?.focus(),l()}),F=w.useCallback(ne=>{!ne||ne===1/0||(window.clearTimeout(R.current),Q.current=new Date().getTime(),R.current=window.setTimeout(L,ne))},[L]);w.useEffect(()=>{const ne=T.viewport;if(ne){const Ee=()=>{F(k.current),m?.()},de=()=>{const ye=new Date().getTime()-Q.current;k.current=k.current-ye,window.clearTimeout(R.current),f?.()};return ne.addEventListener(ly,de),ne.addEventListener(cy,Ee),()=>{ne.removeEventListener(ly,de),ne.removeEventListener(cy,Ee)}}},[T.viewport,H,f,m,F]),w.useEffect(()=>{o&&!T.isClosePausedRef.current&&F(H)},[o,H,T.isClosePausedRef,F]),w.useEffect(()=>(N(),()=>j()),[N,j]);const O=w.useMemo(()=>C?n1(C):null,[C]);return T.viewport?d.jsxs(d.Fragment,{children:[O&&d.jsx(KP,{__scopeToast:t,role:"status","aria-live":r==="foreground"?"assertive":"polite","aria-atomic":!0,children:O}),d.jsx(HP,{scope:t,onClose:L,children:Xl.createPortal(d.jsx(yv.ItemSlot,{scope:t,children:d.jsx(CP,{asChild:!0,onEscapeKeyDown:ve(u,()=>{T.isFocusedToastEscapeKeyDownRef.current||L(),T.isFocusedToastEscapeKeyDownRef.current=!1}),children:d.jsx(Be.li,{role:"status","aria-live":"off","aria-atomic":!0,tabIndex:0,"data-state":o?"open":"closed","data-swipe-direction":T.swipeDirection,...I,ref:D,style:{userSelect:"none",touchAction:"none",...n.style},onKeyDown:ve(n.onKeyDown,ne=>{ne.key==="Escape"&&(u?.(ne.nativeEvent),ne.nativeEvent.defaultPrevented||(T.isFocusedToastEscapeKeyDownRef.current=!0,L()))}),onPointerDown:ve(n.onPointerDown,ne=>{ne.button===0&&(V.current={x:ne.clientX,y:ne.clientY})}),onPointerMove:ve(n.onPointerMove,ne=>{if(!V.current)return;const Ee=ne.clientX-V.current.x,de=ne.clientY-V.current.y,ye=!!B.current,Z=["left","right"].includes(T.swipeDirection),q=["left","up"].includes(T.swipeDirection)?Math.min:Math.max,ie=Z?q(0,Ee):0,z=Z?0:q(0,de),X=ne.pointerType==="touch"?10:2,fe={x:ie,y:z},me={originalEvent:ne,delta:fe};ye?(B.current=fe,jh(BP,v,me,{discrete:!1})):D0(fe,T.swipeDirection,X)?(B.current=fe,jh($P,g,me,{discrete:!1}),ne.target.setPointerCapture(ne.pointerId)):(Math.abs(Ee)>X||Math.abs(de)>X)&&(V.current=null)}),onPointerUp:ve(n.onPointerUp,ne=>{const Ee=B.current,de=ne.target;if(de.hasPointerCapture(ne.pointerId)&&de.releasePointerCapture(ne.pointerId),B.current=null,V.current=null,Ee){const ye=ne.currentTarget,Z={originalEvent:ne,delta:Ee};D0(Ee,T.swipeDirection,T.swipeThreshold)?jh(WP,b,Z,{discrete:!0}):jh(zP,E,Z,{discrete:!0}),ye.addEventListener("click",q=>q.preventDefault(),{once:!0})}})})})}),T.viewport)})]}):null}),KP=n=>{const{__scopeToast:e,children:t,...r}=n,s=ap(Yu,e),[o,l]=w.useState(!1),[u,f]=w.useState(!1);return XP(()=>l(!0)),w.useEffect(()=>{const m=window.setTimeout(()=>f(!0),1e3);return()=>window.clearTimeout(m)},[]),u?null:d.jsx(Qu,{asChild:!0,children:d.jsx(op,{...r,children:o&&d.jsxs(d.Fragment,{children:[s.label," ",t]})})})},QP="ToastTitle",YT=w.forwardRef((n,e)=>{const{__scopeToast:t,...r}=n;return d.jsx(Be.div,{...r,ref:e})});YT.displayName=QP;var YP="ToastDescription",XT=w.forwardRef((n,e)=>{const{__scopeToast:t,...r}=n;return d.jsx(Be.div,{...r,ref:e})});XT.displayName=YP;var JT="ToastAction",ZT=w.forwardRef((n,e)=>{const{altText:t,...r}=n;return t.trim()?d.jsx(t1,{altText:t,asChild:!0,children:d.jsx(vv,{...r,ref:e})}):(console.error(`Invalid prop \`altText\` supplied to \`${JT}\`. Expected non-empty \`string\`.`),null)});ZT.displayName=JT;var e1="ToastClose",vv=w.forwardRef((n,e)=>{const{__scopeToast:t,...r}=n,s=qP(e1,t);return d.jsx(t1,{asChild:!0,children:d.jsx(Be.button,{type:"button",...r,ref:e,onClick:ve(n.onClick,s.onClose)})})});vv.displayName=e1;var t1=w.forwardRef((n,e)=>{const{__scopeToast:t,altText:r,...s}=n;return d.jsx(Be.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":r||void 0,...s,ref:e})});function n1(n){const e=[];return Array.from(n.childNodes).forEach(r=>{if(r.nodeType===r.TEXT_NODE&&r.textContent&&e.push(r.textContent),JP(r)){const s=r.ariaHidden||r.hidden||r.style.display==="none",o=r.dataset.radixToastAnnounceExclude==="";if(!s)if(o){const l=r.dataset.radixToastAnnounceAlt;l&&e.push(l)}else e.push(...n1(r))}}),e}function jh(n,e,t,{discrete:r}){const s=t.originalEvent.currentTarget,o=new CustomEvent(n,{bubbles:!0,cancelable:!0,detail:t});e&&s.addEventListener(n,e,{once:!0}),r?mv(s,o):s.dispatchEvent(o)}var D0=(n,e,t=0)=>{const r=Math.abs(n.x),s=Math.abs(n.y),o=r>s;return e==="left"||e==="right"?o&&r>t:!o&&s>t};function XP(n=()=>{}){const e=Vn(n);Xt(()=>{let t=0,r=0;return t=window.requestAnimationFrame(()=>r=window.requestAnimationFrame(e)),()=>{window.cancelAnimationFrame(t),window.cancelAnimationFrame(r)}},[e])}function JP(n){return n.nodeType===n.ELEMENT_NODE}function ZP(n){const e=[],t=document.createTreeWalker(n,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const s=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||s?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;t.nextNode();)e.push(t.currentNode);return e}function Ng(n){const e=document.activeElement;return n.some(t=>t===e?!0:(t.focus(),document.activeElement!==e))}var e2=HT,r1=GT,s1=QT,i1=YT,o1=XT,a1=ZT,l1=vv;function c1(n){var e,t,r="";if(typeof n=="string"||typeof n=="number")r+=n;else if(typeof n=="object")if(Array.isArray(n)){var s=n.length;for(e=0;e<s;e++)n[e]&&(t=c1(n[e]))&&(r&&(r+=" "),r+=t)}else for(t in n)n[t]&&(r&&(r+=" "),r+=t);return r}function u1(){for(var n,e,t=0,r="",s=arguments.length;t<s;t++)(n=arguments[t])&&(e=c1(n))&&(r&&(r+=" "),r+=e);return r}const O0=n=>typeof n=="boolean"?`${n}`:n===0?"0":n,M0=u1,lp=(n,e)=>t=>{var r;if(e?.variants==null)return M0(n,t?.class,t?.className);const{variants:s,defaultVariants:o}=e,l=Object.keys(s).map(m=>{const g=t?.[m],v=o?.[m];if(g===null)return null;const E=O0(g)||O0(v);return s[m][E]}),u=t&&Object.entries(t).reduce((m,g)=>{let[v,E]=g;return E===void 0||(m[v]=E),m},{}),f=e==null||(r=e.compoundVariants)===null||r===void 0?void 0:r.reduce((m,g)=>{let{class:v,className:E,...b}=g;return Object.entries(b).every(I=>{let[T,C]=I;return Array.isArray(C)?C.includes({...o,...u}[T]):{...o,...u}[T]===C})?[...m,v,E]:m},[]);return M0(n,l,f,t?.class,t?.className)};const t2=n=>n.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),d1=(...n)=>n.filter((e,t,r)=>!!e&&e.trim()!==""&&r.indexOf(e)===t).join(" ").trim();var n2={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const r2=w.forwardRef(({color:n="currentColor",size:e=24,strokeWidth:t=2,absoluteStrokeWidth:r,className:s="",children:o,iconNode:l,...u},f)=>w.createElement("svg",{ref:f,...n2,width:e,height:e,stroke:n,strokeWidth:r?Number(t)*24/Number(e):t,className:d1("lucide",s),...u},[...l.map(([m,g])=>w.createElement(m,g)),...Array.isArray(o)?o:[o]]));const st=(n,e)=>{const t=w.forwardRef(({className:r,...s},o)=>w.createElement(r2,{ref:o,iconNode:e,className:d1(`lucide-${t2(n)}`,r),...s}));return t.displayName=`${n}`,t};const s2=st("ArrowDown",[["path",{d:"M12 5v14",key:"s699le"}],["path",{d:"m19 12-7 7-7-7",key:"1idqje"}]]);const ff=st("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);const pf=st("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);const h1=st("Camera",[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]]);const L0=st("Car",[["path",{d:"M19 17h2c.6 0 1-.4 1-1v-3c0-.9-.7-1.7-1.5-1.9C18.7 10.6 16 10 16 10s-1.3-1.4-2.2-2.3c-.5-.4-1.1-.7-1.8-.7H5c-.6 0-1.1.4-1.4.9l-1.4 2.9A3.7 3.7 0 0 0 2 12v4c0 .6.4 1 1 1h2",key:"5owen"}],["circle",{cx:"7",cy:"17",r:"2",key:"u2ysq9"}],["path",{d:"M9 17h6",key:"r8uit2"}],["circle",{cx:"17",cy:"17",r:"2",key:"axvx0g"}]]);const _v=st("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);const f1=st("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);const i2=st("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);const o2=st("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);const mf=st("CircleCheckBig",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);const a2=st("CircleCheck",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);const l2=st("CircleX",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);const c2=st("Circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);const Xu=st("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);const wv=st("EyeOff",[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);const xv=st("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);const V0=st("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);const Ev=st("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);const F0=st("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);const Ju=st("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);const Fs=st("MapPin",[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);const u2=st("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);const U0=st("MessageCircle",[["path",{d:"M7.9 20A9 9 0 1 0 4 16.1L2 22Z",key:"vv11sd"}]]);const p1=st("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]);const d2=st("Pencil",[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]]);const cp=st("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);const h2=st("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);const pu=st("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);const dy=st("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);const f2=st("SlidersHorizontal",[["line",{x1:"21",x2:"14",y1:"4",y2:"4",key:"obuewd"}],["line",{x1:"10",x2:"3",y1:"4",y2:"4",key:"1q6298"}],["line",{x1:"21",x2:"12",y1:"12",y2:"12",key:"1iu8h1"}],["line",{x1:"8",x2:"3",y1:"12",y2:"12",key:"ntss68"}],["line",{x1:"21",x2:"16",y1:"20",y2:"20",key:"14d8ph"}],["line",{x1:"12",x2:"3",y1:"20",y2:"20",key:"m0wm8r"}],["line",{x1:"14",x2:"14",y1:"2",y2:"6",key:"14e1ph"}],["line",{x1:"8",x2:"8",y1:"10",y2:"14",key:"1i6ji0"}],["line",{x1:"16",x2:"16",y1:"18",y2:"22",key:"1lctlv"}]]);const pa=st("Star",[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]]);const m1=st("UserCheck",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["polyline",{points:"16 11 18 13 22 9",key:"1pwet4"}]]);const jr=st("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);const Pr=st("Wrench",[["path",{d:"M14.7 6.3a1 1 0 0 0 0 1.4l1.6 1.6a1 1 0 0 0 1.4 0l3.77-3.77a6 6 0 0 1-7.94 7.94l-6.91 6.91a2.12 2.12 0 0 1-3-3l6.91-6.91a6 6 0 0 1 7.94-7.94l-3.76 3.76z",key:"cbrjhi"}]]);const bv=st("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),Tv="-",p2=n=>{const e=g2(n),{conflictingClassGroups:t,conflictingClassGroupModifiers:r}=n;return{getClassGroupId:l=>{const u=l.split(Tv);return u[0]===""&&u.length!==1&&u.shift(),g1(u,e)||m2(l)},getConflictingClassGroupIds:(l,u)=>{const f=t[l]||[];return u&&r[l]?[...f,...r[l]]:f}}},g1=(n,e)=>{if(n.length===0)return e.classGroupId;const t=n[0],r=e.nextPart.get(t),s=r?g1(n.slice(1),r):void 0;if(s)return s;if(e.validators.length===0)return;const o=n.join(Tv);return e.validators.find(({validator:l})=>l(o))?.classGroupId},$0=/^\[(.+)\]$/,m2=n=>{if($0.test(n)){const e=$0.exec(n)[1],t=e?.substring(0,e.indexOf(":"));if(t)return"arbitrary.."+t}},g2=n=>{const{theme:e,prefix:t}=n,r={nextPart:new Map,validators:[]};return v2(Object.entries(n.classGroups),t).forEach(([o,l])=>{hy(l,r,o,e)}),r},hy=(n,e,t,r)=>{n.forEach(s=>{if(typeof s=="string"){const o=s===""?e:B0(e,s);o.classGroupId=t;return}if(typeof s=="function"){if(y2(s)){hy(s(r),e,t,r);return}e.validators.push({validator:s,classGroupId:t});return}Object.entries(s).forEach(([o,l])=>{hy(l,B0(e,o),t,r)})})},B0=(n,e)=>{let t=n;return e.split(Tv).forEach(r=>{t.nextPart.has(r)||t.nextPart.set(r,{nextPart:new Map,validators:[]}),t=t.nextPart.get(r)}),t},y2=n=>n.isThemeGetter,v2=(n,e)=>e?n.map(([t,r])=>{const s=r.map(o=>typeof o=="string"?e+o:typeof o=="object"?Object.fromEntries(Object.entries(o).map(([l,u])=>[e+l,u])):o);return[t,s]}):n,_2=n=>{if(n<1)return{get:()=>{},set:()=>{}};let e=0,t=new Map,r=new Map;const s=(o,l)=>{t.set(o,l),e++,e>n&&(e=0,r=t,t=new Map)};return{get(o){let l=t.get(o);if(l!==void 0)return l;if((l=r.get(o))!==void 0)return s(o,l),l},set(o,l){t.has(o)?t.set(o,l):s(o,l)}}},y1="!",w2=n=>{const{separator:e,experimentalParseClassName:t}=n,r=e.length===1,s=e[0],o=e.length,l=u=>{const f=[];let m=0,g=0,v;for(let C=0;C<u.length;C++){let M=u[C];if(m===0){if(M===s&&(r||u.slice(C,C+o)===e)){f.push(u.slice(g,C)),g=C+o;continue}if(M==="/"){v=C;continue}}M==="["?m++:M==="]"&&m--}const E=f.length===0?u:u.substring(g),b=E.startsWith(y1),I=b?E.substring(1):E,T=v&&v>g?v-g:void 0;return{modifiers:f,hasImportantModifier:b,baseClassName:I,maybePostfixModifierPosition:T}};return t?u=>t({className:u,parseClassName:l}):l},x2=n=>{if(n.length<=1)return n;const e=[];let t=[];return n.forEach(r=>{r[0]==="["?(e.push(...t.sort(),r),t=[]):t.push(r)}),e.push(...t.sort()),e},E2=n=>({cache:_2(n.cacheSize),parseClassName:w2(n),...p2(n)}),b2=/\s+/,T2=(n,e)=>{const{parseClassName:t,getClassGroupId:r,getConflictingClassGroupIds:s}=e,o=[],l=n.trim().split(b2);let u="";for(let f=l.length-1;f>=0;f-=1){const m=l[f],{modifiers:g,hasImportantModifier:v,baseClassName:E,maybePostfixModifierPosition:b}=t(m);let I=!!b,T=r(I?E.substring(0,b):E);if(!T){if(!I){u=m+(u.length>0?" "+u:u);continue}if(T=r(E),!T){u=m+(u.length>0?" "+u:u);continue}I=!1}const C=x2(g).join(":"),M=v?C+y1:C,D=M+T;if(o.includes(D))continue;o.push(D);const V=s(T,I);for(let B=0;B<V.length;++B){const H=V[B];o.push(M+H)}u=m+(u.length>0?" "+u:u)}return u};function S2(){let n=0,e,t,r="";for(;n<arguments.length;)(e=arguments[n++])&&(t=v1(e))&&(r&&(r+=" "),r+=t);return r}const v1=n=>{if(typeof n=="string")return n;let e,t="";for(let r=0;r<n.length;r++)n[r]&&(e=v1(n[r]))&&(t&&(t+=" "),t+=e);return t};function C2(n,...e){let t,r,s,o=l;function l(f){const m=e.reduce((g,v)=>v(g),n());return t=E2(m),r=t.cache.get,s=t.cache.set,o=u,u(f)}function u(f){const m=r(f);if(m)return m;const g=T2(f,t);return s(f,g),g}return function(){return o(S2.apply(null,arguments))}}const Ct=n=>{const e=t=>t[n]||[];return e.isThemeGetter=!0,e},_1=/^\[(?:([a-z-]+):)?(.+)\]$/i,I2=/^\d+\/\d+$/,R2=new Set(["px","full","screen"]),N2=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,A2=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,k2=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,P2=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,j2=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,ui=n=>Al(n)||R2.has(n)||I2.test(n),Ki=n=>Zl(n,"length",$2),Al=n=>!!n&&!Number.isNaN(Number(n)),Ag=n=>Zl(n,"number",Al),Zc=n=>!!n&&Number.isInteger(Number(n)),D2=n=>n.endsWith("%")&&Al(n.slice(0,-1)),Ye=n=>_1.test(n),Qi=n=>N2.test(n),O2=new Set(["length","size","percentage"]),M2=n=>Zl(n,O2,w1),L2=n=>Zl(n,"position",w1),V2=new Set(["image","url"]),F2=n=>Zl(n,V2,z2),U2=n=>Zl(n,"",B2),eu=()=>!0,Zl=(n,e,t)=>{const r=_1.exec(n);return r?r[1]?typeof e=="string"?r[1]===e:e.has(r[1]):t(r[2]):!1},$2=n=>A2.test(n)&&!k2.test(n),w1=()=>!1,B2=n=>P2.test(n),z2=n=>j2.test(n),W2=()=>{const n=Ct("colors"),e=Ct("spacing"),t=Ct("blur"),r=Ct("brightness"),s=Ct("borderColor"),o=Ct("borderRadius"),l=Ct("borderSpacing"),u=Ct("borderWidth"),f=Ct("contrast"),m=Ct("grayscale"),g=Ct("hueRotate"),v=Ct("invert"),E=Ct("gap"),b=Ct("gradientColorStops"),I=Ct("gradientColorStopPositions"),T=Ct("inset"),C=Ct("margin"),M=Ct("opacity"),D=Ct("padding"),V=Ct("saturate"),B=Ct("scale"),H=Ct("sepia"),Q=Ct("skew"),k=Ct("space"),R=Ct("translate"),N=()=>["auto","contain","none"],j=()=>["auto","hidden","clip","visible","scroll"],L=()=>["auto",Ye,e],F=()=>[Ye,e],O=()=>["",ui,Ki],ne=()=>["auto",Al,Ye],Ee=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],de=()=>["solid","dashed","dotted","double","none"],ye=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],Z=()=>["start","end","center","between","around","evenly","stretch"],q=()=>["","0",Ye],ie=()=>["auto","avoid","all","avoid-page","page","left","right","column"],z=()=>[Al,Ye];return{cacheSize:500,separator:":",theme:{colors:[eu],spacing:[ui,Ki],blur:["none","",Qi,Ye],brightness:z(),borderColor:[n],borderRadius:["none","","full",Qi,Ye],borderSpacing:F(),borderWidth:O(),contrast:z(),grayscale:q(),hueRotate:z(),invert:q(),gap:F(),gradientColorStops:[n],gradientColorStopPositions:[D2,Ki],inset:L(),margin:L(),opacity:z(),padding:F(),saturate:z(),scale:z(),sepia:q(),skew:z(),space:F(),translate:F()},classGroups:{aspect:[{aspect:["auto","square","video",Ye]}],container:["container"],columns:[{columns:[Qi]}],"break-after":[{"break-after":ie()}],"break-before":[{"break-before":ie()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...Ee(),Ye]}],overflow:[{overflow:j()}],"overflow-x":[{"overflow-x":j()}],"overflow-y":[{"overflow-y":j()}],overscroll:[{overscroll:N()}],"overscroll-x":[{"overscroll-x":N()}],"overscroll-y":[{"overscroll-y":N()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[T]}],"inset-x":[{"inset-x":[T]}],"inset-y":[{"inset-y":[T]}],start:[{start:[T]}],end:[{end:[T]}],top:[{top:[T]}],right:[{right:[T]}],bottom:[{bottom:[T]}],left:[{left:[T]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",Zc,Ye]}],basis:[{basis:L()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",Ye]}],grow:[{grow:q()}],shrink:[{shrink:q()}],order:[{order:["first","last","none",Zc,Ye]}],"grid-cols":[{"grid-cols":[eu]}],"col-start-end":[{col:["auto",{span:["full",Zc,Ye]},Ye]}],"col-start":[{"col-start":ne()}],"col-end":[{"col-end":ne()}],"grid-rows":[{"grid-rows":[eu]}],"row-start-end":[{row:["auto",{span:[Zc,Ye]},Ye]}],"row-start":[{"row-start":ne()}],"row-end":[{"row-end":ne()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",Ye]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",Ye]}],gap:[{gap:[E]}],"gap-x":[{"gap-x":[E]}],"gap-y":[{"gap-y":[E]}],"justify-content":[{justify:["normal",...Z()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...Z(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...Z(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[D]}],px:[{px:[D]}],py:[{py:[D]}],ps:[{ps:[D]}],pe:[{pe:[D]}],pt:[{pt:[D]}],pr:[{pr:[D]}],pb:[{pb:[D]}],pl:[{pl:[D]}],m:[{m:[C]}],mx:[{mx:[C]}],my:[{my:[C]}],ms:[{ms:[C]}],me:[{me:[C]}],mt:[{mt:[C]}],mr:[{mr:[C]}],mb:[{mb:[C]}],ml:[{ml:[C]}],"space-x":[{"space-x":[k]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[k]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",Ye,e]}],"min-w":[{"min-w":[Ye,e,"min","max","fit"]}],"max-w":[{"max-w":[Ye,e,"none","full","min","max","fit","prose",{screen:[Qi]},Qi]}],h:[{h:[Ye,e,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[Ye,e,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[Ye,e,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[Ye,e,"auto","min","max","fit"]}],"font-size":[{text:["base",Qi,Ki]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",Ag]}],"font-family":[{font:[eu]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",Ye]}],"line-clamp":[{"line-clamp":["none",Al,Ag]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",ui,Ye]}],"list-image":[{"list-image":["none",Ye]}],"list-style-type":[{list:["none","disc","decimal",Ye]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[n]}],"placeholder-opacity":[{"placeholder-opacity":[M]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[n]}],"text-opacity":[{"text-opacity":[M]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...de(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",ui,Ki]}],"underline-offset":[{"underline-offset":["auto",ui,Ye]}],"text-decoration-color":[{decoration:[n]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:F()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",Ye]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",Ye]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[M]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...Ee(),L2]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",M2]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},F2]}],"bg-color":[{bg:[n]}],"gradient-from-pos":[{from:[I]}],"gradient-via-pos":[{via:[I]}],"gradient-to-pos":[{to:[I]}],"gradient-from":[{from:[b]}],"gradient-via":[{via:[b]}],"gradient-to":[{to:[b]}],rounded:[{rounded:[o]}],"rounded-s":[{"rounded-s":[o]}],"rounded-e":[{"rounded-e":[o]}],"rounded-t":[{"rounded-t":[o]}],"rounded-r":[{"rounded-r":[o]}],"rounded-b":[{"rounded-b":[o]}],"rounded-l":[{"rounded-l":[o]}],"rounded-ss":[{"rounded-ss":[o]}],"rounded-se":[{"rounded-se":[o]}],"rounded-ee":[{"rounded-ee":[o]}],"rounded-es":[{"rounded-es":[o]}],"rounded-tl":[{"rounded-tl":[o]}],"rounded-tr":[{"rounded-tr":[o]}],"rounded-br":[{"rounded-br":[o]}],"rounded-bl":[{"rounded-bl":[o]}],"border-w":[{border:[u]}],"border-w-x":[{"border-x":[u]}],"border-w-y":[{"border-y":[u]}],"border-w-s":[{"border-s":[u]}],"border-w-e":[{"border-e":[u]}],"border-w-t":[{"border-t":[u]}],"border-w-r":[{"border-r":[u]}],"border-w-b":[{"border-b":[u]}],"border-w-l":[{"border-l":[u]}],"border-opacity":[{"border-opacity":[M]}],"border-style":[{border:[...de(),"hidden"]}],"divide-x":[{"divide-x":[u]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[u]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[M]}],"divide-style":[{divide:de()}],"border-color":[{border:[s]}],"border-color-x":[{"border-x":[s]}],"border-color-y":[{"border-y":[s]}],"border-color-s":[{"border-s":[s]}],"border-color-e":[{"border-e":[s]}],"border-color-t":[{"border-t":[s]}],"border-color-r":[{"border-r":[s]}],"border-color-b":[{"border-b":[s]}],"border-color-l":[{"border-l":[s]}],"divide-color":[{divide:[s]}],"outline-style":[{outline:["",...de()]}],"outline-offset":[{"outline-offset":[ui,Ye]}],"outline-w":[{outline:[ui,Ki]}],"outline-color":[{outline:[n]}],"ring-w":[{ring:O()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[n]}],"ring-opacity":[{"ring-opacity":[M]}],"ring-offset-w":[{"ring-offset":[ui,Ki]}],"ring-offset-color":[{"ring-offset":[n]}],shadow:[{shadow:["","inner","none",Qi,U2]}],"shadow-color":[{shadow:[eu]}],opacity:[{opacity:[M]}],"mix-blend":[{"mix-blend":[...ye(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":ye()}],filter:[{filter:["","none"]}],blur:[{blur:[t]}],brightness:[{brightness:[r]}],contrast:[{contrast:[f]}],"drop-shadow":[{"drop-shadow":["","none",Qi,Ye]}],grayscale:[{grayscale:[m]}],"hue-rotate":[{"hue-rotate":[g]}],invert:[{invert:[v]}],saturate:[{saturate:[V]}],sepia:[{sepia:[H]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[t]}],"backdrop-brightness":[{"backdrop-brightness":[r]}],"backdrop-contrast":[{"backdrop-contrast":[f]}],"backdrop-grayscale":[{"backdrop-grayscale":[m]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[g]}],"backdrop-invert":[{"backdrop-invert":[v]}],"backdrop-opacity":[{"backdrop-opacity":[M]}],"backdrop-saturate":[{"backdrop-saturate":[V]}],"backdrop-sepia":[{"backdrop-sepia":[H]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[l]}],"border-spacing-x":[{"border-spacing-x":[l]}],"border-spacing-y":[{"border-spacing-y":[l]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",Ye]}],duration:[{duration:z()}],ease:[{ease:["linear","in","out","in-out",Ye]}],delay:[{delay:z()}],animate:[{animate:["none","spin","ping","pulse","bounce",Ye]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[B]}],"scale-x":[{"scale-x":[B]}],"scale-y":[{"scale-y":[B]}],rotate:[{rotate:[Zc,Ye]}],"translate-x":[{"translate-x":[R]}],"translate-y":[{"translate-y":[R]}],"skew-x":[{"skew-x":[Q]}],"skew-y":[{"skew-y":[Q]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",Ye]}],accent:[{accent:["auto",n]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",Ye]}],"caret-color":[{caret:[n]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":F()}],"scroll-mx":[{"scroll-mx":F()}],"scroll-my":[{"scroll-my":F()}],"scroll-ms":[{"scroll-ms":F()}],"scroll-me":[{"scroll-me":F()}],"scroll-mt":[{"scroll-mt":F()}],"scroll-mr":[{"scroll-mr":F()}],"scroll-mb":[{"scroll-mb":F()}],"scroll-ml":[{"scroll-ml":F()}],"scroll-p":[{"scroll-p":F()}],"scroll-px":[{"scroll-px":F()}],"scroll-py":[{"scroll-py":F()}],"scroll-ps":[{"scroll-ps":F()}],"scroll-pe":[{"scroll-pe":F()}],"scroll-pt":[{"scroll-pt":F()}],"scroll-pr":[{"scroll-pr":F()}],"scroll-pb":[{"scroll-pb":F()}],"scroll-pl":[{"scroll-pl":F()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",Ye]}],fill:[{fill:[n,"none"]}],"stroke-w":[{stroke:[ui,Ki,Ag]}],stroke:[{stroke:[n,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},H2=C2(W2);function He(...n){return H2(u1(n))}const q2=e2,x1=w.forwardRef(({className:n,...e},t)=>d.jsx(r1,{ref:t,className:He("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",n),...e}));x1.displayName=r1.displayName;const G2=lp("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),E1=w.forwardRef(({className:n,variant:e,...t},r)=>d.jsx(s1,{ref:r,className:He(G2({variant:e}),n),...t}));E1.displayName=s1.displayName;const K2=w.forwardRef(({className:n,...e},t)=>d.jsx(a1,{ref:t,className:He("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors group-[.destructive]:border-muted/40 hover:bg-secondary group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 group-[.destructive]:focus:ring-destructive disabled:pointer-events-none disabled:opacity-50",n),...e}));K2.displayName=a1.displayName;const b1=w.forwardRef(({className:n,...e},t)=>d.jsx(l1,{ref:t,className:He("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity group-hover:opacity-100 group-[.destructive]:text-red-300 hover:text-foreground group-[.destructive]:hover:text-red-50 focus:opacity-100 focus:outline-none focus:ring-2 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",n),"toast-close":"",...e,children:d.jsx(bv,{className:"h-4 w-4"})}));b1.displayName=l1.displayName;const T1=w.forwardRef(({className:n,...e},t)=>d.jsx(i1,{ref:t,className:He("text-sm font-semibold",n),...e}));T1.displayName=i1.displayName;const S1=w.forwardRef(({className:n,...e},t)=>d.jsx(o1,{ref:t,className:He("text-sm opacity-90",n),...e}));S1.displayName=o1.displayName;function Q2(){const{toasts:n}=LT();return d.jsxs(q2,{children:[n.map(function({id:e,title:t,description:r,action:s,...o}){return d.jsxs(E1,{...o,children:[d.jsxs("div",{className:"grid gap-1",children:[t&&d.jsx(T1,{children:t}),r&&d.jsx(S1,{children:r})]}),s,d.jsx(b1,{})]},e)}),d.jsx(x1,{})]})}var z0=["light","dark"],Y2="(prefers-color-scheme: dark)",X2=w.createContext(void 0),J2={setTheme:n=>{},themes:[]},Z2=()=>{var n;return(n=w.useContext(X2))!=null?n:J2};w.memo(({forcedTheme:n,storageKey:e,attribute:t,enableSystem:r,enableColorScheme:s,defaultTheme:o,value:l,attrs:u,nonce:f})=>{let m=o==="system",g=t==="class"?`var d=document.documentElement,c=d.classList;${`c.remove(${u.map(I=>`'${I}'`).join(",")})`};`:`var d=document.documentElement,n='${t}',s='setAttribute';`,v=s?z0.includes(o)&&o?`if(e==='light'||e==='dark'||!e)d.style.colorScheme=e||'${o}'`:"if(e==='light'||e==='dark')d.style.colorScheme=e":"",E=(I,T=!1,C=!0)=>{let M=l?l[I]:I,D=T?I+"|| ''":`'${M}'`,V="";return s&&C&&!T&&z0.includes(I)&&(V+=`d.style.colorScheme = '${I}';`),t==="class"?T||M?V+=`c.add(${D})`:V+="null":M&&(V+=`d[s](n,${D})`),V},b=n?`!function(){${g}${E(n)}}()`:r?`!function(){try{${g}var e=localStorage.getItem('${e}');if('system'===e||(!e&&${m})){var t='${Y2}',m=window.matchMedia(t);if(m.media!==t||m.matches){${E("dark")}}else{${E("light")}}}else if(e){${l?`var x=${JSON.stringify(l)};`:""}${E(l?"x[e]":"e",!0)}}${m?"":"else{"+E(o,!1,!1)+"}"}${v}}catch(e){}}()`:`!function(){try{${g}var e=localStorage.getItem('${e}');if(e){${l?`var x=${JSON.stringify(l)};`:""}${E(l?"x[e]":"e",!0)}}else{${E(o,!1,!1)};}${v}}catch(t){}}();`;return w.createElement("script",{nonce:f,dangerouslySetInnerHTML:{__html:b}})});var ej=n=>{switch(n){case"success":return rj;case"info":return ij;case"warning":return sj;case"error":return oj;default:return null}},tj=Array(12).fill(0),nj=({visible:n,className:e})=>he.createElement("div",{className:["sonner-loading-wrapper",e].filter(Boolean).join(" "),"data-visible":n},he.createElement("div",{className:"sonner-spinner"},tj.map((t,r)=>he.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${r}`})))),rj=he.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},he.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),sj=he.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},he.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),ij=he.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},he.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),oj=he.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},he.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),aj=he.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},he.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),he.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"})),lj=()=>{let[n,e]=he.useState(document.hidden);return he.useEffect(()=>{let t=()=>{e(document.hidden)};return document.addEventListener("visibilitychange",t),()=>window.removeEventListener("visibilitychange",t)},[]),n},fy=1,cj=class{constructor(){this.subscribe=n=>(this.subscribers.push(n),()=>{let e=this.subscribers.indexOf(n);this.subscribers.splice(e,1)}),this.publish=n=>{this.subscribers.forEach(e=>e(n))},this.addToast=n=>{this.publish(n),this.toasts=[...this.toasts,n]},this.create=n=>{var e;let{message:t,...r}=n,s=typeof n?.id=="number"||((e=n.id)==null?void 0:e.length)>0?n.id:fy++,o=this.toasts.find(u=>u.id===s),l=n.dismissible===void 0?!0:n.dismissible;return this.dismissedToasts.has(s)&&this.dismissedToasts.delete(s),o?this.toasts=this.toasts.map(u=>u.id===s?(this.publish({...u,...n,id:s,title:t}),{...u,...n,id:s,dismissible:l,title:t}):u):this.addToast({title:t,...r,dismissible:l,id:s}),s},this.dismiss=n=>(this.dismissedToasts.add(n),n||this.toasts.forEach(e=>{this.subscribers.forEach(t=>t({id:e.id,dismiss:!0}))}),this.subscribers.forEach(e=>e({id:n,dismiss:!0})),n),this.message=(n,e)=>this.create({...e,message:n}),this.error=(n,e)=>this.create({...e,message:n,type:"error"}),this.success=(n,e)=>this.create({...e,type:"success",message:n}),this.info=(n,e)=>this.create({...e,type:"info",message:n}),this.warning=(n,e)=>this.create({...e,type:"warning",message:n}),this.loading=(n,e)=>this.create({...e,type:"loading",message:n}),this.promise=(n,e)=>{if(!e)return;let t;e.loading!==void 0&&(t=this.create({...e,promise:n,type:"loading",message:e.loading,description:typeof e.description!="function"?e.description:void 0}));let r=n instanceof Promise?n:n(),s=t!==void 0,o,l=r.then(async f=>{if(o=["resolve",f],he.isValidElement(f))s=!1,this.create({id:t,type:"default",message:f});else if(dj(f)&&!f.ok){s=!1;let m=typeof e.error=="function"?await e.error(`HTTP error! status: ${f.status}`):e.error,g=typeof e.description=="function"?await e.description(`HTTP error! status: ${f.status}`):e.description;this.create({id:t,type:"error",message:m,description:g})}else if(e.success!==void 0){s=!1;let m=typeof e.success=="function"?await e.success(f):e.success,g=typeof e.description=="function"?await e.description(f):e.description;this.create({id:t,type:"success",message:m,description:g})}}).catch(async f=>{if(o=["reject",f],e.error!==void 0){s=!1;let m=typeof e.error=="function"?await e.error(f):e.error,g=typeof e.description=="function"?await e.description(f):e.description;this.create({id:t,type:"error",message:m,description:g})}}).finally(()=>{var f;s&&(this.dismiss(t),t=void 0),(f=e.finally)==null||f.call(e)}),u=()=>new Promise((f,m)=>l.then(()=>o[0]==="reject"?m(o[1]):f(o[1])).catch(m));return typeof t!="string"&&typeof t!="number"?{unwrap:u}:Object.assign(t,{unwrap:u})},this.custom=(n,e)=>{let t=e?.id||fy++;return this.create({jsx:n(t),id:t,...e}),t},this.getActiveToasts=()=>this.toasts.filter(n=>!this.dismissedToasts.has(n.id)),this.subscribers=[],this.toasts=[],this.dismissedToasts=new Set}},Gn=new cj,uj=(n,e)=>{let t=e?.id||fy++;return Gn.addToast({title:n,...e,id:t}),t},dj=n=>n&&typeof n=="object"&&"ok"in n&&typeof n.ok=="boolean"&&"status"in n&&typeof n.status=="number",hj=uj,fj=()=>Gn.toasts,pj=()=>Gn.getActiveToasts(),Pe=Object.assign(hj,{success:Gn.success,info:Gn.info,warning:Gn.warning,error:Gn.error,custom:Gn.custom,message:Gn.message,promise:Gn.promise,dismiss:Gn.dismiss,loading:Gn.loading},{getHistory:fj,getToasts:pj});function mj(n,{insertAt:e}={}){if(typeof document>"u")return;let t=document.head||document.getElementsByTagName("head")[0],r=document.createElement("style");r.type="text/css",e==="top"&&t.firstChild?t.insertBefore(r,t.firstChild):t.appendChild(r),r.styleSheet?r.styleSheet.cssText=n:r.appendChild(document.createTextNode(n))}mj(`:where(html[dir="ltr"]),:where([data-sonner-toaster][dir="ltr"]){--toast-icon-margin-start: -3px;--toast-icon-margin-end: 4px;--toast-svg-margin-start: -1px;--toast-svg-margin-end: 0px;--toast-button-margin-start: auto;--toast-button-margin-end: 0;--toast-close-button-start: 0;--toast-close-button-end: unset;--toast-close-button-transform: translate(-35%, -35%)}:where(html[dir="rtl"]),:where([data-sonner-toaster][dir="rtl"]){--toast-icon-margin-start: 4px;--toast-icon-margin-end: -3px;--toast-svg-margin-start: 0px;--toast-svg-margin-end: -1px;--toast-button-margin-start: 0;--toast-button-margin-end: auto;--toast-close-button-start: unset;--toast-close-button-end: 0;--toast-close-button-transform: translate(35%, -35%)}:where([data-sonner-toaster]){position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1: hsl(0, 0%, 99%);--gray2: hsl(0, 0%, 97.3%);--gray3: hsl(0, 0%, 95.1%);--gray4: hsl(0, 0%, 93%);--gray5: hsl(0, 0%, 90.9%);--gray6: hsl(0, 0%, 88.7%);--gray7: hsl(0, 0%, 85.8%);--gray8: hsl(0, 0%, 78%);--gray9: hsl(0, 0%, 56.1%);--gray10: hsl(0, 0%, 52.3%);--gray11: hsl(0, 0%, 43.5%);--gray12: hsl(0, 0%, 9%);--border-radius: 8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:none;z-index:999999999;transition:transform .4s ease}:where([data-sonner-toaster][data-lifted="true"]){transform:translateY(-10px)}@media (hover: none) and (pointer: coarse){:where([data-sonner-toaster][data-lifted="true"]){transform:none}}:where([data-sonner-toaster][data-x-position="right"]){right:var(--offset-right)}:where([data-sonner-toaster][data-x-position="left"]){left:var(--offset-left)}:where([data-sonner-toaster][data-x-position="center"]){left:50%;transform:translate(-50%)}:where([data-sonner-toaster][data-y-position="top"]){top:var(--offset-top)}:where([data-sonner-toaster][data-y-position="bottom"]){bottom:var(--offset-bottom)}:where([data-sonner-toast]){--y: translateY(100%);--lift-amount: calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);filter:blur(0);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:none;overflow-wrap:anywhere}:where([data-sonner-toast][data-styled="true"]){padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px #0000001a;width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}:where([data-sonner-toast]:focus-visible){box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast][data-y-position="top"]){top:0;--y: translateY(-100%);--lift: 1;--lift-amount: calc(1 * var(--gap))}:where([data-sonner-toast][data-y-position="bottom"]){bottom:0;--y: translateY(100%);--lift: -1;--lift-amount: calc(var(--lift) * var(--gap))}:where([data-sonner-toast]) :where([data-description]){font-weight:400;line-height:1.4;color:inherit}:where([data-sonner-toast]) :where([data-title]){font-weight:500;line-height:1.5;color:inherit}:where([data-sonner-toast]) :where([data-icon]){display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}:where([data-sonner-toast][data-promise="true"]) :where([data-icon])>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}:where([data-sonner-toast]) :where([data-icon])>*{flex-shrink:0}:where([data-sonner-toast]) :where([data-icon]) svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}:where([data-sonner-toast]) :where([data-content]){display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;cursor:pointer;outline:none;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}:where([data-sonner-toast]) :where([data-button]):focus-visible{box-shadow:0 0 0 2px #0006}:where([data-sonner-toast]) :where([data-button]):first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}:where([data-sonner-toast]) :where([data-cancel]){color:var(--normal-text);background:rgba(0,0,0,.08)}:where([data-sonner-toast][data-theme="dark"]) :where([data-cancel]){background:rgba(255,255,255,.3)}:where([data-sonner-toast]) :where([data-close-button]){position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;color:var(--gray12);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}[data-sonner-toast] [data-close-button]{background:var(--gray1)}:where([data-sonner-toast]) :where([data-close-button]):focus-visible{box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast]) :where([data-disabled="true"]){cursor:not-allowed}:where([data-sonner-toast]):hover :where([data-close-button]):hover{background:var(--gray2);border-color:var(--gray5)}:where([data-sonner-toast][data-swiping="true"]):before{content:"";position:absolute;left:-50%;right:-50%;height:100%;z-index:-1}:where([data-sonner-toast][data-y-position="top"][data-swiping="true"]):before{bottom:50%;transform:scaleY(3) translateY(50%)}:where([data-sonner-toast][data-y-position="bottom"][data-swiping="true"]):before{top:50%;transform:scaleY(3) translateY(-50%)}:where([data-sonner-toast][data-swiping="false"][data-removed="true"]):before{content:"";position:absolute;inset:0;transform:scaleY(2)}:where([data-sonner-toast]):after{content:"";position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}:where([data-sonner-toast][data-mounted="true"]){--y: translateY(0);opacity:1}:where([data-sonner-toast][data-expanded="false"][data-front="false"]){--scale: var(--toasts-before) * .05 + 1;--y: translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}:where([data-sonner-toast])>*{transition:opacity .4s}:where([data-sonner-toast][data-expanded="false"][data-front="false"][data-styled="true"])>*{opacity:0}:where([data-sonner-toast][data-visible="false"]){opacity:0;pointer-events:none}:where([data-sonner-toast][data-mounted="true"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}:where([data-sonner-toast][data-removed="true"][data-front="true"][data-swipe-out="false"]){--y: translateY(calc(var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="false"]){--y: translateY(40%);opacity:0;transition:transform .5s,opacity .2s}:where([data-sonner-toast][data-removed="true"][data-front="false"]):before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount-y, 0px)) translate(var(--swipe-amount-x, 0px));transition:none}[data-sonner-toast][data-swiped=true]{user-select:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation-duration:.2s;animation-timing-function:ease-out;animation-fill-mode:forwards}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=left]{animation-name:swipe-out-left}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=right]{animation-name:swipe-out-right}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=up]{animation-name:swipe-out-up}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=down]{animation-name:swipe-out-down}@keyframes swipe-out-left{0%{transform:var(--y) translate(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translate(calc(var(--swipe-amount-x) - 100%));opacity:0}}@keyframes swipe-out-right{0%{transform:var(--y) translate(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translate(calc(var(--swipe-amount-x) + 100%));opacity:0}}@keyframes swipe-out-up{0%{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) - 100%));opacity:0}}@keyframes swipe-out-down{0%{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) + 100%));opacity:0}}@media (max-width: 600px){[data-sonner-toaster]{position:fixed;right:var(--mobile-offset-right);left:var(--mobile-offset-left);width:100%}[data-sonner-toaster][dir=rtl]{left:calc(var(--mobile-offset-left) * -1)}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset-left) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset-left)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--mobile-offset-bottom)}[data-sonner-toaster][data-y-position=top]{top:var(--mobile-offset-top)}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset-left);right:var(--mobile-offset-right);transform:none}}[data-sonner-toaster][data-theme=light]{--normal-bg: #fff;--normal-border: var(--gray4);--normal-text: var(--gray12);--success-bg: hsl(143, 85%, 96%);--success-border: hsl(145, 92%, 91%);--success-text: hsl(140, 100%, 27%);--info-bg: hsl(208, 100%, 97%);--info-border: hsl(221, 91%, 91%);--info-text: hsl(210, 92%, 45%);--warning-bg: hsl(49, 100%, 97%);--warning-border: hsl(49, 91%, 91%);--warning-text: hsl(31, 92%, 45%);--error-bg: hsl(359, 100%, 97%);--error-border: hsl(359, 100%, 94%);--error-text: hsl(360, 100%, 45%)}[data-sonner-toaster][data-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg: #000;--normal-border: hsl(0, 0%, 20%);--normal-text: var(--gray1)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg: #fff;--normal-border: var(--gray3);--normal-text: var(--gray12)}[data-sonner-toaster][data-theme=dark]{--normal-bg: #000;--normal-bg-hover: hsl(0, 0%, 12%);--normal-border: hsl(0, 0%, 20%);--normal-border-hover: hsl(0, 0%, 25%);--normal-text: var(--gray1);--success-bg: hsl(150, 100%, 6%);--success-border: hsl(147, 100%, 12%);--success-text: hsl(150, 86%, 65%);--info-bg: hsl(215, 100%, 6%);--info-border: hsl(223, 100%, 12%);--info-text: hsl(216, 87%, 65%);--warning-bg: hsl(64, 100%, 6%);--warning-border: hsl(60, 100%, 12%);--warning-text: hsl(46, 87%, 65%);--error-bg: hsl(358, 76%, 10%);--error-border: hsl(357, 89%, 16%);--error-text: hsl(358, 100%, 81%)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast] [data-close-button]{background:var(--normal-bg);border-color:var(--normal-border);color:var(--normal-text)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast] [data-close-button]:hover{background:var(--normal-bg-hover);border-color:var(--normal-border-hover)}[data-rich-colors=true][data-sonner-toast][data-type=success],[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info],[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning],[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error],[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size: 16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:nth-child(1){animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}to{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}to{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}to{opacity:.15}}@media (prefers-reduced-motion){[data-sonner-toast],[data-sonner-toast]>*,.sonner-loading-bar{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}
`);function Dh(n){return n.label!==void 0}var gj=3,yj="32px",vj="16px",W0=4e3,_j=356,wj=14,xj=20,Ej=200;function Hr(...n){return n.filter(Boolean).join(" ")}function bj(n){let[e,t]=n.split("-"),r=[];return e&&r.push(e),t&&r.push(t),r}var Tj=n=>{var e,t,r,s,o,l,u,f,m,g,v;let{invert:E,toast:b,unstyled:I,interacting:T,setHeights:C,visibleToasts:M,heights:D,index:V,toasts:B,expanded:H,removeToast:Q,defaultRichColors:k,closeButton:R,style:N,cancelButtonStyle:j,actionButtonStyle:L,className:F="",descriptionClassName:O="",duration:ne,position:Ee,gap:de,loadingIcon:ye,expandByDefault:Z,classNames:q,icons:ie,closeButtonAriaLabel:z="Close toast",pauseWhenPageIsHidden:X}=n,[fe,me]=he.useState(null),[Re,ke]=he.useState(null),[re,Se]=he.useState(!1),[Ve,We]=he.useState(!1),[Ze,pt]=he.useState(!1),[Rt,xn]=he.useState(!1),[rs,Jn]=he.useState(!1),[Zn,qs]=he.useState(0),[Mt,Nt]=he.useState(0),dn=he.useRef(b.duration||ne||W0),Si=he.useRef(null),er=he.useRef(null),La=V===0,ss=V+1<=M,tn=b.type,tr=b.dismissible!==!1,is=b.className||"",Va=b.descriptionClassName||"",wr=he.useMemo(()=>D.findIndex(Oe=>Oe.toastId===b.id)||0,[D,b.id]),os=he.useMemo(()=>{var Oe;return(Oe=b.closeButton)!=null?Oe:R},[b.closeButton,R]),Oo=he.useMemo(()=>b.duration||ne||W0,[b.duration,ne]),xr=he.useRef(0),nr=he.useRef(0),Ci=he.useRef(0),nn=he.useRef(null),[Ii,as]=Ee.split("-"),Gs=he.useMemo(()=>D.reduce((Oe,at,mt)=>mt>=wr?Oe:Oe+at.height,0),[D,wr]),Er=lj(),Mr=b.invert||E,xt=tn==="loading";nr.current=he.useMemo(()=>wr*de+Gs,[wr,Gs]),he.useEffect(()=>{dn.current=Oo},[Oo]),he.useEffect(()=>{Se(!0)},[]),he.useEffect(()=>{let Oe=er.current;if(Oe){let at=Oe.getBoundingClientRect().height;return Nt(at),C(mt=>[{toastId:b.id,height:at,position:b.position},...mt]),()=>C(mt=>mt.filter(Lt=>Lt.toastId!==b.id))}},[C,b.id]),he.useLayoutEffect(()=>{if(!re)return;let Oe=er.current,at=Oe.style.height;Oe.style.height="auto";let mt=Oe.getBoundingClientRect().height;Oe.style.height=at,Nt(mt),C(Lt=>Lt.find(En=>En.toastId===b.id)?Lt.map(En=>En.toastId===b.id?{...En,height:mt}:En):[{toastId:b.id,height:mt,position:b.position},...Lt])},[re,b.title,b.description,C,b.id]);let Un=he.useCallback(()=>{We(!0),qs(nr.current),C(Oe=>Oe.filter(at=>at.toastId!==b.id)),setTimeout(()=>{Q(b)},Ej)},[b,Q,C,nr]);he.useEffect(()=>{if(b.promise&&tn==="loading"||b.duration===1/0||b.type==="loading")return;let Oe;return H||T||X&&Er?(()=>{if(Ci.current<xr.current){let at=new Date().getTime()-xr.current;dn.current=dn.current-at}Ci.current=new Date().getTime()})():dn.current!==1/0&&(xr.current=new Date().getTime(),Oe=setTimeout(()=>{var at;(at=b.onAutoClose)==null||at.call(b,b),Un()},dn.current)),()=>clearTimeout(Oe)},[H,T,b,tn,X,Er,Un]),he.useEffect(()=>{b.delete&&Un()},[Un,b.delete]);function ls(){var Oe,at,mt;return ie!=null&&ie.loading?he.createElement("div",{className:Hr(q?.loader,(Oe=b?.classNames)==null?void 0:Oe.loader,"sonner-loader"),"data-visible":tn==="loading"},ie.loading):ye?he.createElement("div",{className:Hr(q?.loader,(at=b?.classNames)==null?void 0:at.loader,"sonner-loader"),"data-visible":tn==="loading"},ye):he.createElement(nj,{className:Hr(q?.loader,(mt=b?.classNames)==null?void 0:mt.loader),visible:tn==="loading"})}return he.createElement("li",{tabIndex:0,ref:er,className:Hr(F,is,q?.toast,(e=b?.classNames)==null?void 0:e.toast,q?.default,q?.[tn],(t=b?.classNames)==null?void 0:t[tn]),"data-sonner-toast":"","data-rich-colors":(r=b.richColors)!=null?r:k,"data-styled":!(b.jsx||b.unstyled||I),"data-mounted":re,"data-promise":!!b.promise,"data-swiped":rs,"data-removed":Ve,"data-visible":ss,"data-y-position":Ii,"data-x-position":as,"data-index":V,"data-front":La,"data-swiping":Ze,"data-dismissible":tr,"data-type":tn,"data-invert":Mr,"data-swipe-out":Rt,"data-swipe-direction":Re,"data-expanded":!!(H||Z&&re),style:{"--index":V,"--toasts-before":V,"--z-index":B.length-V,"--offset":`${Ve?Zn:nr.current}px`,"--initial-height":Z?"auto":`${Mt}px`,...N,...b.style},onDragEnd:()=>{pt(!1),me(null),nn.current=null},onPointerDown:Oe=>{xt||!tr||(Si.current=new Date,qs(nr.current),Oe.target.setPointerCapture(Oe.pointerId),Oe.target.tagName!=="BUTTON"&&(pt(!0),nn.current={x:Oe.clientX,y:Oe.clientY}))},onPointerUp:()=>{var Oe,at,mt,Lt;if(Rt||!tr)return;nn.current=null;let En=Number(((Oe=er.current)==null?void 0:Oe.style.getPropertyValue("--swipe-amount-x").replace("px",""))||0),bn=Number(((at=er.current)==null?void 0:at.style.getPropertyValue("--swipe-amount-y").replace("px",""))||0),Tn=new Date().getTime()-((mt=Si.current)==null?void 0:mt.getTime()),zt=fe==="x"?En:bn,rr=Math.abs(zt)/Tn;if(Math.abs(zt)>=xj||rr>.11){qs(nr.current),(Lt=b.onDismiss)==null||Lt.call(b,b),ke(fe==="x"?En>0?"right":"left":bn>0?"down":"up"),Un(),xn(!0),Jn(!1);return}pt(!1),me(null)},onPointerMove:Oe=>{var at,mt,Lt,En;if(!nn.current||!tr||((at=window.getSelection())==null?void 0:at.toString().length)>0)return;let bn=Oe.clientY-nn.current.y,Tn=Oe.clientX-nn.current.x,zt=(mt=n.swipeDirections)!=null?mt:bj(Ee);!fe&&(Math.abs(Tn)>1||Math.abs(bn)>1)&&me(Math.abs(Tn)>Math.abs(bn)?"x":"y");let rr={x:0,y:0};fe==="y"?(zt.includes("top")||zt.includes("bottom"))&&(zt.includes("top")&&bn<0||zt.includes("bottom")&&bn>0)&&(rr.y=bn):fe==="x"&&(zt.includes("left")||zt.includes("right"))&&(zt.includes("left")&&Tn<0||zt.includes("right")&&Tn>0)&&(rr.x=Tn),(Math.abs(rr.x)>0||Math.abs(rr.y)>0)&&Jn(!0),(Lt=er.current)==null||Lt.style.setProperty("--swipe-amount-x",`${rr.x}px`),(En=er.current)==null||En.style.setProperty("--swipe-amount-y",`${rr.y}px`)}},os&&!b.jsx?he.createElement("button",{"aria-label":z,"data-disabled":xt,"data-close-button":!0,onClick:xt||!tr?()=>{}:()=>{var Oe;Un(),(Oe=b.onDismiss)==null||Oe.call(b,b)},className:Hr(q?.closeButton,(s=b?.classNames)==null?void 0:s.closeButton)},(o=ie?.close)!=null?o:aj):null,b.jsx||w.isValidElement(b.title)?b.jsx?b.jsx:typeof b.title=="function"?b.title():b.title:he.createElement(he.Fragment,null,tn||b.icon||b.promise?he.createElement("div",{"data-icon":"",className:Hr(q?.icon,(l=b?.classNames)==null?void 0:l.icon)},b.promise||b.type==="loading"&&!b.icon?b.icon||ls():null,b.type!=="loading"?b.icon||ie?.[tn]||ej(tn):null):null,he.createElement("div",{"data-content":"",className:Hr(q?.content,(u=b?.classNames)==null?void 0:u.content)},he.createElement("div",{"data-title":"",className:Hr(q?.title,(f=b?.classNames)==null?void 0:f.title)},typeof b.title=="function"?b.title():b.title),b.description?he.createElement("div",{"data-description":"",className:Hr(O,Va,q?.description,(m=b?.classNames)==null?void 0:m.description)},typeof b.description=="function"?b.description():b.description):null),w.isValidElement(b.cancel)?b.cancel:b.cancel&&Dh(b.cancel)?he.createElement("button",{"data-button":!0,"data-cancel":!0,style:b.cancelButtonStyle||j,onClick:Oe=>{var at,mt;Dh(b.cancel)&&tr&&((mt=(at=b.cancel).onClick)==null||mt.call(at,Oe),Un())},className:Hr(q?.cancelButton,(g=b?.classNames)==null?void 0:g.cancelButton)},b.cancel.label):null,w.isValidElement(b.action)?b.action:b.action&&Dh(b.action)?he.createElement("button",{"data-button":!0,"data-action":!0,style:b.actionButtonStyle||L,onClick:Oe=>{var at,mt;Dh(b.action)&&((mt=(at=b.action).onClick)==null||mt.call(at,Oe),!Oe.defaultPrevented&&Un())},className:Hr(q?.actionButton,(v=b?.classNames)==null?void 0:v.actionButton)},b.action.label):null))};function H0(){if(typeof window>"u"||typeof document>"u")return"ltr";let n=document.documentElement.getAttribute("dir");return n==="auto"||!n?window.getComputedStyle(document.documentElement).direction:n}function Sj(n,e){let t={};return[n,e].forEach((r,s)=>{let o=s===1,l=o?"--mobile-offset":"--offset",u=o?vj:yj;function f(m){["top","right","bottom","left"].forEach(g=>{t[`${l}-${g}`]=typeof m=="number"?`${m}px`:m})}typeof r=="number"||typeof r=="string"?f(r):typeof r=="object"?["top","right","bottom","left"].forEach(m=>{r[m]===void 0?t[`${l}-${m}`]=u:t[`${l}-${m}`]=typeof r[m]=="number"?`${r[m]}px`:r[m]}):f(u)}),t}var Cj=w.forwardRef(function(n,e){let{invert:t,position:r="bottom-right",hotkey:s=["altKey","KeyT"],expand:o,closeButton:l,className:u,offset:f,mobileOffset:m,theme:g="light",richColors:v,duration:E,style:b,visibleToasts:I=gj,toastOptions:T,dir:C=H0(),gap:M=wj,loadingIcon:D,icons:V,containerAriaLabel:B="Notifications",pauseWhenPageIsHidden:H}=n,[Q,k]=he.useState([]),R=he.useMemo(()=>Array.from(new Set([r].concat(Q.filter(X=>X.position).map(X=>X.position)))),[Q,r]),[N,j]=he.useState([]),[L,F]=he.useState(!1),[O,ne]=he.useState(!1),[Ee,de]=he.useState(g!=="system"?g:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),ye=he.useRef(null),Z=s.join("+").replace(/Key/g,"").replace(/Digit/g,""),q=he.useRef(null),ie=he.useRef(!1),z=he.useCallback(X=>{k(fe=>{var me;return(me=fe.find(Re=>Re.id===X.id))!=null&&me.delete||Gn.dismiss(X.id),fe.filter(({id:Re})=>Re!==X.id)})},[]);return he.useEffect(()=>Gn.subscribe(X=>{if(X.dismiss){k(fe=>fe.map(me=>me.id===X.id?{...me,delete:!0}:me));return}setTimeout(()=>{VT.flushSync(()=>{k(fe=>{let me=fe.findIndex(Re=>Re.id===X.id);return me!==-1?[...fe.slice(0,me),{...fe[me],...X},...fe.slice(me+1)]:[X,...fe]})})})}),[]),he.useEffect(()=>{if(g!=="system"){de(g);return}if(g==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?de("dark"):de("light")),typeof window>"u")return;let X=window.matchMedia("(prefers-color-scheme: dark)");try{X.addEventListener("change",({matches:fe})=>{de(fe?"dark":"light")})}catch{X.addListener(({matches:me})=>{try{de(me?"dark":"light")}catch(Re){console.error(Re)}})}},[g]),he.useEffect(()=>{Q.length<=1&&F(!1)},[Q]),he.useEffect(()=>{let X=fe=>{var me,Re;s.every(ke=>fe[ke]||fe.code===ke)&&(F(!0),(me=ye.current)==null||me.focus()),fe.code==="Escape"&&(document.activeElement===ye.current||(Re=ye.current)!=null&&Re.contains(document.activeElement))&&F(!1)};return document.addEventListener("keydown",X),()=>document.removeEventListener("keydown",X)},[s]),he.useEffect(()=>{if(ye.current)return()=>{q.current&&(q.current.focus({preventScroll:!0}),q.current=null,ie.current=!1)}},[ye.current]),he.createElement("section",{ref:e,"aria-label":`${B} ${Z}`,tabIndex:-1,"aria-live":"polite","aria-relevant":"additions text","aria-atomic":"false",suppressHydrationWarning:!0},R.map((X,fe)=>{var me;let[Re,ke]=X.split("-");return Q.length?he.createElement("ol",{key:X,dir:C==="auto"?H0():C,tabIndex:-1,ref:ye,className:u,"data-sonner-toaster":!0,"data-theme":Ee,"data-y-position":Re,"data-lifted":L&&Q.length>1&&!o,"data-x-position":ke,style:{"--front-toast-height":`${((me=N[0])==null?void 0:me.height)||0}px`,"--width":`${_j}px`,"--gap":`${M}px`,...b,...Sj(f,m)},onBlur:re=>{ie.current&&!re.currentTarget.contains(re.relatedTarget)&&(ie.current=!1,q.current&&(q.current.focus({preventScroll:!0}),q.current=null))},onFocus:re=>{re.target instanceof HTMLElement&&re.target.dataset.dismissible==="false"||ie.current||(ie.current=!0,q.current=re.relatedTarget)},onMouseEnter:()=>F(!0),onMouseMove:()=>F(!0),onMouseLeave:()=>{O||F(!1)},onDragEnd:()=>F(!1),onPointerDown:re=>{re.target instanceof HTMLElement&&re.target.dataset.dismissible==="false"||ne(!0)},onPointerUp:()=>ne(!1)},Q.filter(re=>!re.position&&fe===0||re.position===X).map((re,Se)=>{var Ve,We;return he.createElement(Tj,{key:re.id,icons:V,index:Se,toast:re,defaultRichColors:v,duration:(Ve=T?.duration)!=null?Ve:E,className:T?.className,descriptionClassName:T?.descriptionClassName,invert:t,visibleToasts:I,closeButton:(We=T?.closeButton)!=null?We:l,interacting:O,position:X,style:T?.style,unstyled:T?.unstyled,classNames:T?.classNames,cancelButtonStyle:T?.cancelButtonStyle,actionButtonStyle:T?.actionButtonStyle,removeToast:z,toasts:Q.filter(Ze=>Ze.position==re.position),heights:N.filter(Ze=>Ze.position==re.position),setHeights:j,expandByDefault:o,gap:M,loadingIcon:D,expanded:L,pauseWhenPageIsHidden:H,swipeDirections:n.swipeDirections})})):null}))});const Ij=({...n})=>{const{theme:e="system"}=Z2();return d.jsx(Cj,{theme:e,className:"toaster group",toastOptions:{classNames:{toast:"group toast group-[.toaster]:bg-background group-[.toaster]:text-foreground group-[.toaster]:border-border group-[.toaster]:shadow-lg",description:"group-[.toast]:text-muted-foreground",actionButton:"group-[.toast]:bg-primary group-[.toast]:text-primary-foreground",cancelButton:"group-[.toast]:bg-muted group-[.toast]:text-muted-foreground"}},...n})};var Rj=pv[" useId ".trim().toString()]||(()=>{}),Nj=0;function fi(n){const[e,t]=w.useState(Rj());return Xt(()=>{t(r=>r??String(Nj++))},[n]),e?`radix-${e}`:""}const Aj=["top","right","bottom","left"],go=Math.min,fr=Math.max,gf=Math.round,Oh=Math.floor,ks=n=>({x:n,y:n}),kj={left:"right",right:"left",bottom:"top",top:"bottom"},Pj={start:"end",end:"start"};function py(n,e,t){return fr(n,go(e,t))}function mi(n,e){return typeof n=="function"?n(e):n}function gi(n){return n.split("-")[0]}function ec(n){return n.split("-")[1]}function Sv(n){return n==="x"?"y":"x"}function Cv(n){return n==="y"?"height":"width"}const jj=new Set(["top","bottom"]);function Ns(n){return jj.has(gi(n))?"y":"x"}function Iv(n){return Sv(Ns(n))}function Dj(n,e,t){t===void 0&&(t=!1);const r=ec(n),s=Iv(n),o=Cv(s);let l=s==="x"?r===(t?"end":"start")?"right":"left":r==="start"?"bottom":"top";return e.reference[o]>e.floating[o]&&(l=yf(l)),[l,yf(l)]}function Oj(n){const e=yf(n);return[my(n),e,my(e)]}function my(n){return n.replace(/start|end/g,e=>Pj[e])}const q0=["left","right"],G0=["right","left"],Mj=["top","bottom"],Lj=["bottom","top"];function Vj(n,e,t){switch(n){case"top":case"bottom":return t?e?G0:q0:e?q0:G0;case"left":case"right":return e?Mj:Lj;default:return[]}}function Fj(n,e,t,r){const s=ec(n);let o=Vj(gi(n),t==="start",r);return s&&(o=o.map(l=>l+"-"+s),e&&(o=o.concat(o.map(my)))),o}function yf(n){return n.replace(/left|right|bottom|top/g,e=>kj[e])}function Uj(n){return{top:0,right:0,bottom:0,left:0,...n}}function C1(n){return typeof n!="number"?Uj(n):{top:n,right:n,bottom:n,left:n}}function vf(n){const{x:e,y:t,width:r,height:s}=n;return{width:r,height:s,top:t,left:e,right:e+r,bottom:t+s,x:e,y:t}}function K0(n,e,t){let{reference:r,floating:s}=n;const o=Ns(e),l=Iv(e),u=Cv(l),f=gi(e),m=o==="y",g=r.x+r.width/2-s.width/2,v=r.y+r.height/2-s.height/2,E=r[u]/2-s[u]/2;let b;switch(f){case"top":b={x:g,y:r.y-s.height};break;case"bottom":b={x:g,y:r.y+r.height};break;case"right":b={x:r.x+r.width,y:v};break;case"left":b={x:r.x-s.width,y:v};break;default:b={x:r.x,y:r.y}}switch(ec(e)){case"start":b[l]-=E*(t&&m?-1:1);break;case"end":b[l]+=E*(t&&m?-1:1);break}return b}const $j=async(n,e,t)=>{const{placement:r="bottom",strategy:s="absolute",middleware:o=[],platform:l}=t,u=o.filter(Boolean),f=await(l.isRTL==null?void 0:l.isRTL(e));let m=await l.getElementRects({reference:n,floating:e,strategy:s}),{x:g,y:v}=K0(m,r,f),E=r,b={},I=0;for(let T=0;T<u.length;T++){const{name:C,fn:M}=u[T],{x:D,y:V,data:B,reset:H}=await M({x:g,y:v,initialPlacement:r,placement:E,strategy:s,middlewareData:b,rects:m,platform:l,elements:{reference:n,floating:e}});g=D??g,v=V??v,b={...b,[C]:{...b[C],...B}},H&&I<=50&&(I++,typeof H=="object"&&(H.placement&&(E=H.placement),H.rects&&(m=H.rects===!0?await l.getElementRects({reference:n,floating:e,strategy:s}):H.rects),{x:g,y:v}=K0(m,E,f)),T=-1)}return{x:g,y:v,placement:E,strategy:s,middlewareData:b}};async function Iu(n,e){var t;e===void 0&&(e={});const{x:r,y:s,platform:o,rects:l,elements:u,strategy:f}=n,{boundary:m="clippingAncestors",rootBoundary:g="viewport",elementContext:v="floating",altBoundary:E=!1,padding:b=0}=mi(e,n),I=C1(b),C=u[E?v==="floating"?"reference":"floating":v],M=vf(await o.getClippingRect({element:(t=await(o.isElement==null?void 0:o.isElement(C)))==null||t?C:C.contextElement||await(o.getDocumentElement==null?void 0:o.getDocumentElement(u.floating)),boundary:m,rootBoundary:g,strategy:f})),D=v==="floating"?{x:r,y:s,width:l.floating.width,height:l.floating.height}:l.reference,V=await(o.getOffsetParent==null?void 0:o.getOffsetParent(u.floating)),B=await(o.isElement==null?void 0:o.isElement(V))?await(o.getScale==null?void 0:o.getScale(V))||{x:1,y:1}:{x:1,y:1},H=vf(o.convertOffsetParentRelativeRectToViewportRelativeRect?await o.convertOffsetParentRelativeRectToViewportRelativeRect({elements:u,rect:D,offsetParent:V,strategy:f}):D);return{top:(M.top-H.top+I.top)/B.y,bottom:(H.bottom-M.bottom+I.bottom)/B.y,left:(M.left-H.left+I.left)/B.x,right:(H.right-M.right+I.right)/B.x}}const Bj=n=>({name:"arrow",options:n,async fn(e){const{x:t,y:r,placement:s,rects:o,platform:l,elements:u,middlewareData:f}=e,{element:m,padding:g=0}=mi(n,e)||{};if(m==null)return{};const v=C1(g),E={x:t,y:r},b=Iv(s),I=Cv(b),T=await l.getDimensions(m),C=b==="y",M=C?"top":"left",D=C?"bottom":"right",V=C?"clientHeight":"clientWidth",B=o.reference[I]+o.reference[b]-E[b]-o.floating[I],H=E[b]-o.reference[b],Q=await(l.getOffsetParent==null?void 0:l.getOffsetParent(m));let k=Q?Q[V]:0;(!k||!await(l.isElement==null?void 0:l.isElement(Q)))&&(k=u.floating[V]||o.floating[I]);const R=B/2-H/2,N=k/2-T[I]/2-1,j=go(v[M],N),L=go(v[D],N),F=j,O=k-T[I]-L,ne=k/2-T[I]/2+R,Ee=py(F,ne,O),de=!f.arrow&&ec(s)!=null&&ne!==Ee&&o.reference[I]/2-(ne<F?j:L)-T[I]/2<0,ye=de?ne<F?ne-F:ne-O:0;return{[b]:E[b]+ye,data:{[b]:Ee,centerOffset:ne-Ee-ye,...de&&{alignmentOffset:ye}},reset:de}}}),zj=function(n){return n===void 0&&(n={}),{name:"flip",options:n,async fn(e){var t,r;const{placement:s,middlewareData:o,rects:l,initialPlacement:u,platform:f,elements:m}=e,{mainAxis:g=!0,crossAxis:v=!0,fallbackPlacements:E,fallbackStrategy:b="bestFit",fallbackAxisSideDirection:I="none",flipAlignment:T=!0,...C}=mi(n,e);if((t=o.arrow)!=null&&t.alignmentOffset)return{};const M=gi(s),D=Ns(u),V=gi(u)===u,B=await(f.isRTL==null?void 0:f.isRTL(m.floating)),H=E||(V||!T?[yf(u)]:Oj(u)),Q=I!=="none";!E&&Q&&H.push(...Fj(u,T,I,B));const k=[u,...H],R=await Iu(e,C),N=[];let j=((r=o.flip)==null?void 0:r.overflows)||[];if(g&&N.push(R[M]),v){const ne=Dj(s,l,B);N.push(R[ne[0]],R[ne[1]])}if(j=[...j,{placement:s,overflows:N}],!N.every(ne=>ne<=0)){var L,F;const ne=(((L=o.flip)==null?void 0:L.index)||0)+1,Ee=k[ne];if(Ee&&(!(v==="alignment"?D!==Ns(Ee):!1)||j.every(Z=>Z.overflows[0]>0&&Ns(Z.placement)===D)))return{data:{index:ne,overflows:j},reset:{placement:Ee}};let de=(F=j.filter(ye=>ye.overflows[0]<=0).sort((ye,Z)=>ye.overflows[1]-Z.overflows[1])[0])==null?void 0:F.placement;if(!de)switch(b){case"bestFit":{var O;const ye=(O=j.filter(Z=>{if(Q){const q=Ns(Z.placement);return q===D||q==="y"}return!0}).map(Z=>[Z.placement,Z.overflows.filter(q=>q>0).reduce((q,ie)=>q+ie,0)]).sort((Z,q)=>Z[1]-q[1])[0])==null?void 0:O[0];ye&&(de=ye);break}case"initialPlacement":de=u;break}if(s!==de)return{reset:{placement:de}}}return{}}}};function Q0(n,e){return{top:n.top-e.height,right:n.right-e.width,bottom:n.bottom-e.height,left:n.left-e.width}}function Y0(n){return Aj.some(e=>n[e]>=0)}const Wj=function(n){return n===void 0&&(n={}),{name:"hide",options:n,async fn(e){const{rects:t}=e,{strategy:r="referenceHidden",...s}=mi(n,e);switch(r){case"referenceHidden":{const o=await Iu(e,{...s,elementContext:"reference"}),l=Q0(o,t.reference);return{data:{referenceHiddenOffsets:l,referenceHidden:Y0(l)}}}case"escaped":{const o=await Iu(e,{...s,altBoundary:!0}),l=Q0(o,t.floating);return{data:{escapedOffsets:l,escaped:Y0(l)}}}default:return{}}}}},I1=new Set(["left","top"]);async function Hj(n,e){const{placement:t,platform:r,elements:s}=n,o=await(r.isRTL==null?void 0:r.isRTL(s.floating)),l=gi(t),u=ec(t),f=Ns(t)==="y",m=I1.has(l)?-1:1,g=o&&f?-1:1,v=mi(e,n);let{mainAxis:E,crossAxis:b,alignmentAxis:I}=typeof v=="number"?{mainAxis:v,crossAxis:0,alignmentAxis:null}:{mainAxis:v.mainAxis||0,crossAxis:v.crossAxis||0,alignmentAxis:v.alignmentAxis};return u&&typeof I=="number"&&(b=u==="end"?I*-1:I),f?{x:b*g,y:E*m}:{x:E*m,y:b*g}}const qj=function(n){return n===void 0&&(n=0),{name:"offset",options:n,async fn(e){var t,r;const{x:s,y:o,placement:l,middlewareData:u}=e,f=await Hj(e,n);return l===((t=u.offset)==null?void 0:t.placement)&&(r=u.arrow)!=null&&r.alignmentOffset?{}:{x:s+f.x,y:o+f.y,data:{...f,placement:l}}}}},Gj=function(n){return n===void 0&&(n={}),{name:"shift",options:n,async fn(e){const{x:t,y:r,placement:s}=e,{mainAxis:o=!0,crossAxis:l=!1,limiter:u={fn:C=>{let{x:M,y:D}=C;return{x:M,y:D}}},...f}=mi(n,e),m={x:t,y:r},g=await Iu(e,f),v=Ns(gi(s)),E=Sv(v);let b=m[E],I=m[v];if(o){const C=E==="y"?"top":"left",M=E==="y"?"bottom":"right",D=b+g[C],V=b-g[M];b=py(D,b,V)}if(l){const C=v==="y"?"top":"left",M=v==="y"?"bottom":"right",D=I+g[C],V=I-g[M];I=py(D,I,V)}const T=u.fn({...e,[E]:b,[v]:I});return{...T,data:{x:T.x-t,y:T.y-r,enabled:{[E]:o,[v]:l}}}}}},Kj=function(n){return n===void 0&&(n={}),{options:n,fn(e){const{x:t,y:r,placement:s,rects:o,middlewareData:l}=e,{offset:u=0,mainAxis:f=!0,crossAxis:m=!0}=mi(n,e),g={x:t,y:r},v=Ns(s),E=Sv(v);let b=g[E],I=g[v];const T=mi(u,e),C=typeof T=="number"?{mainAxis:T,crossAxis:0}:{mainAxis:0,crossAxis:0,...T};if(f){const V=E==="y"?"height":"width",B=o.reference[E]-o.floating[V]+C.mainAxis,H=o.reference[E]+o.reference[V]-C.mainAxis;b<B?b=B:b>H&&(b=H)}if(m){var M,D;const V=E==="y"?"width":"height",B=I1.has(gi(s)),H=o.reference[v]-o.floating[V]+(B&&((M=l.offset)==null?void 0:M[v])||0)+(B?0:C.crossAxis),Q=o.reference[v]+o.reference[V]+(B?0:((D=l.offset)==null?void 0:D[v])||0)-(B?C.crossAxis:0);I<H?I=H:I>Q&&(I=Q)}return{[E]:b,[v]:I}}}},Qj=function(n){return n===void 0&&(n={}),{name:"size",options:n,async fn(e){var t,r;const{placement:s,rects:o,platform:l,elements:u}=e,{apply:f=()=>{},...m}=mi(n,e),g=await Iu(e,m),v=gi(s),E=ec(s),b=Ns(s)==="y",{width:I,height:T}=o.floating;let C,M;v==="top"||v==="bottom"?(C=v,M=E===(await(l.isRTL==null?void 0:l.isRTL(u.floating))?"start":"end")?"left":"right"):(M=v,C=E==="end"?"top":"bottom");const D=T-g.top-g.bottom,V=I-g.left-g.right,B=go(T-g[C],D),H=go(I-g[M],V),Q=!e.middlewareData.shift;let k=B,R=H;if((t=e.middlewareData.shift)!=null&&t.enabled.x&&(R=V),(r=e.middlewareData.shift)!=null&&r.enabled.y&&(k=D),Q&&!E){const j=fr(g.left,0),L=fr(g.right,0),F=fr(g.top,0),O=fr(g.bottom,0);b?R=I-2*(j!==0||L!==0?j+L:fr(g.left,g.right)):k=T-2*(F!==0||O!==0?F+O:fr(g.top,g.bottom))}await f({...e,availableWidth:R,availableHeight:k});const N=await l.getDimensions(u.floating);return I!==N.width||T!==N.height?{reset:{rects:!0}}:{}}}};function up(){return typeof window<"u"}function tc(n){return R1(n)?(n.nodeName||"").toLowerCase():"#document"}function yr(n){var e;return(n==null||(e=n.ownerDocument)==null?void 0:e.defaultView)||window}function zs(n){var e;return(e=(R1(n)?n.ownerDocument:n.document)||window.document)==null?void 0:e.documentElement}function R1(n){return up()?n instanceof Node||n instanceof yr(n).Node:!1}function Yr(n){return up()?n instanceof Element||n instanceof yr(n).Element:!1}function Us(n){return up()?n instanceof HTMLElement||n instanceof yr(n).HTMLElement:!1}function X0(n){return!up()||typeof ShadowRoot>"u"?!1:n instanceof ShadowRoot||n instanceof yr(n).ShadowRoot}const Yj=new Set(["inline","contents"]);function Zu(n){const{overflow:e,overflowX:t,overflowY:r,display:s}=Xr(n);return/auto|scroll|overlay|hidden|clip/.test(e+r+t)&&!Yj.has(s)}const Xj=new Set(["table","td","th"]);function Jj(n){return Xj.has(tc(n))}const Zj=[":popover-open",":modal"];function dp(n){return Zj.some(e=>{try{return n.matches(e)}catch{return!1}})}const eD=["transform","translate","scale","rotate","perspective"],tD=["transform","translate","scale","rotate","perspective","filter"],nD=["paint","layout","strict","content"];function Rv(n){const e=Nv(),t=Yr(n)?Xr(n):n;return eD.some(r=>t[r]?t[r]!=="none":!1)||(t.containerType?t.containerType!=="normal":!1)||!e&&(t.backdropFilter?t.backdropFilter!=="none":!1)||!e&&(t.filter?t.filter!=="none":!1)||tD.some(r=>(t.willChange||"").includes(r))||nD.some(r=>(t.contain||"").includes(r))}function rD(n){let e=yo(n);for(;Us(e)&&!Vl(e);){if(Rv(e))return e;if(dp(e))return null;e=yo(e)}return null}function Nv(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const sD=new Set(["html","body","#document"]);function Vl(n){return sD.has(tc(n))}function Xr(n){return yr(n).getComputedStyle(n)}function hp(n){return Yr(n)?{scrollLeft:n.scrollLeft,scrollTop:n.scrollTop}:{scrollLeft:n.scrollX,scrollTop:n.scrollY}}function yo(n){if(tc(n)==="html")return n;const e=n.assignedSlot||n.parentNode||X0(n)&&n.host||zs(n);return X0(e)?e.host:e}function N1(n){const e=yo(n);return Vl(e)?n.ownerDocument?n.ownerDocument.body:n.body:Us(e)&&Zu(e)?e:N1(e)}function Ru(n,e,t){var r;e===void 0&&(e=[]),t===void 0&&(t=!0);const s=N1(n),o=s===((r=n.ownerDocument)==null?void 0:r.body),l=yr(s);if(o){const u=gy(l);return e.concat(l,l.visualViewport||[],Zu(s)?s:[],u&&t?Ru(u):[])}return e.concat(s,Ru(s,[],t))}function gy(n){return n.parent&&Object.getPrototypeOf(n.parent)?n.frameElement:null}function A1(n){const e=Xr(n);let t=parseFloat(e.width)||0,r=parseFloat(e.height)||0;const s=Us(n),o=s?n.offsetWidth:t,l=s?n.offsetHeight:r,u=gf(t)!==o||gf(r)!==l;return u&&(t=o,r=l),{width:t,height:r,$:u}}function Av(n){return Yr(n)?n:n.contextElement}function kl(n){const e=Av(n);if(!Us(e))return ks(1);const t=e.getBoundingClientRect(),{width:r,height:s,$:o}=A1(e);let l=(o?gf(t.width):t.width)/r,u=(o?gf(t.height):t.height)/s;return(!l||!Number.isFinite(l))&&(l=1),(!u||!Number.isFinite(u))&&(u=1),{x:l,y:u}}const iD=ks(0);function k1(n){const e=yr(n);return!Nv()||!e.visualViewport?iD:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function oD(n,e,t){return e===void 0&&(e=!1),!t||e&&t!==yr(n)?!1:e}function ma(n,e,t,r){e===void 0&&(e=!1),t===void 0&&(t=!1);const s=n.getBoundingClientRect(),o=Av(n);let l=ks(1);e&&(r?Yr(r)&&(l=kl(r)):l=kl(n));const u=oD(o,t,r)?k1(o):ks(0);let f=(s.left+u.x)/l.x,m=(s.top+u.y)/l.y,g=s.width/l.x,v=s.height/l.y;if(o){const E=yr(o),b=r&&Yr(r)?yr(r):r;let I=E,T=gy(I);for(;T&&r&&b!==I;){const C=kl(T),M=T.getBoundingClientRect(),D=Xr(T),V=M.left+(T.clientLeft+parseFloat(D.paddingLeft))*C.x,B=M.top+(T.clientTop+parseFloat(D.paddingTop))*C.y;f*=C.x,m*=C.y,g*=C.x,v*=C.y,f+=V,m+=B,I=yr(T),T=gy(I)}}return vf({width:g,height:v,x:f,y:m})}function kv(n,e){const t=hp(n).scrollLeft;return e?e.left+t:ma(zs(n)).left+t}function P1(n,e,t){t===void 0&&(t=!1);const r=n.getBoundingClientRect(),s=r.left+e.scrollLeft-(t?0:kv(n,r)),o=r.top+e.scrollTop;return{x:s,y:o}}function aD(n){let{elements:e,rect:t,offsetParent:r,strategy:s}=n;const o=s==="fixed",l=zs(r),u=e?dp(e.floating):!1;if(r===l||u&&o)return t;let f={scrollLeft:0,scrollTop:0},m=ks(1);const g=ks(0),v=Us(r);if((v||!v&&!o)&&((tc(r)!=="body"||Zu(l))&&(f=hp(r)),Us(r))){const b=ma(r);m=kl(r),g.x=b.x+r.clientLeft,g.y=b.y+r.clientTop}const E=l&&!v&&!o?P1(l,f,!0):ks(0);return{width:t.width*m.x,height:t.height*m.y,x:t.x*m.x-f.scrollLeft*m.x+g.x+E.x,y:t.y*m.y-f.scrollTop*m.y+g.y+E.y}}function lD(n){return Array.from(n.getClientRects())}function cD(n){const e=zs(n),t=hp(n),r=n.ownerDocument.body,s=fr(e.scrollWidth,e.clientWidth,r.scrollWidth,r.clientWidth),o=fr(e.scrollHeight,e.clientHeight,r.scrollHeight,r.clientHeight);let l=-t.scrollLeft+kv(n);const u=-t.scrollTop;return Xr(r).direction==="rtl"&&(l+=fr(e.clientWidth,r.clientWidth)-s),{width:s,height:o,x:l,y:u}}function uD(n,e){const t=yr(n),r=zs(n),s=t.visualViewport;let o=r.clientWidth,l=r.clientHeight,u=0,f=0;if(s){o=s.width,l=s.height;const m=Nv();(!m||m&&e==="fixed")&&(u=s.offsetLeft,f=s.offsetTop)}return{width:o,height:l,x:u,y:f}}const dD=new Set(["absolute","fixed"]);function hD(n,e){const t=ma(n,!0,e==="fixed"),r=t.top+n.clientTop,s=t.left+n.clientLeft,o=Us(n)?kl(n):ks(1),l=n.clientWidth*o.x,u=n.clientHeight*o.y,f=s*o.x,m=r*o.y;return{width:l,height:u,x:f,y:m}}function J0(n,e,t){let r;if(e==="viewport")r=uD(n,t);else if(e==="document")r=cD(zs(n));else if(Yr(e))r=hD(e,t);else{const s=k1(n);r={x:e.x-s.x,y:e.y-s.y,width:e.width,height:e.height}}return vf(r)}function j1(n,e){const t=yo(n);return t===e||!Yr(t)||Vl(t)?!1:Xr(t).position==="fixed"||j1(t,e)}function fD(n,e){const t=e.get(n);if(t)return t;let r=Ru(n,[],!1).filter(u=>Yr(u)&&tc(u)!=="body"),s=null;const o=Xr(n).position==="fixed";let l=o?yo(n):n;for(;Yr(l)&&!Vl(l);){const u=Xr(l),f=Rv(l);!f&&u.position==="fixed"&&(s=null),(o?!f&&!s:!f&&u.position==="static"&&!!s&&dD.has(s.position)||Zu(l)&&!f&&j1(n,l))?r=r.filter(g=>g!==l):s=u,l=yo(l)}return e.set(n,r),r}function pD(n){let{element:e,boundary:t,rootBoundary:r,strategy:s}=n;const l=[...t==="clippingAncestors"?dp(e)?[]:fD(e,this._c):[].concat(t),r],u=l[0],f=l.reduce((m,g)=>{const v=J0(e,g,s);return m.top=fr(v.top,m.top),m.right=go(v.right,m.right),m.bottom=go(v.bottom,m.bottom),m.left=fr(v.left,m.left),m},J0(e,u,s));return{width:f.right-f.left,height:f.bottom-f.top,x:f.left,y:f.top}}function mD(n){const{width:e,height:t}=A1(n);return{width:e,height:t}}function gD(n,e,t){const r=Us(e),s=zs(e),o=t==="fixed",l=ma(n,!0,o,e);let u={scrollLeft:0,scrollTop:0};const f=ks(0);function m(){f.x=kv(s)}if(r||!r&&!o)if((tc(e)!=="body"||Zu(s))&&(u=hp(e)),r){const b=ma(e,!0,o,e);f.x=b.x+e.clientLeft,f.y=b.y+e.clientTop}else s&&m();o&&!r&&s&&m();const g=s&&!r&&!o?P1(s,u):ks(0),v=l.left+u.scrollLeft-f.x-g.x,E=l.top+u.scrollTop-f.y-g.y;return{x:v,y:E,width:l.width,height:l.height}}function kg(n){return Xr(n).position==="static"}function Z0(n,e){if(!Us(n)||Xr(n).position==="fixed")return null;if(e)return e(n);let t=n.offsetParent;return zs(n)===t&&(t=t.ownerDocument.body),t}function D1(n,e){const t=yr(n);if(dp(n))return t;if(!Us(n)){let s=yo(n);for(;s&&!Vl(s);){if(Yr(s)&&!kg(s))return s;s=yo(s)}return t}let r=Z0(n,e);for(;r&&Jj(r)&&kg(r);)r=Z0(r,e);return r&&Vl(r)&&kg(r)&&!Rv(r)?t:r||rD(n)||t}const yD=async function(n){const e=this.getOffsetParent||D1,t=this.getDimensions,r=await t(n.floating);return{reference:gD(n.reference,await e(n.floating),n.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function vD(n){return Xr(n).direction==="rtl"}const _D={convertOffsetParentRelativeRectToViewportRelativeRect:aD,getDocumentElement:zs,getClippingRect:pD,getOffsetParent:D1,getElementRects:yD,getClientRects:lD,getDimensions:mD,getScale:kl,isElement:Yr,isRTL:vD};function O1(n,e){return n.x===e.x&&n.y===e.y&&n.width===e.width&&n.height===e.height}function wD(n,e){let t=null,r;const s=zs(n);function o(){var u;clearTimeout(r),(u=t)==null||u.disconnect(),t=null}function l(u,f){u===void 0&&(u=!1),f===void 0&&(f=1),o();const m=n.getBoundingClientRect(),{left:g,top:v,width:E,height:b}=m;if(u||e(),!E||!b)return;const I=Oh(v),T=Oh(s.clientWidth-(g+E)),C=Oh(s.clientHeight-(v+b)),M=Oh(g),V={rootMargin:-I+"px "+-T+"px "+-C+"px "+-M+"px",threshold:fr(0,go(1,f))||1};let B=!0;function H(Q){const k=Q[0].intersectionRatio;if(k!==f){if(!B)return l();k?l(!1,k):r=setTimeout(()=>{l(!1,1e-7)},1e3)}k===1&&!O1(m,n.getBoundingClientRect())&&l(),B=!1}try{t=new IntersectionObserver(H,{...V,root:s.ownerDocument})}catch{t=new IntersectionObserver(H,V)}t.observe(n)}return l(!0),o}function xD(n,e,t,r){r===void 0&&(r={});const{ancestorScroll:s=!0,ancestorResize:o=!0,elementResize:l=typeof ResizeObserver=="function",layoutShift:u=typeof IntersectionObserver=="function",animationFrame:f=!1}=r,m=Av(n),g=s||o?[...m?Ru(m):[],...Ru(e)]:[];g.forEach(M=>{s&&M.addEventListener("scroll",t,{passive:!0}),o&&M.addEventListener("resize",t)});const v=m&&u?wD(m,t):null;let E=-1,b=null;l&&(b=new ResizeObserver(M=>{let[D]=M;D&&D.target===m&&b&&(b.unobserve(e),cancelAnimationFrame(E),E=requestAnimationFrame(()=>{var V;(V=b)==null||V.observe(e)})),t()}),m&&!f&&b.observe(m),b.observe(e));let I,T=f?ma(n):null;f&&C();function C(){const M=ma(n);T&&!O1(T,M)&&t(),T=M,I=requestAnimationFrame(C)}return t(),()=>{var M;g.forEach(D=>{s&&D.removeEventListener("scroll",t),o&&D.removeEventListener("resize",t)}),v?.(),(M=b)==null||M.disconnect(),b=null,f&&cancelAnimationFrame(I)}}const ED=qj,bD=Gj,TD=zj,SD=Qj,CD=Wj,eE=Bj,ID=Kj,RD=(n,e,t)=>{const r=new Map,s={platform:_D,...t},o={...s.platform,_c:r};return $j(n,e,{...s,platform:o})};var ND=typeof document<"u",AD=function(){},Jh=ND?w.useLayoutEffect:AD;function _f(n,e){if(n===e)return!0;if(typeof n!=typeof e)return!1;if(typeof n=="function"&&n.toString()===e.toString())return!0;let t,r,s;if(n&&e&&typeof n=="object"){if(Array.isArray(n)){if(t=n.length,t!==e.length)return!1;for(r=t;r--!==0;)if(!_f(n[r],e[r]))return!1;return!0}if(s=Object.keys(n),t=s.length,t!==Object.keys(e).length)return!1;for(r=t;r--!==0;)if(!{}.hasOwnProperty.call(e,s[r]))return!1;for(r=t;r--!==0;){const o=s[r];if(!(o==="_owner"&&n.$$typeof)&&!_f(n[o],e[o]))return!1}return!0}return n!==n&&e!==e}function M1(n){return typeof window>"u"?1:(n.ownerDocument.defaultView||window).devicePixelRatio||1}function tE(n,e){const t=M1(n);return Math.round(e*t)/t}function Pg(n){const e=w.useRef(n);return Jh(()=>{e.current=n}),e}function kD(n){n===void 0&&(n={});const{placement:e="bottom",strategy:t="absolute",middleware:r=[],platform:s,elements:{reference:o,floating:l}={},transform:u=!0,whileElementsMounted:f,open:m}=n,[g,v]=w.useState({x:0,y:0,strategy:t,placement:e,middlewareData:{},isPositioned:!1}),[E,b]=w.useState(r);_f(E,r)||b(r);const[I,T]=w.useState(null),[C,M]=w.useState(null),D=w.useCallback(Z=>{Z!==Q.current&&(Q.current=Z,T(Z))},[]),V=w.useCallback(Z=>{Z!==k.current&&(k.current=Z,M(Z))},[]),B=o||I,H=l||C,Q=w.useRef(null),k=w.useRef(null),R=w.useRef(g),N=f!=null,j=Pg(f),L=Pg(s),F=Pg(m),O=w.useCallback(()=>{if(!Q.current||!k.current)return;const Z={placement:e,strategy:t,middleware:E};L.current&&(Z.platform=L.current),RD(Q.current,k.current,Z).then(q=>{const ie={...q,isPositioned:F.current!==!1};ne.current&&!_f(R.current,ie)&&(R.current=ie,Xl.flushSync(()=>{v(ie)}))})},[E,e,t,L,F]);Jh(()=>{m===!1&&R.current.isPositioned&&(R.current.isPositioned=!1,v(Z=>({...Z,isPositioned:!1})))},[m]);const ne=w.useRef(!1);Jh(()=>(ne.current=!0,()=>{ne.current=!1}),[]),Jh(()=>{if(B&&(Q.current=B),H&&(k.current=H),B&&H){if(j.current)return j.current(B,H,O);O()}},[B,H,O,j,N]);const Ee=w.useMemo(()=>({reference:Q,floating:k,setReference:D,setFloating:V}),[D,V]),de=w.useMemo(()=>({reference:B,floating:H}),[B,H]),ye=w.useMemo(()=>{const Z={position:t,left:0,top:0};if(!de.floating)return Z;const q=tE(de.floating,g.x),ie=tE(de.floating,g.y);return u?{...Z,transform:"translate("+q+"px, "+ie+"px)",...M1(de.floating)>=1.5&&{willChange:"transform"}}:{position:t,left:q,top:ie}},[t,u,de.floating,g.x,g.y]);return w.useMemo(()=>({...g,update:O,refs:Ee,elements:de,floatingStyles:ye}),[g,O,Ee,de,ye])}const PD=n=>{function e(t){return{}.hasOwnProperty.call(t,"current")}return{name:"arrow",options:n,fn(t){const{element:r,padding:s}=typeof n=="function"?n(t):n;return r&&e(r)?r.current!=null?eE({element:r.current,padding:s}).fn(t):{}:r?eE({element:r,padding:s}).fn(t):{}}}},jD=(n,e)=>({...ED(n),options:[n,e]}),DD=(n,e)=>({...bD(n),options:[n,e]}),OD=(n,e)=>({...ID(n),options:[n,e]}),MD=(n,e)=>({...TD(n),options:[n,e]}),LD=(n,e)=>({...SD(n),options:[n,e]}),VD=(n,e)=>({...CD(n),options:[n,e]}),FD=(n,e)=>({...PD(n),options:[n,e]});var UD="Arrow",L1=w.forwardRef((n,e)=>{const{children:t,width:r=10,height:s=5,...o}=n;return d.jsx(Be.svg,{...o,ref:e,width:r,height:s,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:n.asChild?t:d.jsx("polygon",{points:"0,0 30,0 15,10"})})});L1.displayName=UD;var $D=L1;function V1(n){const[e,t]=w.useState(void 0);return Xt(()=>{if(n){t({width:n.offsetWidth,height:n.offsetHeight});const r=new ResizeObserver(s=>{if(!Array.isArray(s)||!s.length)return;const o=s[0];let l,u;if("borderBoxSize"in o){const f=o.borderBoxSize,m=Array.isArray(f)?f[0]:f;l=m.inlineSize,u=m.blockSize}else l=n.offsetWidth,u=n.offsetHeight;t({width:l,height:u})});return r.observe(n,{box:"border-box"}),()=>r.unobserve(n)}else t(void 0)},[n]),e}var Pv="Popper",[F1,nc]=es(Pv),[BD,U1]=F1(Pv),$1=n=>{const{__scopePopper:e,children:t}=n,[r,s]=w.useState(null);return d.jsx(BD,{scope:e,anchor:r,onAnchorChange:s,children:t})};$1.displayName=Pv;var B1="PopperAnchor",z1=w.forwardRef((n,e)=>{const{__scopePopper:t,virtualRef:r,...s}=n,o=U1(B1,t),l=w.useRef(null),u=ct(e,l);return w.useEffect(()=>{o.onAnchorChange(r?.current||l.current)}),r?null:d.jsx(Be.div,{...s,ref:u})});z1.displayName=B1;var jv="PopperContent",[zD,WD]=F1(jv),W1=w.forwardRef((n,e)=>{const{__scopePopper:t,side:r="bottom",sideOffset:s=0,align:o="center",alignOffset:l=0,arrowPadding:u=0,avoidCollisions:f=!0,collisionBoundary:m=[],collisionPadding:g=0,sticky:v="partial",hideWhenDetached:E=!1,updatePositionStrategy:b="optimized",onPlaced:I,...T}=n,C=U1(jv,t),[M,D]=w.useState(null),V=ct(e,re=>D(re)),[B,H]=w.useState(null),Q=V1(B),k=Q?.width??0,R=Q?.height??0,N=r+(o!=="center"?"-"+o:""),j=typeof g=="number"?g:{top:0,right:0,bottom:0,left:0,...g},L=Array.isArray(m)?m:[m],F=L.length>0,O={padding:j,boundary:L.filter(qD),altBoundary:F},{refs:ne,floatingStyles:Ee,placement:de,isPositioned:ye,middlewareData:Z}=kD({strategy:"fixed",placement:N,whileElementsMounted:(...re)=>xD(...re,{animationFrame:b==="always"}),elements:{reference:C.anchor},middleware:[jD({mainAxis:s+R,alignmentAxis:l}),f&&DD({mainAxis:!0,crossAxis:!1,limiter:v==="partial"?OD():void 0,...O}),f&&MD({...O}),LD({...O,apply:({elements:re,rects:Se,availableWidth:Ve,availableHeight:We})=>{const{width:Ze,height:pt}=Se.reference,Rt=re.floating.style;Rt.setProperty("--radix-popper-available-width",`${Ve}px`),Rt.setProperty("--radix-popper-available-height",`${We}px`),Rt.setProperty("--radix-popper-anchor-width",`${Ze}px`),Rt.setProperty("--radix-popper-anchor-height",`${pt}px`)}}),B&&FD({element:B,padding:u}),GD({arrowWidth:k,arrowHeight:R}),E&&VD({strategy:"referenceHidden",...O})]}),[q,ie]=G1(de),z=Vn(I);Xt(()=>{ye&&z?.()},[ye,z]);const X=Z.arrow?.x,fe=Z.arrow?.y,me=Z.arrow?.centerOffset!==0,[Re,ke]=w.useState();return Xt(()=>{M&&ke(window.getComputedStyle(M).zIndex)},[M]),d.jsx("div",{ref:ne.setFloating,"data-radix-popper-content-wrapper":"",style:{...Ee,transform:ye?Ee.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:Re,"--radix-popper-transform-origin":[Z.transformOrigin?.x,Z.transformOrigin?.y].join(" "),...Z.hide?.referenceHidden&&{visibility:"hidden",pointerEvents:"none"}},dir:n.dir,children:d.jsx(zD,{scope:t,placedSide:q,onArrowChange:H,arrowX:X,arrowY:fe,shouldHideArrow:me,children:d.jsx(Be.div,{"data-side":q,"data-align":ie,...T,ref:V,style:{...T.style,animation:ye?void 0:"none"}})})})});W1.displayName=jv;var H1="PopperArrow",HD={top:"bottom",right:"left",bottom:"top",left:"right"},q1=w.forwardRef(function(e,t){const{__scopePopper:r,...s}=e,o=WD(H1,r),l=HD[o.placedSide];return d.jsx("span",{ref:o.onArrowChange,style:{position:"absolute",left:o.arrowX,top:o.arrowY,[l]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[o.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[o.placedSide],visibility:o.shouldHideArrow?"hidden":void 0},children:d.jsx($D,{...s,ref:t,style:{...s.style,display:"block"}})})});q1.displayName=H1;function qD(n){return n!==null}var GD=n=>({name:"transformOrigin",options:n,fn(e){const{placement:t,rects:r,middlewareData:s}=e,l=s.arrow?.centerOffset!==0,u=l?0:n.arrowWidth,f=l?0:n.arrowHeight,[m,g]=G1(t),v={start:"0%",center:"50%",end:"100%"}[g],E=(s.arrow?.x??0)+u/2,b=(s.arrow?.y??0)+f/2;let I="",T="";return m==="bottom"?(I=l?v:`${E}px`,T=`${-f}px`):m==="top"?(I=l?v:`${E}px`,T=`${r.floating.height+f}px`):m==="right"?(I=`${-f}px`,T=l?v:`${b}px`):m==="left"&&(I=`${r.floating.width+f}px`,T=l?v:`${b}px`),{data:{x:I,y:T}}}});function G1(n){const[e,t="center"]=n.split("-");return[e,t]}var K1=$1,Dv=z1,Ov=W1,Mv=q1,[fp]=es("Tooltip",[nc]),Lv=nc(),Q1="TooltipProvider",KD=700,nE="tooltip.open",[QD,Y1]=fp(Q1),X1=n=>{const{__scopeTooltip:e,delayDuration:t=KD,skipDelayDuration:r=300,disableHoverableContent:s=!1,children:o}=n,l=w.useRef(!0),u=w.useRef(!1),f=w.useRef(0);return w.useEffect(()=>{const m=f.current;return()=>window.clearTimeout(m)},[]),d.jsx(QD,{scope:e,isOpenDelayedRef:l,delayDuration:t,onOpen:w.useCallback(()=>{window.clearTimeout(f.current),l.current=!1},[]),onClose:w.useCallback(()=>{window.clearTimeout(f.current),f.current=window.setTimeout(()=>l.current=!0,r)},[r]),isPointerInTransitRef:u,onPointerInTransitChange:w.useCallback(m=>{u.current=m},[]),disableHoverableContent:s,children:o})};X1.displayName=Q1;var J1="Tooltip",[c7,pp]=fp(J1),yy="TooltipTrigger",YD=w.forwardRef((n,e)=>{const{__scopeTooltip:t,...r}=n,s=pp(yy,t),o=Y1(yy,t),l=Lv(t),u=w.useRef(null),f=ct(e,u,s.onTriggerChange),m=w.useRef(!1),g=w.useRef(!1),v=w.useCallback(()=>m.current=!1,[]);return w.useEffect(()=>()=>document.removeEventListener("pointerup",v),[v]),d.jsx(Dv,{asChild:!0,...l,children:d.jsx(Be.button,{"aria-describedby":s.open?s.contentId:void 0,"data-state":s.stateAttribute,...r,ref:f,onPointerMove:ve(n.onPointerMove,E=>{E.pointerType!=="touch"&&!g.current&&!o.isPointerInTransitRef.current&&(s.onTriggerEnter(),g.current=!0)}),onPointerLeave:ve(n.onPointerLeave,()=>{s.onTriggerLeave(),g.current=!1}),onPointerDown:ve(n.onPointerDown,()=>{s.open&&s.onClose(),m.current=!0,document.addEventListener("pointerup",v,{once:!0})}),onFocus:ve(n.onFocus,()=>{m.current||s.onOpen()}),onBlur:ve(n.onBlur,s.onClose),onClick:ve(n.onClick,s.onClose)})})});YD.displayName=yy;var XD="TooltipPortal",[u7,JD]=fp(XD,{forceMount:void 0}),Fl="TooltipContent",Z1=w.forwardRef((n,e)=>{const t=JD(Fl,n.__scopeTooltip),{forceMount:r=t.forceMount,side:s="top",...o}=n,l=pp(Fl,n.__scopeTooltip);return d.jsx(ts,{present:r||l.open,children:l.disableHoverableContent?d.jsx(eS,{side:s,...o,ref:e}):d.jsx(ZD,{side:s,...o,ref:e})})}),ZD=w.forwardRef((n,e)=>{const t=pp(Fl,n.__scopeTooltip),r=Y1(Fl,n.__scopeTooltip),s=w.useRef(null),o=ct(e,s),[l,u]=w.useState(null),{trigger:f,onClose:m}=t,g=s.current,{onPointerInTransitChange:v}=r,E=w.useCallback(()=>{u(null),v(!1)},[v]),b=w.useCallback((I,T)=>{const C=I.currentTarget,M={x:I.clientX,y:I.clientY},D=sO(M,C.getBoundingClientRect()),V=iO(M,D),B=oO(T.getBoundingClientRect()),H=lO([...V,...B]);u(H),v(!0)},[v]);return w.useEffect(()=>()=>E(),[E]),w.useEffect(()=>{if(f&&g){const I=C=>b(C,g),T=C=>b(C,f);return f.addEventListener("pointerleave",I),g.addEventListener("pointerleave",T),()=>{f.removeEventListener("pointerleave",I),g.removeEventListener("pointerleave",T)}}},[f,g,b,E]),w.useEffect(()=>{if(l){const I=T=>{const C=T.target,M={x:T.clientX,y:T.clientY},D=f?.contains(C)||g?.contains(C),V=!aO(M,l);D?E():V&&(E(),m())};return document.addEventListener("pointermove",I),()=>document.removeEventListener("pointermove",I)}},[f,g,l,m,E]),d.jsx(eS,{...n,ref:o})}),[eO,tO]=fp(J1,{isInside:!1}),nO=pP("TooltipContent"),eS=w.forwardRef((n,e)=>{const{__scopeTooltip:t,children:r,"aria-label":s,onEscapeKeyDown:o,onPointerDownOutside:l,...u}=n,f=pp(Fl,t),m=Lv(t),{onClose:g}=f;return w.useEffect(()=>(document.addEventListener(nE,g),()=>document.removeEventListener(nE,g)),[g]),w.useEffect(()=>{if(f.trigger){const v=E=>{E.target?.contains(f.trigger)&&g()};return window.addEventListener("scroll",v,{capture:!0}),()=>window.removeEventListener("scroll",v,{capture:!0})}},[f.trigger,g]),d.jsx(Jl,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:o,onPointerDownOutside:l,onFocusOutside:v=>v.preventDefault(),onDismiss:g,children:d.jsxs(Ov,{"data-state":f.stateAttribute,...m,...u,ref:e,style:{...u.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[d.jsx(nO,{children:r}),d.jsx(eO,{scope:t,isInside:!0,children:d.jsx(MP,{id:f.contentId,role:"tooltip",children:s||r})})]})})});Z1.displayName=Fl;var tS="TooltipArrow",rO=w.forwardRef((n,e)=>{const{__scopeTooltip:t,...r}=n,s=Lv(t);return tO(tS,t).isInside?null:d.jsx(Mv,{...s,...r,ref:e})});rO.displayName=tS;function sO(n,e){const t=Math.abs(e.top-n.y),r=Math.abs(e.bottom-n.y),s=Math.abs(e.right-n.x),o=Math.abs(e.left-n.x);switch(Math.min(t,r,s,o)){case o:return"left";case s:return"right";case t:return"top";case r:return"bottom";default:throw new Error("unreachable")}}function iO(n,e,t=5){const r=[];switch(e){case"top":r.push({x:n.x-t,y:n.y+t},{x:n.x+t,y:n.y+t});break;case"bottom":r.push({x:n.x-t,y:n.y-t},{x:n.x+t,y:n.y-t});break;case"left":r.push({x:n.x+t,y:n.y-t},{x:n.x+t,y:n.y+t});break;case"right":r.push({x:n.x-t,y:n.y-t},{x:n.x-t,y:n.y+t});break}return r}function oO(n){const{top:e,right:t,bottom:r,left:s}=n;return[{x:s,y:e},{x:t,y:e},{x:t,y:r},{x:s,y:r}]}function aO(n,e){const{x:t,y:r}=n;let s=!1;for(let o=0,l=e.length-1;o<e.length;l=o++){const u=e[o],f=e[l],m=u.x,g=u.y,v=f.x,E=f.y;g>r!=E>r&&t<(v-m)*(r-g)/(E-g)+m&&(s=!s)}return s}function lO(n){const e=n.slice();return e.sort((t,r)=>t.x<r.x?-1:t.x>r.x?1:t.y<r.y?-1:t.y>r.y?1:0),cO(e)}function cO(n){if(n.length<=1)return n.slice();const e=[];for(let r=0;r<n.length;r++){const s=n[r];for(;e.length>=2;){const o=e[e.length-1],l=e[e.length-2];if((o.x-l.x)*(s.y-l.y)>=(o.y-l.y)*(s.x-l.x))e.pop();else break}e.push(s)}e.pop();const t=[];for(let r=n.length-1;r>=0;r--){const s=n[r];for(;t.length>=2;){const o=t[t.length-1],l=t[t.length-2];if((o.x-l.x)*(s.y-l.y)>=(o.y-l.y)*(s.x-l.x))t.pop();else break}t.push(s)}return t.pop(),e.length===1&&t.length===1&&e[0].x===t[0].x&&e[0].y===t[0].y?e:e.concat(t)}var uO=X1,nS=Z1;const dO=uO,hO=w.forwardRef(({className:n,sideOffset:e=4,...t},r)=>d.jsx(nS,{ref:r,sideOffset:e,className:He("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",n),...t}));hO.displayName=nS.displayName;var ed=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(n){return this.listeners.add(n),this.onSubscribe(),()=>{this.listeners.delete(n),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},ga=typeof window>"u"||"Deno"in globalThis;function Kn(){}function fO(n,e){return typeof n=="function"?n(e):n}function vy(n){return typeof n=="number"&&n>=0&&n!==1/0}function rS(n,e){return Math.max(n+(e||0)-Date.now(),0)}function oo(n,e){return typeof n=="function"?n(e):n}function kr(n,e){return typeof n=="function"?n(e):n}function rE(n,e){const{type:t="all",exact:r,fetchStatus:s,predicate:o,queryKey:l,stale:u}=n;if(l){if(r){if(e.queryHash!==Vv(l,e.options))return!1}else if(!Au(e.queryKey,l))return!1}if(t!=="all"){const f=e.isActive();if(t==="active"&&!f||t==="inactive"&&f)return!1}return!(typeof u=="boolean"&&e.isStale()!==u||s&&s!==e.state.fetchStatus||o&&!o(e))}function sE(n,e){const{exact:t,status:r,predicate:s,mutationKey:o}=n;if(o){if(!e.options.mutationKey)return!1;if(t){if(Nu(e.options.mutationKey)!==Nu(o))return!1}else if(!Au(e.options.mutationKey,o))return!1}return!(r&&e.state.status!==r||s&&!s(e))}function Vv(n,e){return(e?.queryKeyHashFn||Nu)(n)}function Nu(n){return JSON.stringify(n,(e,t)=>wy(t)?Object.keys(t).sort().reduce((r,s)=>(r[s]=t[s],r),{}):t)}function Au(n,e){return n===e?!0:typeof n!=typeof e?!1:n&&e&&typeof n=="object"&&typeof e=="object"?Object.keys(e).every(t=>Au(n[t],e[t])):!1}function sS(n,e){if(n===e)return n;const t=iE(n)&&iE(e);if(t||wy(n)&&wy(e)){const r=t?n:Object.keys(n),s=r.length,o=t?e:Object.keys(e),l=o.length,u=t?[]:{},f=new Set(r);let m=0;for(let g=0;g<l;g++){const v=t?g:o[g];(!t&&f.has(v)||t)&&n[v]===void 0&&e[v]===void 0?(u[v]=void 0,m++):(u[v]=sS(n[v],e[v]),u[v]===n[v]&&n[v]!==void 0&&m++)}return s===l&&m===s?n:u}return e}function _y(n,e){if(!e||Object.keys(n).length!==Object.keys(e).length)return!1;for(const t in n)if(n[t]!==e[t])return!1;return!0}function iE(n){return Array.isArray(n)&&n.length===Object.keys(n).length}function wy(n){if(!oE(n))return!1;const e=n.constructor;if(e===void 0)return!0;const t=e.prototype;return!(!oE(t)||!t.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(n)!==Object.prototype)}function oE(n){return Object.prototype.toString.call(n)==="[object Object]"}function pO(n){return new Promise(e=>{setTimeout(e,n)})}function xy(n,e,t){return typeof t.structuralSharing=="function"?t.structuralSharing(n,e):t.structuralSharing!==!1?sS(n,e):e}function mO(n,e,t=0){const r=[...n,e];return t&&r.length>t?r.slice(1):r}function gO(n,e,t=0){const r=[e,...n];return t&&r.length>t?r.slice(0,-1):r}var Fv=Symbol();function iS(n,e){return!n.queryFn&&e?.initialPromise?()=>e.initialPromise:!n.queryFn||n.queryFn===Fv?()=>Promise.reject(new Error(`Missing queryFn: '${n.queryHash}'`)):n.queryFn}function yO(n,e){return typeof n=="function"?n(...e):!!n}var vO=class extends ed{#t;#e;#n;constructor(){super(),this.#n=n=>{if(!ga&&window.addEventListener){const e=()=>n();return window.addEventListener("visibilitychange",e,!1),()=>{window.removeEventListener("visibilitychange",e)}}}}onSubscribe(){this.#e||this.setEventListener(this.#n)}onUnsubscribe(){this.hasListeners()||(this.#e?.(),this.#e=void 0)}setEventListener(n){this.#n=n,this.#e?.(),this.#e=n(e=>{typeof e=="boolean"?this.setFocused(e):this.onFocus()})}setFocused(n){this.#t!==n&&(this.#t=n,this.onFocus())}onFocus(){const n=this.isFocused();this.listeners.forEach(e=>{e(n)})}isFocused(){return typeof this.#t=="boolean"?this.#t:globalThis.document?.visibilityState!=="hidden"}},Uv=new vO,_O=class extends ed{#t=!0;#e;#n;constructor(){super(),this.#n=n=>{if(!ga&&window.addEventListener){const e=()=>n(!0),t=()=>n(!1);return window.addEventListener("online",e,!1),window.addEventListener("offline",t,!1),()=>{window.removeEventListener("online",e),window.removeEventListener("offline",t)}}}}onSubscribe(){this.#e||this.setEventListener(this.#n)}onUnsubscribe(){this.hasListeners()||(this.#e?.(),this.#e=void 0)}setEventListener(n){this.#n=n,this.#e?.(),this.#e=n(this.setOnline.bind(this))}setOnline(n){this.#t!==n&&(this.#t=n,this.listeners.forEach(t=>{t(n)}))}isOnline(){return this.#t}},wf=new _O;function Ey(){let n,e;const t=new Promise((s,o)=>{n=s,e=o});t.status="pending",t.catch(()=>{});function r(s){Object.assign(t,s),delete t.resolve,delete t.reject}return t.resolve=s=>{r({status:"fulfilled",value:s}),n(s)},t.reject=s=>{r({status:"rejected",reason:s}),e(s)},t}function wO(n){return Math.min(1e3*2**n,3e4)}function oS(n){return(n??"online")==="online"?wf.isOnline():!0}var aS=class extends Error{constructor(n){super("CancelledError"),this.revert=n?.revert,this.silent=n?.silent}};function jg(n){return n instanceof aS}function lS(n){let e=!1,t=0,r=!1,s;const o=Ey(),l=T=>{r||(E(new aS(T)),n.abort?.())},u=()=>{e=!0},f=()=>{e=!1},m=()=>Uv.isFocused()&&(n.networkMode==="always"||wf.isOnline())&&n.canRun(),g=()=>oS(n.networkMode)&&n.canRun(),v=T=>{r||(r=!0,n.onSuccess?.(T),s?.(),o.resolve(T))},E=T=>{r||(r=!0,n.onError?.(T),s?.(),o.reject(T))},b=()=>new Promise(T=>{s=C=>{(r||m())&&T(C)},n.onPause?.()}).then(()=>{s=void 0,r||n.onContinue?.()}),I=()=>{if(r)return;let T;const C=t===0?n.initialPromise:void 0;try{T=C??n.fn()}catch(M){T=Promise.reject(M)}Promise.resolve(T).then(v).catch(M=>{if(r)return;const D=n.retry??(ga?0:3),V=n.retryDelay??wO,B=typeof V=="function"?V(t,M):V,H=D===!0||typeof D=="number"&&t<D||typeof D=="function"&&D(t,M);if(e||!H){E(M);return}t++,n.onFail?.(t,M),pO(B).then(()=>m()?void 0:b()).then(()=>{e?E(M):I()})})};return{promise:o,cancel:l,continue:()=>(s?.(),o),cancelRetry:u,continueRetry:f,canStart:g,start:()=>(g()?I():b().then(I),o)}}var xO=n=>setTimeout(n,0);function EO(){let n=[],e=0,t=u=>{u()},r=u=>{u()},s=xO;const o=u=>{e?n.push(u):s(()=>{t(u)})},l=()=>{const u=n;n=[],u.length&&s(()=>{r(()=>{u.forEach(f=>{t(f)})})})};return{batch:u=>{let f;e++;try{f=u()}finally{e--,e||l()}return f},batchCalls:u=>(...f)=>{o(()=>{u(...f)})},schedule:o,setNotifyFunction:u=>{t=u},setBatchNotifyFunction:u=>{r=u},setScheduler:u=>{s=u}}}var yn=EO(),cS=class{#t;destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),vy(this.gcTime)&&(this.#t=setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(n){this.gcTime=Math.max(this.gcTime||0,n??(ga?1/0:300*1e3))}clearGcTimeout(){this.#t&&(clearTimeout(this.#t),this.#t=void 0)}},bO=class extends cS{#t;#e;#n;#r;#s;#a;#o;constructor(e){super(),this.#o=!1,this.#a=e.defaultOptions,this.setOptions(e.options),this.observers=[],this.#r=e.client,this.#n=this.#r.getQueryCache(),this.queryKey=e.queryKey,this.queryHash=e.queryHash,this.#t=TO(this.options),this.state=e.state??this.#t,this.scheduleGc()}get meta(){return this.options.meta}get promise(){return this.#s?.promise}setOptions(e){this.options={...this.#a,...e},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&this.#n.remove(this)}setData(e,t){const r=xy(this.state.data,e,this.options);return this.#i({data:r,type:"success",dataUpdatedAt:t?.updatedAt,manual:t?.manual}),r}setState(e,t){this.#i({type:"setState",state:e,setStateOptions:t})}cancel(e){const t=this.#s?.promise;return this.#s?.cancel(e),t?t.then(Kn).catch(Kn):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(this.#t)}isActive(){return this.observers.some(e=>kr(e.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===Fv||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(e=>oo(e.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(e=>e.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(e=0){return this.state.data===void 0?!0:e==="static"?!1:this.state.isInvalidated?!0:!rS(this.state.dataUpdatedAt,e)}onFocus(){this.observers.find(t=>t.shouldFetchOnWindowFocus())?.refetch({cancelRefetch:!1}),this.#s?.continue()}onOnline(){this.observers.find(t=>t.shouldFetchOnReconnect())?.refetch({cancelRefetch:!1}),this.#s?.continue()}addObserver(e){this.observers.includes(e)||(this.observers.push(e),this.clearGcTimeout(),this.#n.notify({type:"observerAdded",query:this,observer:e}))}removeObserver(e){this.observers.includes(e)&&(this.observers=this.observers.filter(t=>t!==e),this.observers.length||(this.#s&&(this.#o?this.#s.cancel({revert:!0}):this.#s.cancelRetry()),this.scheduleGc()),this.#n.notify({type:"observerRemoved",query:this,observer:e}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||this.#i({type:"invalidate"})}fetch(e,t){if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&t?.cancelRefetch)this.cancel({silent:!0});else if(this.#s)return this.#s.continueRetry(),this.#s.promise}if(e&&this.setOptions(e),!this.options.queryFn){const m=this.observers.find(g=>g.options.queryFn);m&&this.setOptions(m.options)}const r=new AbortController,s=m=>{Object.defineProperty(m,"signal",{enumerable:!0,get:()=>(this.#o=!0,r.signal)})},o=()=>{const m=iS(this.options,t),v=(()=>{const E={client:this.#r,queryKey:this.queryKey,meta:this.meta};return s(E),E})();return this.#o=!1,this.options.persister?this.options.persister(m,v,this):m(v)},u=(()=>{const m={fetchOptions:t,options:this.options,queryKey:this.queryKey,client:this.#r,state:this.state,fetchFn:o};return s(m),m})();this.options.behavior?.onFetch(u,this),this.#e=this.state,(this.state.fetchStatus==="idle"||this.state.fetchMeta!==u.fetchOptions?.meta)&&this.#i({type:"fetch",meta:u.fetchOptions?.meta});const f=m=>{jg(m)&&m.silent||this.#i({type:"error",error:m}),jg(m)||(this.#n.config.onError?.(m,this),this.#n.config.onSettled?.(this.state.data,m,this)),this.scheduleGc()};return this.#s=lS({initialPromise:t?.initialPromise,fn:u.fetchFn,abort:r.abort.bind(r),onSuccess:m=>{if(m===void 0){f(new Error(`${this.queryHash} data is undefined`));return}try{this.setData(m)}catch(g){f(g);return}this.#n.config.onSuccess?.(m,this),this.#n.config.onSettled?.(m,this.state.error,this),this.scheduleGc()},onError:f,onFail:(m,g)=>{this.#i({type:"failed",failureCount:m,error:g})},onPause:()=>{this.#i({type:"pause"})},onContinue:()=>{this.#i({type:"continue"})},retry:u.options.retry,retryDelay:u.options.retryDelay,networkMode:u.options.networkMode,canRun:()=>!0}),this.#s.start()}#i(e){const t=r=>{switch(e.type){case"failed":return{...r,fetchFailureCount:e.failureCount,fetchFailureReason:e.error};case"pause":return{...r,fetchStatus:"paused"};case"continue":return{...r,fetchStatus:"fetching"};case"fetch":return{...r,...uS(r.data,this.options),fetchMeta:e.meta??null};case"success":return this.#e=void 0,{...r,data:e.data,dataUpdateCount:r.dataUpdateCount+1,dataUpdatedAt:e.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!e.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const s=e.error;return jg(s)&&s.revert&&this.#e?{...this.#e,fetchStatus:"idle"}:{...r,error:s,errorUpdateCount:r.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:r.fetchFailureCount+1,fetchFailureReason:s,fetchStatus:"idle",status:"error"};case"invalidate":return{...r,isInvalidated:!0};case"setState":return{...r,...e.state}}};this.state=t(this.state),yn.batch(()=>{this.observers.forEach(r=>{r.onQueryUpdate()}),this.#n.notify({query:this,type:"updated",action:e})})}};function uS(n,e){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:oS(e.networkMode)?"fetching":"paused",...n===void 0&&{error:null,status:"pending"}}}function TO(n){const e=typeof n.initialData=="function"?n.initialData():n.initialData,t=e!==void 0,r=t?typeof n.initialDataUpdatedAt=="function"?n.initialDataUpdatedAt():n.initialDataUpdatedAt:0;return{data:e,dataUpdateCount:0,dataUpdatedAt:t?r??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:t?"success":"pending",fetchStatus:"idle"}}var SO=class extends ed{constructor(n={}){super(),this.config=n,this.#t=new Map}#t;build(n,e,t){const r=e.queryKey,s=e.queryHash??Vv(r,e);let o=this.get(s);return o||(o=new bO({client:n,queryKey:r,queryHash:s,options:n.defaultQueryOptions(e),state:t,defaultOptions:n.getQueryDefaults(r)}),this.add(o)),o}add(n){this.#t.has(n.queryHash)||(this.#t.set(n.queryHash,n),this.notify({type:"added",query:n}))}remove(n){const e=this.#t.get(n.queryHash);e&&(n.destroy(),e===n&&this.#t.delete(n.queryHash),this.notify({type:"removed",query:n}))}clear(){yn.batch(()=>{this.getAll().forEach(n=>{this.remove(n)})})}get(n){return this.#t.get(n)}getAll(){return[...this.#t.values()]}find(n){const e={exact:!0,...n};return this.getAll().find(t=>rE(e,t))}findAll(n={}){const e=this.getAll();return Object.keys(n).length>0?e.filter(t=>rE(n,t)):e}notify(n){yn.batch(()=>{this.listeners.forEach(e=>{e(n)})})}onFocus(){yn.batch(()=>{this.getAll().forEach(n=>{n.onFocus()})})}onOnline(){yn.batch(()=>{this.getAll().forEach(n=>{n.onOnline()})})}},CO=class extends cS{#t;#e;#n;constructor(e){super(),this.mutationId=e.mutationId,this.#e=e.mutationCache,this.#t=[],this.state=e.state||IO(),this.setOptions(e.options),this.scheduleGc()}setOptions(e){this.options=e,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(e){this.#t.includes(e)||(this.#t.push(e),this.clearGcTimeout(),this.#e.notify({type:"observerAdded",mutation:this,observer:e}))}removeObserver(e){this.#t=this.#t.filter(t=>t!==e),this.scheduleGc(),this.#e.notify({type:"observerRemoved",mutation:this,observer:e})}optionalRemove(){this.#t.length||(this.state.status==="pending"?this.scheduleGc():this.#e.remove(this))}continue(){return this.#n?.continue()??this.execute(this.state.variables)}async execute(e){const t=()=>{this.#r({type:"continue"})};this.#n=lS({fn:()=>this.options.mutationFn?this.options.mutationFn(e):Promise.reject(new Error("No mutationFn found")),onFail:(o,l)=>{this.#r({type:"failed",failureCount:o,error:l})},onPause:()=>{this.#r({type:"pause"})},onContinue:t,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>this.#e.canRun(this)});const r=this.state.status==="pending",s=!this.#n.canStart();try{if(r)t();else{this.#r({type:"pending",variables:e,isPaused:s}),await this.#e.config.onMutate?.(e,this);const l=await this.options.onMutate?.(e);l!==this.state.context&&this.#r({type:"pending",context:l,variables:e,isPaused:s})}const o=await this.#n.start();return await this.#e.config.onSuccess?.(o,e,this.state.context,this),await this.options.onSuccess?.(o,e,this.state.context),await this.#e.config.onSettled?.(o,null,this.state.variables,this.state.context,this),await this.options.onSettled?.(o,null,e,this.state.context),this.#r({type:"success",data:o}),o}catch(o){try{throw await this.#e.config.onError?.(o,e,this.state.context,this),await this.options.onError?.(o,e,this.state.context),await this.#e.config.onSettled?.(void 0,o,this.state.variables,this.state.context,this),await this.options.onSettled?.(void 0,o,e,this.state.context),o}finally{this.#r({type:"error",error:o})}}finally{this.#e.runNext(this)}}#r(e){const t=r=>{switch(e.type){case"failed":return{...r,failureCount:e.failureCount,failureReason:e.error};case"pause":return{...r,isPaused:!0};case"continue":return{...r,isPaused:!1};case"pending":return{...r,context:e.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:e.isPaused,status:"pending",variables:e.variables,submittedAt:Date.now()};case"success":return{...r,data:e.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...r,data:void 0,error:e.error,failureCount:r.failureCount+1,failureReason:e.error,isPaused:!1,status:"error"}}};this.state=t(this.state),yn.batch(()=>{this.#t.forEach(r=>{r.onMutationUpdate(e)}),this.#e.notify({mutation:this,type:"updated",action:e})})}};function IO(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var RO=class extends ed{constructor(n={}){super(),this.config=n,this.#t=new Set,this.#e=new Map,this.#n=0}#t;#e;#n;build(n,e,t){const r=new CO({mutationCache:this,mutationId:++this.#n,options:n.defaultMutationOptions(e),state:t});return this.add(r),r}add(n){this.#t.add(n);const e=Mh(n);if(typeof e=="string"){const t=this.#e.get(e);t?t.push(n):this.#e.set(e,[n])}this.notify({type:"added",mutation:n})}remove(n){if(this.#t.delete(n)){const e=Mh(n);if(typeof e=="string"){const t=this.#e.get(e);if(t)if(t.length>1){const r=t.indexOf(n);r!==-1&&t.splice(r,1)}else t[0]===n&&this.#e.delete(e)}}this.notify({type:"removed",mutation:n})}canRun(n){const e=Mh(n);if(typeof e=="string"){const r=this.#e.get(e)?.find(s=>s.state.status==="pending");return!r||r===n}else return!0}runNext(n){const e=Mh(n);return typeof e=="string"?this.#e.get(e)?.find(r=>r!==n&&r.state.isPaused)?.continue()??Promise.resolve():Promise.resolve()}clear(){yn.batch(()=>{this.#t.forEach(n=>{this.notify({type:"removed",mutation:n})}),this.#t.clear(),this.#e.clear()})}getAll(){return Array.from(this.#t)}find(n){const e={exact:!0,...n};return this.getAll().find(t=>sE(e,t))}findAll(n={}){return this.getAll().filter(e=>sE(n,e))}notify(n){yn.batch(()=>{this.listeners.forEach(e=>{e(n)})})}resumePausedMutations(){const n=this.getAll().filter(e=>e.state.isPaused);return yn.batch(()=>Promise.all(n.map(e=>e.continue().catch(Kn))))}};function Mh(n){return n.options.scope?.id}function aE(n){return{onFetch:(e,t)=>{const r=e.options,s=e.fetchOptions?.meta?.fetchMore?.direction,o=e.state.data?.pages||[],l=e.state.data?.pageParams||[];let u={pages:[],pageParams:[]},f=0;const m=async()=>{let g=!1;const v=I=>{Object.defineProperty(I,"signal",{enumerable:!0,get:()=>(e.signal.aborted?g=!0:e.signal.addEventListener("abort",()=>{g=!0}),e.signal)})},E=iS(e.options,e.fetchOptions),b=async(I,T,C)=>{if(g)return Promise.reject();if(T==null&&I.pages.length)return Promise.resolve(I);const D=(()=>{const Q={client:e.client,queryKey:e.queryKey,pageParam:T,direction:C?"backward":"forward",meta:e.options.meta};return v(Q),Q})(),V=await E(D),{maxPages:B}=e.options,H=C?gO:mO;return{pages:H(I.pages,V,B),pageParams:H(I.pageParams,T,B)}};if(s&&o.length){const I=s==="backward",T=I?NO:lE,C={pages:o,pageParams:l},M=T(r,C);u=await b(C,M,I)}else{const I=n??o.length;do{const T=f===0?l[0]??r.initialPageParam:lE(r,u);if(f>0&&T==null)break;u=await b(u,T),f++}while(f<I)}return u};e.options.persister?e.fetchFn=()=>e.options.persister?.(m,{client:e.client,queryKey:e.queryKey,meta:e.options.meta,signal:e.signal},t):e.fetchFn=m}}}function lE(n,{pages:e,pageParams:t}){const r=e.length-1;return e.length>0?n.getNextPageParam(e[r],e,t[r],t):void 0}function NO(n,{pages:e,pageParams:t}){return e.length>0?n.getPreviousPageParam?.(e[0],e,t[0],t):void 0}var AO=class{#t;#e;#n;#r;#s;#a;#o;#i;constructor(n={}){this.#t=n.queryCache||new SO,this.#e=n.mutationCache||new RO,this.#n=n.defaultOptions||{},this.#r=new Map,this.#s=new Map,this.#a=0}mount(){this.#a++,this.#a===1&&(this.#o=Uv.subscribe(async n=>{n&&(await this.resumePausedMutations(),this.#t.onFocus())}),this.#i=wf.subscribe(async n=>{n&&(await this.resumePausedMutations(),this.#t.onOnline())}))}unmount(){this.#a--,this.#a===0&&(this.#o?.(),this.#o=void 0,this.#i?.(),this.#i=void 0)}isFetching(n){return this.#t.findAll({...n,fetchStatus:"fetching"}).length}isMutating(n){return this.#e.findAll({...n,status:"pending"}).length}getQueryData(n){const e=this.defaultQueryOptions({queryKey:n});return this.#t.get(e.queryHash)?.state.data}ensureQueryData(n){const e=this.defaultQueryOptions(n),t=this.#t.build(this,e),r=t.state.data;return r===void 0?this.fetchQuery(n):(n.revalidateIfStale&&t.isStaleByTime(oo(e.staleTime,t))&&this.prefetchQuery(e),Promise.resolve(r))}getQueriesData(n){return this.#t.findAll(n).map(({queryKey:e,state:t})=>{const r=t.data;return[e,r]})}setQueryData(n,e,t){const r=this.defaultQueryOptions({queryKey:n}),o=this.#t.get(r.queryHash)?.state.data,l=fO(e,o);if(l!==void 0)return this.#t.build(this,r).setData(l,{...t,manual:!0})}setQueriesData(n,e,t){return yn.batch(()=>this.#t.findAll(n).map(({queryKey:r})=>[r,this.setQueryData(r,e,t)]))}getQueryState(n){const e=this.defaultQueryOptions({queryKey:n});return this.#t.get(e.queryHash)?.state}removeQueries(n){const e=this.#t;yn.batch(()=>{e.findAll(n).forEach(t=>{e.remove(t)})})}resetQueries(n,e){const t=this.#t;return yn.batch(()=>(t.findAll(n).forEach(r=>{r.reset()}),this.refetchQueries({type:"active",...n},e)))}cancelQueries(n,e={}){const t={revert:!0,...e},r=yn.batch(()=>this.#t.findAll(n).map(s=>s.cancel(t)));return Promise.all(r).then(Kn).catch(Kn)}invalidateQueries(n,e={}){return yn.batch(()=>(this.#t.findAll(n).forEach(t=>{t.invalidate()}),n?.refetchType==="none"?Promise.resolve():this.refetchQueries({...n,type:n?.refetchType??n?.type??"active"},e)))}refetchQueries(n,e={}){const t={...e,cancelRefetch:e.cancelRefetch??!0},r=yn.batch(()=>this.#t.findAll(n).filter(s=>!s.isDisabled()&&!s.isStatic()).map(s=>{let o=s.fetch(void 0,t);return t.throwOnError||(o=o.catch(Kn)),s.state.fetchStatus==="paused"?Promise.resolve():o}));return Promise.all(r).then(Kn)}fetchQuery(n){const e=this.defaultQueryOptions(n);e.retry===void 0&&(e.retry=!1);const t=this.#t.build(this,e);return t.isStaleByTime(oo(e.staleTime,t))?t.fetch(e):Promise.resolve(t.state.data)}prefetchQuery(n){return this.fetchQuery(n).then(Kn).catch(Kn)}fetchInfiniteQuery(n){return n.behavior=aE(n.pages),this.fetchQuery(n)}prefetchInfiniteQuery(n){return this.fetchInfiniteQuery(n).then(Kn).catch(Kn)}ensureInfiniteQueryData(n){return n.behavior=aE(n.pages),this.ensureQueryData(n)}resumePausedMutations(){return wf.isOnline()?this.#e.resumePausedMutations():Promise.resolve()}getQueryCache(){return this.#t}getMutationCache(){return this.#e}getDefaultOptions(){return this.#n}setDefaultOptions(n){this.#n=n}setQueryDefaults(n,e){this.#r.set(Nu(n),{queryKey:n,defaultOptions:e})}getQueryDefaults(n){const e=[...this.#r.values()],t={};return e.forEach(r=>{Au(n,r.queryKey)&&Object.assign(t,r.defaultOptions)}),t}setMutationDefaults(n,e){this.#s.set(Nu(n),{mutationKey:n,defaultOptions:e})}getMutationDefaults(n){const e=[...this.#s.values()],t={};return e.forEach(r=>{Au(n,r.mutationKey)&&Object.assign(t,r.defaultOptions)}),t}defaultQueryOptions(n){if(n._defaulted)return n;const e={...this.#n.queries,...this.getQueryDefaults(n.queryKey),...n,_defaulted:!0};return e.queryHash||(e.queryHash=Vv(e.queryKey,e)),e.refetchOnReconnect===void 0&&(e.refetchOnReconnect=e.networkMode!=="always"),e.throwOnError===void 0&&(e.throwOnError=!!e.suspense),!e.networkMode&&e.persister&&(e.networkMode="offlineFirst"),e.queryFn===Fv&&(e.enabled=!1),e}defaultMutationOptions(n){return n?._defaulted?n:{...this.#n.mutations,...n?.mutationKey&&this.getMutationDefaults(n.mutationKey),...n,_defaulted:!0}}clear(){this.#t.clear(),this.#e.clear()}},kO=class extends ed{constructor(n,e){super(),this.options=e,this.#t=n,this.#i=null,this.#o=Ey(),this.options.experimental_prefetchInRender||this.#o.reject(new Error("experimental_prefetchInRender feature flag is not enabled")),this.bindMethods(),this.setOptions(e)}#t;#e=void 0;#n=void 0;#r=void 0;#s;#a;#o;#i;#m;#h;#f;#c;#u;#l;#p=new Set;bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(this.#e.addObserver(this),cE(this.#e,this.options)?this.#d():this.updateResult(),this.#_())}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return by(this.#e,this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return by(this.#e,this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,this.#w(),this.#x(),this.#e.removeObserver(this)}setOptions(n){const e=this.options,t=this.#e;if(this.options=this.#t.defaultQueryOptions(n),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof kr(this.options.enabled,this.#e)!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");this.#E(),this.#e.setOptions(this.options),e._defaulted&&!_y(this.options,e)&&this.#t.getQueryCache().notify({type:"observerOptionsUpdated",query:this.#e,observer:this});const r=this.hasListeners();r&&uE(this.#e,t,this.options,e)&&this.#d(),this.updateResult(),r&&(this.#e!==t||kr(this.options.enabled,this.#e)!==kr(e.enabled,this.#e)||oo(this.options.staleTime,this.#e)!==oo(e.staleTime,this.#e))&&this.#g();const s=this.#y();r&&(this.#e!==t||kr(this.options.enabled,this.#e)!==kr(e.enabled,this.#e)||s!==this.#l)&&this.#v(s)}getOptimisticResult(n){const e=this.#t.getQueryCache().build(this.#t,n),t=this.createResult(e,n);return jO(this,t)&&(this.#r=t,this.#a=this.options,this.#s=this.#e.state),t}getCurrentResult(){return this.#r}trackResult(n,e){return new Proxy(n,{get:(t,r)=>(this.trackProp(r),e?.(r),Reflect.get(t,r))})}trackProp(n){this.#p.add(n)}getCurrentQuery(){return this.#e}refetch({...n}={}){return this.fetch({...n})}fetchOptimistic(n){const e=this.#t.defaultQueryOptions(n),t=this.#t.getQueryCache().build(this.#t,e);return t.fetch().then(()=>this.createResult(t,e))}fetch(n){return this.#d({...n,cancelRefetch:n.cancelRefetch??!0}).then(()=>(this.updateResult(),this.#r))}#d(n){this.#E();let e=this.#e.fetch(this.options,n);return n?.throwOnError||(e=e.catch(Kn)),e}#g(){this.#w();const n=oo(this.options.staleTime,this.#e);if(ga||this.#r.isStale||!vy(n))return;const t=rS(this.#r.dataUpdatedAt,n)+1;this.#c=setTimeout(()=>{this.#r.isStale||this.updateResult()},t)}#y(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(this.#e):this.options.refetchInterval)??!1}#v(n){this.#x(),this.#l=n,!(ga||kr(this.options.enabled,this.#e)===!1||!vy(this.#l)||this.#l===0)&&(this.#u=setInterval(()=>{(this.options.refetchIntervalInBackground||Uv.isFocused())&&this.#d()},this.#l))}#_(){this.#g(),this.#v(this.#y())}#w(){this.#c&&(clearTimeout(this.#c),this.#c=void 0)}#x(){this.#u&&(clearInterval(this.#u),this.#u=void 0)}createResult(n,e){const t=this.#e,r=this.options,s=this.#r,o=this.#s,l=this.#a,f=n!==t?n.state:this.#n,{state:m}=n;let g={...m},v=!1,E;if(e._optimisticResults){const R=this.hasListeners(),N=!R&&cE(n,e),j=R&&uE(n,t,e,r);(N||j)&&(g={...g,...uS(m.data,n.options)}),e._optimisticResults==="isRestoring"&&(g.fetchStatus="idle")}let{error:b,errorUpdatedAt:I,status:T}=g;E=g.data;let C=!1;if(e.placeholderData!==void 0&&E===void 0&&T==="pending"){let R;s?.isPlaceholderData&&e.placeholderData===l?.placeholderData?(R=s.data,C=!0):R=typeof e.placeholderData=="function"?e.placeholderData(this.#f?.state.data,this.#f):e.placeholderData,R!==void 0&&(T="success",E=xy(s?.data,R,e),v=!0)}if(e.select&&E!==void 0&&!C)if(s&&E===o?.data&&e.select===this.#m)E=this.#h;else try{this.#m=e.select,E=e.select(E),E=xy(s?.data,E,e),this.#h=E,this.#i=null}catch(R){this.#i=R}this.#i&&(b=this.#i,E=this.#h,I=Date.now(),T="error");const M=g.fetchStatus==="fetching",D=T==="pending",V=T==="error",B=D&&M,H=E!==void 0,k={status:T,fetchStatus:g.fetchStatus,isPending:D,isSuccess:T==="success",isError:V,isInitialLoading:B,isLoading:B,data:E,dataUpdatedAt:g.dataUpdatedAt,error:b,errorUpdatedAt:I,failureCount:g.fetchFailureCount,failureReason:g.fetchFailureReason,errorUpdateCount:g.errorUpdateCount,isFetched:g.dataUpdateCount>0||g.errorUpdateCount>0,isFetchedAfterMount:g.dataUpdateCount>f.dataUpdateCount||g.errorUpdateCount>f.errorUpdateCount,isFetching:M,isRefetching:M&&!D,isLoadingError:V&&!H,isPaused:g.fetchStatus==="paused",isPlaceholderData:v,isRefetchError:V&&H,isStale:$v(n,e),refetch:this.refetch,promise:this.#o,isEnabled:kr(e.enabled,n)!==!1};if(this.options.experimental_prefetchInRender){const R=L=>{k.status==="error"?L.reject(k.error):k.data!==void 0&&L.resolve(k.data)},N=()=>{const L=this.#o=k.promise=Ey();R(L)},j=this.#o;switch(j.status){case"pending":n.queryHash===t.queryHash&&R(j);break;case"fulfilled":(k.status==="error"||k.data!==j.value)&&N();break;case"rejected":(k.status!=="error"||k.error!==j.reason)&&N();break}}return k}updateResult(){const n=this.#r,e=this.createResult(this.#e,this.options);if(this.#s=this.#e.state,this.#a=this.options,this.#s.data!==void 0&&(this.#f=this.#e),_y(e,n))return;this.#r=e;const t=()=>{if(!n)return!0;const{notifyOnChangeProps:r}=this.options,s=typeof r=="function"?r():r;if(s==="all"||!s&&!this.#p.size)return!0;const o=new Set(s??this.#p);return this.options.throwOnError&&o.add("error"),Object.keys(this.#r).some(l=>{const u=l;return this.#r[u]!==n[u]&&o.has(u)})};this.#b({listeners:t()})}#E(){const n=this.#t.getQueryCache().build(this.#t,this.options);if(n===this.#e)return;const e=this.#e;this.#e=n,this.#n=n.state,this.hasListeners()&&(e?.removeObserver(this),n.addObserver(this))}onQueryUpdate(){this.updateResult(),this.hasListeners()&&this.#_()}#b(n){yn.batch(()=>{n.listeners&&this.listeners.forEach(e=>{e(this.#r)}),this.#t.getQueryCache().notify({query:this.#e,type:"observerResultsUpdated"})})}};function PO(n,e){return kr(e.enabled,n)!==!1&&n.state.data===void 0&&!(n.state.status==="error"&&e.retryOnMount===!1)}function cE(n,e){return PO(n,e)||n.state.data!==void 0&&by(n,e,e.refetchOnMount)}function by(n,e,t){if(kr(e.enabled,n)!==!1&&oo(e.staleTime,n)!=="static"){const r=typeof t=="function"?t(n):t;return r==="always"||r!==!1&&$v(n,e)}return!1}function uE(n,e,t,r){return(n!==e||kr(r.enabled,n)===!1)&&(!t.suspense||n.state.status!=="error")&&$v(n,t)}function $v(n,e){return kr(e.enabled,n)!==!1&&n.isStaleByTime(oo(e.staleTime,n))}function jO(n,e){return!_y(n.getCurrentResult(),e)}var dS=w.createContext(void 0),hS=n=>{const e=w.useContext(dS);if(!e)throw new Error("No QueryClient set, use QueryClientProvider to set one");return e},DO=({client:n,children:e})=>(w.useEffect(()=>(n.mount(),()=>{n.unmount()}),[n]),d.jsx(dS.Provider,{value:n,children:e})),fS=w.createContext(!1),OO=()=>w.useContext(fS);fS.Provider;function MO(){let n=!1;return{clearReset:()=>{n=!1},reset:()=>{n=!0},isReset:()=>n}}var LO=w.createContext(MO()),VO=()=>w.useContext(LO),FO=(n,e)=>{(n.suspense||n.throwOnError||n.experimental_prefetchInRender)&&(e.isReset()||(n.retryOnMount=!1))},UO=n=>{w.useEffect(()=>{n.clearReset()},[n])},$O=({result:n,errorResetBoundary:e,throwOnError:t,query:r,suspense:s})=>n.isError&&!e.isReset()&&!n.isFetching&&r&&(s&&n.data===void 0||yO(t,[n.error,r])),BO=n=>{if(n.suspense){const e=r=>r==="static"?r:Math.max(r??1e3,1e3),t=n.staleTime;n.staleTime=typeof t=="function"?(...r)=>e(t(...r)):e(t),typeof n.gcTime=="number"&&(n.gcTime=Math.max(n.gcTime,1e3))}},zO=(n,e)=>n.isLoading&&n.isFetching&&!e,WO=(n,e)=>n?.suspense&&e.isPending,dE=(n,e,t)=>e.fetchOptimistic(n).catch(()=>{t.clearReset()});function HO(n,e,t){const r=OO(),s=VO(),o=hS(),l=o.defaultQueryOptions(n);o.getDefaultOptions().queries?._experimental_beforeQuery?.(l),l._optimisticResults=r?"isRestoring":"optimistic",BO(l),FO(l,s),UO(s);const u=!o.getQueryCache().get(l.queryHash),[f]=w.useState(()=>new e(o,l)),m=f.getOptimisticResult(l),g=!r&&n.subscribed!==!1;if(w.useSyncExternalStore(w.useCallback(v=>{const E=g?f.subscribe(yn.batchCalls(v)):Kn;return f.updateResult(),E},[f,g]),()=>f.getCurrentResult(),()=>f.getCurrentResult()),w.useEffect(()=>{f.setOptions(l)},[l,f]),WO(l,m))throw dE(l,f,s);if($O({result:m,errorResetBoundary:s,throwOnError:l.throwOnError,query:o.getQueryCache().get(l.queryHash),suspense:l.suspense}))throw m.error;return o.getDefaultOptions().queries?._experimental_afterQuery?.(l,m),l.experimental_prefetchInRender&&!ga&&zO(m,r)&&(u?dE(l,f,s):o.getQueryCache().get(l.queryHash)?.promise)?.catch(Kn).finally(()=>{f.updateResult()}),l.notifyOnChangeProps?m:f.trackResult(m)}function Dg(n,e){return HO(n,kO)}function ku(){return ku=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},ku.apply(this,arguments)}var ro;(function(n){n.Pop="POP",n.Push="PUSH",n.Replace="REPLACE"})(ro||(ro={}));const hE="popstate";function qO(n){n===void 0&&(n={});function e(r,s){let{pathname:o,search:l,hash:u}=r.location;return Ty("",{pathname:o,search:l,hash:u},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function t(r,s){return typeof s=="string"?s:xf(s)}return KO(e,t,null,n)}function Yt(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}function pS(n,e){if(!n){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function GO(){return Math.random().toString(36).substr(2,8)}function fE(n,e){return{usr:n.state,key:n.key,idx:e}}function Ty(n,e,t,r){return t===void 0&&(t=null),ku({pathname:typeof n=="string"?n:n.pathname,search:"",hash:""},typeof e=="string"?rc(e):e,{state:t,key:e&&e.key||r||GO()})}function xf(n){let{pathname:e="/",search:t="",hash:r=""}=n;return t&&t!=="?"&&(e+=t.charAt(0)==="?"?t:"?"+t),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function rc(n){let e={};if(n){let t=n.indexOf("#");t>=0&&(e.hash=n.substr(t),n=n.substr(0,t));let r=n.indexOf("?");r>=0&&(e.search=n.substr(r),n=n.substr(0,r)),n&&(e.pathname=n)}return e}function KO(n,e,t,r){r===void 0&&(r={});let{window:s=document.defaultView,v5Compat:o=!1}=r,l=s.history,u=ro.Pop,f=null,m=g();m==null&&(m=0,l.replaceState(ku({},l.state,{idx:m}),""));function g(){return(l.state||{idx:null}).idx}function v(){u=ro.Pop;let C=g(),M=C==null?null:C-m;m=C,f&&f({action:u,location:T.location,delta:M})}function E(C,M){u=ro.Push;let D=Ty(T.location,C,M);m=g()+1;let V=fE(D,m),B=T.createHref(D);try{l.pushState(V,"",B)}catch(H){if(H instanceof DOMException&&H.name==="DataCloneError")throw H;s.location.assign(B)}o&&f&&f({action:u,location:T.location,delta:1})}function b(C,M){u=ro.Replace;let D=Ty(T.location,C,M);m=g();let V=fE(D,m),B=T.createHref(D);l.replaceState(V,"",B),o&&f&&f({action:u,location:T.location,delta:0})}function I(C){let M=s.location.origin!=="null"?s.location.origin:s.location.href,D=typeof C=="string"?C:xf(C);return D=D.replace(/ $/,"%20"),Yt(M,"No window.location.(origin|href) available to create URL for href: "+D),new URL(D,M)}let T={get action(){return u},get location(){return n(s,l)},listen(C){if(f)throw new Error("A history only accepts one active listener");return s.addEventListener(hE,v),f=C,()=>{s.removeEventListener(hE,v),f=null}},createHref(C){return e(s,C)},createURL:I,encodeLocation(C){let M=I(C);return{pathname:M.pathname,search:M.search,hash:M.hash}},push:E,replace:b,go(C){return l.go(C)}};return T}var pE;(function(n){n.data="data",n.deferred="deferred",n.redirect="redirect",n.error="error"})(pE||(pE={}));function QO(n,e,t){return t===void 0&&(t="/"),YO(n,e,t)}function YO(n,e,t,r){let s=typeof e=="string"?rc(e):e,o=Bv(s.pathname||"/",t);if(o==null)return null;let l=mS(n);XO(l);let u=null;for(let f=0;u==null&&f<l.length;++f){let m=cM(o);u=oM(l[f],m)}return u}function mS(n,e,t,r){e===void 0&&(e=[]),t===void 0&&(t=[]),r===void 0&&(r="");let s=(o,l,u)=>{let f={relativePath:u===void 0?o.path||"":u,caseSensitive:o.caseSensitive===!0,childrenIndex:l,route:o};f.relativePath.startsWith("/")&&(Yt(f.relativePath.startsWith(r),'Absolute route path "'+f.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),f.relativePath=f.relativePath.slice(r.length));let m=ao([r,f.relativePath]),g=t.concat(f);o.children&&o.children.length>0&&(Yt(o.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+m+'".')),mS(o.children,e,g,m)),!(o.path==null&&!o.index)&&e.push({path:m,score:sM(m,o.index),routesMeta:g})};return n.forEach((o,l)=>{var u;if(o.path===""||!((u=o.path)!=null&&u.includes("?")))s(o,l);else for(let f of gS(o.path))s(o,l,f)}),e}function gS(n){let e=n.split("/");if(e.length===0)return[];let[t,...r]=e,s=t.endsWith("?"),o=t.replace(/\?$/,"");if(r.length===0)return s?[o,""]:[o];let l=gS(r.join("/")),u=[];return u.push(...l.map(f=>f===""?o:[o,f].join("/"))),s&&u.push(...l),u.map(f=>n.startsWith("/")&&f===""?"/":f)}function XO(n){n.sort((e,t)=>e.score!==t.score?t.score-e.score:iM(e.routesMeta.map(r=>r.childrenIndex),t.routesMeta.map(r=>r.childrenIndex)))}const JO=/^:[\w-]+$/,ZO=3,eM=2,tM=1,nM=10,rM=-2,mE=n=>n==="*";function sM(n,e){let t=n.split("/"),r=t.length;return t.some(mE)&&(r+=rM),e&&(r+=eM),t.filter(s=>!mE(s)).reduce((s,o)=>s+(JO.test(o)?ZO:o===""?tM:nM),r)}function iM(n,e){return n.length===e.length&&n.slice(0,-1).every((r,s)=>r===e[s])?n[n.length-1]-e[e.length-1]:0}function oM(n,e,t){let{routesMeta:r}=n,s={},o="/",l=[];for(let u=0;u<r.length;++u){let f=r[u],m=u===r.length-1,g=o==="/"?e:e.slice(o.length)||"/",v=aM({path:f.relativePath,caseSensitive:f.caseSensitive,end:m},g),E=f.route;if(!v)return null;Object.assign(s,v.params),l.push({params:s,pathname:ao([o,v.pathname]),pathnameBase:fM(ao([o,v.pathnameBase])),route:E}),v.pathnameBase!=="/"&&(o=ao([o,v.pathnameBase]))}return l}function aM(n,e){typeof n=="string"&&(n={path:n,caseSensitive:!1,end:!0});let[t,r]=lM(n.path,n.caseSensitive,n.end),s=e.match(t);if(!s)return null;let o=s[0],l=o.replace(/(.)\/+$/,"$1"),u=s.slice(1);return{params:r.reduce((m,g,v)=>{let{paramName:E,isOptional:b}=g;if(E==="*"){let T=u[v]||"";l=o.slice(0,o.length-T.length).replace(/(.)\/+$/,"$1")}const I=u[v];return b&&!I?m[E]=void 0:m[E]=(I||"").replace(/%2F/g,"/"),m},{}),pathname:o,pathnameBase:l,pattern:n}}function lM(n,e,t){e===void 0&&(e=!1),t===void 0&&(t=!0),pS(n==="*"||!n.endsWith("*")||n.endsWith("/*"),'Route path "'+n+'" will be treated as if it were '+('"'+n.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+n.replace(/\*$/,"/*")+'".'));let r=[],s="^"+n.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(l,u,f)=>(r.push({paramName:u,isOptional:f!=null}),f?"/?([^\\/]+)?":"/([^\\/]+)"));return n.endsWith("*")?(r.push({paramName:"*"}),s+=n==="*"||n==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?s+="\\/*$":n!==""&&n!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,e?void 0:"i"),r]}function cM(n){try{return n.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return pS(!1,'The URL path "'+n+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),n}}function Bv(n,e){if(e==="/")return n;if(!n.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,r=n.charAt(t);return r&&r!=="/"?null:n.slice(t)||"/"}function uM(n,e){e===void 0&&(e="/");let{pathname:t,search:r="",hash:s=""}=typeof n=="string"?rc(n):n;return{pathname:t?t.startsWith("/")?t:dM(t,e):e,search:pM(r),hash:mM(s)}}function dM(n,e){let t=e.replace(/\/+$/,"").split("/");return n.split("/").forEach(s=>{s===".."?t.length>1&&t.pop():s!=="."&&t.push(s)}),t.length>1?t.join("/"):"/"}function Og(n,e,t,r){return"Cannot include a '"+n+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+t+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function hM(n){return n.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function yS(n,e){let t=hM(n);return e?t.map((r,s)=>s===t.length-1?r.pathname:r.pathnameBase):t.map(r=>r.pathnameBase)}function vS(n,e,t,r){r===void 0&&(r=!1);let s;typeof n=="string"?s=rc(n):(s=ku({},n),Yt(!s.pathname||!s.pathname.includes("?"),Og("?","pathname","search",s)),Yt(!s.pathname||!s.pathname.includes("#"),Og("#","pathname","hash",s)),Yt(!s.search||!s.search.includes("#"),Og("#","search","hash",s)));let o=n===""||s.pathname==="",l=o?"/":s.pathname,u;if(l==null)u=t;else{let v=e.length-1;if(!r&&l.startsWith("..")){let E=l.split("/");for(;E[0]==="..";)E.shift(),v-=1;s.pathname=E.join("/")}u=v>=0?e[v]:"/"}let f=uM(s,u),m=l&&l!=="/"&&l.endsWith("/"),g=(o||l===".")&&t.endsWith("/");return!f.pathname.endsWith("/")&&(m||g)&&(f.pathname+="/"),f}const ao=n=>n.join("/").replace(/\/\/+/g,"/"),fM=n=>n.replace(/\/+$/,"").replace(/^\/*/,"/"),pM=n=>!n||n==="?"?"":n.startsWith("?")?n:"?"+n,mM=n=>!n||n==="#"?"":n.startsWith("#")?n:"#"+n;function gM(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.internal=="boolean"&&"data"in n}const _S=["post","put","patch","delete"];new Set(_S);const yM=["get",..._S];new Set(yM);function Pu(){return Pu=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},Pu.apply(this,arguments)}const zv=w.createContext(null),vM=w.createContext(null),Na=w.createContext(null),mp=w.createContext(null),Io=w.createContext({outlet:null,matches:[],isDataRoute:!1}),wS=w.createContext(null);function _M(n,e){let{relative:t}=e===void 0?{}:e;td()||Yt(!1);let{basename:r,navigator:s}=w.useContext(Na),{hash:o,pathname:l,search:u}=ES(n,{relative:t}),f=l;return r!=="/"&&(f=l==="/"?r:ao([r,l])),s.createHref({pathname:f,search:u,hash:o})}function td(){return w.useContext(mp)!=null}function nd(){return td()||Yt(!1),w.useContext(mp).location}function xS(n){w.useContext(Na).static||w.useLayoutEffect(n)}function Ti(){let{isDataRoute:n}=w.useContext(Io);return n?jM():wM()}function wM(){td()||Yt(!1);let n=w.useContext(zv),{basename:e,future:t,navigator:r}=w.useContext(Na),{matches:s}=w.useContext(Io),{pathname:o}=nd(),l=JSON.stringify(yS(s,t.v7_relativeSplatPath)),u=w.useRef(!1);return xS(()=>{u.current=!0}),w.useCallback(function(m,g){if(g===void 0&&(g={}),!u.current)return;if(typeof m=="number"){r.go(m);return}let v=vS(m,JSON.parse(l),o,g.relative==="path");n==null&&e!=="/"&&(v.pathname=v.pathname==="/"?e:ao([e,v.pathname])),(g.replace?r.replace:r.push)(v,g.state,g)},[e,r,l,o,n])}function xM(){let{matches:n}=w.useContext(Io),e=n[n.length-1];return e?e.params:{}}function ES(n,e){let{relative:t}=e===void 0?{}:e,{future:r}=w.useContext(Na),{matches:s}=w.useContext(Io),{pathname:o}=nd(),l=JSON.stringify(yS(s,r.v7_relativeSplatPath));return w.useMemo(()=>vS(n,JSON.parse(l),o,t==="path"),[n,l,o,t])}function EM(n,e){return bM(n,e)}function bM(n,e,t,r){td()||Yt(!1);let{navigator:s}=w.useContext(Na),{matches:o}=w.useContext(Io),l=o[o.length-1],u=l?l.params:{};l&&l.pathname;let f=l?l.pathnameBase:"/";l&&l.route;let m=nd(),g;if(e){var v;let C=typeof e=="string"?rc(e):e;f==="/"||(v=C.pathname)!=null&&v.startsWith(f)||Yt(!1),g=C}else g=m;let E=g.pathname||"/",b=E;if(f!=="/"){let C=f.replace(/^\//,"").split("/");b="/"+E.replace(/^\//,"").split("/").slice(C.length).join("/")}let I=QO(n,{pathname:b}),T=RM(I&&I.map(C=>Object.assign({},C,{params:Object.assign({},u,C.params),pathname:ao([f,s.encodeLocation?s.encodeLocation(C.pathname).pathname:C.pathname]),pathnameBase:C.pathnameBase==="/"?f:ao([f,s.encodeLocation?s.encodeLocation(C.pathnameBase).pathname:C.pathnameBase])})),o,t,r);return e&&T?w.createElement(mp.Provider,{value:{location:Pu({pathname:"/",search:"",hash:"",state:null,key:"default"},g),navigationType:ro.Pop}},T):T}function TM(){let n=PM(),e=gM(n)?n.status+" "+n.statusText:n instanceof Error?n.message:JSON.stringify(n),t=n instanceof Error?n.stack:null,s={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return w.createElement(w.Fragment,null,w.createElement("h2",null,"Unexpected Application Error!"),w.createElement("h3",{style:{fontStyle:"italic"}},e),t?w.createElement("pre",{style:s},t):null,null)}const SM=w.createElement(TM,null);class CM extends w.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||t.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){console.error("React Router caught the following error during render",e,t)}render(){return this.state.error!==void 0?w.createElement(Io.Provider,{value:this.props.routeContext},w.createElement(wS.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function IM(n){let{routeContext:e,match:t,children:r}=n,s=w.useContext(zv);return s&&s.static&&s.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=t.route.id),w.createElement(Io.Provider,{value:e},r)}function RM(n,e,t,r){var s;if(e===void 0&&(e=[]),t===void 0&&(t=null),r===void 0&&(r=null),n==null){var o;if(!t)return null;if(t.errors)n=t.matches;else if((o=r)!=null&&o.v7_partialHydration&&e.length===0&&!t.initialized&&t.matches.length>0)n=t.matches;else return null}let l=n,u=(s=t)==null?void 0:s.errors;if(u!=null){let g=l.findIndex(v=>v.route.id&&u?.[v.route.id]!==void 0);g>=0||Yt(!1),l=l.slice(0,Math.min(l.length,g+1))}let f=!1,m=-1;if(t&&r&&r.v7_partialHydration)for(let g=0;g<l.length;g++){let v=l[g];if((v.route.HydrateFallback||v.route.hydrateFallbackElement)&&(m=g),v.route.id){let{loaderData:E,errors:b}=t,I=v.route.loader&&E[v.route.id]===void 0&&(!b||b[v.route.id]===void 0);if(v.route.lazy||I){f=!0,m>=0?l=l.slice(0,m+1):l=[l[0]];break}}}return l.reduceRight((g,v,E)=>{let b,I=!1,T=null,C=null;t&&(b=u&&v.route.id?u[v.route.id]:void 0,T=v.route.errorElement||SM,f&&(m<0&&E===0?(DM("route-fallback"),I=!0,C=null):m===E&&(I=!0,C=v.route.hydrateFallbackElement||null)));let M=e.concat(l.slice(0,E+1)),D=()=>{let V;return b?V=T:I?V=C:v.route.Component?V=w.createElement(v.route.Component,null):v.route.element?V=v.route.element:V=g,w.createElement(IM,{match:v,routeContext:{outlet:g,matches:M,isDataRoute:t!=null},children:V})};return t&&(v.route.ErrorBoundary||v.route.errorElement||E===0)?w.createElement(CM,{location:t.location,revalidation:t.revalidation,component:T,error:b,children:D(),routeContext:{outlet:null,matches:M,isDataRoute:!0}}):D()},null)}var bS=(function(n){return n.UseBlocker="useBlocker",n.UseRevalidator="useRevalidator",n.UseNavigateStable="useNavigate",n})(bS||{}),TS=(function(n){return n.UseBlocker="useBlocker",n.UseLoaderData="useLoaderData",n.UseActionData="useActionData",n.UseRouteError="useRouteError",n.UseNavigation="useNavigation",n.UseRouteLoaderData="useRouteLoaderData",n.UseMatches="useMatches",n.UseRevalidator="useRevalidator",n.UseNavigateStable="useNavigate",n.UseRouteId="useRouteId",n})(TS||{});function NM(n){let e=w.useContext(zv);return e||Yt(!1),e}function AM(n){let e=w.useContext(vM);return e||Yt(!1),e}function kM(n){let e=w.useContext(Io);return e||Yt(!1),e}function SS(n){let e=kM(),t=e.matches[e.matches.length-1];return t.route.id||Yt(!1),t.route.id}function PM(){var n;let e=w.useContext(wS),t=AM(),r=SS();return e!==void 0?e:(n=t.errors)==null?void 0:n[r]}function jM(){let{router:n}=NM(bS.UseNavigateStable),e=SS(TS.UseNavigateStable),t=w.useRef(!1);return xS(()=>{t.current=!0}),w.useCallback(function(s,o){o===void 0&&(o={}),t.current&&(typeof s=="number"?n.navigate(s):n.navigate(s,Pu({fromRouteId:e},o)))},[n,e])}const gE={};function DM(n,e,t){gE[n]||(gE[n]=!0)}function OM(n,e){n?.v7_startTransition,n?.v7_relativeSplatPath}function Cs(n){Yt(!1)}function MM(n){let{basename:e="/",children:t=null,location:r,navigationType:s=ro.Pop,navigator:o,static:l=!1,future:u}=n;td()&&Yt(!1);let f=e.replace(/^\/*/,"/"),m=w.useMemo(()=>({basename:f,navigator:o,static:l,future:Pu({v7_relativeSplatPath:!1},u)}),[f,u,o,l]);typeof r=="string"&&(r=rc(r));let{pathname:g="/",search:v="",hash:E="",state:b=null,key:I="default"}=r,T=w.useMemo(()=>{let C=Bv(g,f);return C==null?null:{location:{pathname:C,search:v,hash:E,state:b,key:I},navigationType:s}},[f,g,v,E,b,I,s]);return T==null?null:w.createElement(Na.Provider,{value:m},w.createElement(mp.Provider,{children:t,value:T}))}function LM(n){let{children:e,location:t}=n;return EM(Sy(e),t)}new Promise(()=>{});function Sy(n,e){e===void 0&&(e=[]);let t=[];return w.Children.forEach(n,(r,s)=>{if(!w.isValidElement(r))return;let o=[...e,s];if(r.type===w.Fragment){t.push.apply(t,Sy(r.props.children,o));return}r.type!==Cs&&Yt(!1),!r.props.index||!r.props.children||Yt(!1);let l={id:r.props.id||o.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(l.children=Sy(r.props.children,o)),t.push(l)}),t}function Cy(){return Cy=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},Cy.apply(this,arguments)}function VM(n,e){if(n==null)return{};var t={},r=Object.keys(n),s,o;for(o=0;o<r.length;o++)s=r[o],!(e.indexOf(s)>=0)&&(t[s]=n[s]);return t}function FM(n){return!!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey)}function UM(n,e){return n.button===0&&(!e||e==="_self")&&!FM(n)}const $M=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],BM="6";try{window.__reactRouterVersion=BM}catch{}const zM="startTransition",yE=pv[zM];function WM(n){let{basename:e,children:t,future:r,window:s}=n,o=w.useRef();o.current==null&&(o.current=qO({window:s,v5Compat:!0}));let l=o.current,[u,f]=w.useState({action:l.action,location:l.location}),{v7_startTransition:m}=r||{},g=w.useCallback(v=>{m&&yE?yE(()=>f(v)):f(v)},[f,m]);return w.useLayoutEffect(()=>l.listen(g),[l,g]),w.useEffect(()=>OM(r),[r]),w.createElement(MM,{basename:e,children:t,location:u.location,navigationType:u.action,navigator:l,future:r})}const HM=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",qM=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,yt=w.forwardRef(function(e,t){let{onClick:r,relative:s,reloadDocument:o,replace:l,state:u,target:f,to:m,preventScrollReset:g,viewTransition:v}=e,E=VM(e,$M),{basename:b}=w.useContext(Na),I,T=!1;if(typeof m=="string"&&qM.test(m)&&(I=m,HM))try{let V=new URL(window.location.href),B=m.startsWith("//")?new URL(V.protocol+m):new URL(m),H=Bv(B.pathname,b);B.origin===V.origin&&H!=null?m=H+B.search+B.hash:T=!0}catch{}let C=_M(m,{relative:s}),M=GM(m,{replace:l,state:u,target:f,preventScrollReset:g,relative:s,viewTransition:v});function D(V){r&&r(V),V.defaultPrevented||M(V)}return w.createElement("a",Cy({},E,{href:I||C,onClick:T||o?r:D,ref:t,target:f}))});var vE;(function(n){n.UseScrollRestoration="useScrollRestoration",n.UseSubmit="useSubmit",n.UseSubmitFetcher="useSubmitFetcher",n.UseFetcher="useFetcher",n.useViewTransitionState="useViewTransitionState"})(vE||(vE={}));var _E;(function(n){n.UseFetcher="useFetcher",n.UseFetchers="useFetchers",n.UseScrollRestoration="useScrollRestoration"})(_E||(_E={}));function GM(n,e){let{target:t,replace:r,state:s,preventScrollReset:o,relative:l,viewTransition:u}=e===void 0?{}:e,f=Ti(),m=nd(),g=ES(n,{relative:l});return w.useCallback(v=>{if(UM(v,t)){v.preventDefault();let E=r!==void 0?r:xf(m)===xf(g);f(n,{replace:E,state:s,preventScrollReset:o,relative:l,viewTransition:u})}},[m,f,g,r,s,t,n,o,l,u])}const KM=lp("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-lg text-sm font-semibold ring-offset-background transition-all duration-300 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90 shadow-[0_0_20px_hsl(var(--primary)/0.3)]",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-border bg-transparent text-foreground hover:bg-secondary hover:text-secondary-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-secondary hover:text-secondary-foreground",link:"text-primary underline-offset-4 hover:underline",hero:"bg-primary text-primary-foreground hover:scale-105 shadow-[0_0_40px_hsl(var(--primary)/0.3)] text-base",heroOutline:"border-2 border-primary/50 bg-transparent text-foreground hover:bg-primary/10 hover:border-primary text-base"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-12 rounded-lg px-8",xl:"h-14 rounded-xl px-10 text-lg",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),$e=w.forwardRef(({className:n,variant:e,size:t,asChild:r=!1,...s},o)=>{const l=r?hP:"button";return d.jsx(l,{className:He(KM({variant:e,size:t,className:n})),ref:o,...s})});$e.displayName="Button";const QM=()=>{};var wE={};const CS=function(n){const e=[];let t=0;for(let r=0;r<n.length;r++){let s=n.charCodeAt(r);s<128?e[t++]=s:s<2048?(e[t++]=s>>6|192,e[t++]=s&63|128):(s&64512)===55296&&r+1<n.length&&(n.charCodeAt(r+1)&64512)===56320?(s=65536+((s&1023)<<10)+(n.charCodeAt(++r)&1023),e[t++]=s>>18|240,e[t++]=s>>12&63|128,e[t++]=s>>6&63|128,e[t++]=s&63|128):(e[t++]=s>>12|224,e[t++]=s>>6&63|128,e[t++]=s&63|128)}return e},YM=function(n){const e=[];let t=0,r=0;for(;t<n.length;){const s=n[t++];if(s<128)e[r++]=String.fromCharCode(s);else if(s>191&&s<224){const o=n[t++];e[r++]=String.fromCharCode((s&31)<<6|o&63)}else if(s>239&&s<365){const o=n[t++],l=n[t++],u=n[t++],f=((s&7)<<18|(o&63)<<12|(l&63)<<6|u&63)-65536;e[r++]=String.fromCharCode(55296+(f>>10)),e[r++]=String.fromCharCode(56320+(f&1023))}else{const o=n[t++],l=n[t++];e[r++]=String.fromCharCode((s&15)<<12|(o&63)<<6|l&63)}}return e.join("")},IS={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let s=0;s<n.length;s+=3){const o=n[s],l=s+1<n.length,u=l?n[s+1]:0,f=s+2<n.length,m=f?n[s+2]:0,g=o>>2,v=(o&3)<<4|u>>4;let E=(u&15)<<2|m>>6,b=m&63;f||(b=64,l||(E=64)),r.push(t[g],t[v],t[E],t[b])}return r.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(CS(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):YM(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let s=0;s<n.length;){const o=t[n.charAt(s++)],u=s<n.length?t[n.charAt(s)]:0;++s;const m=s<n.length?t[n.charAt(s)]:64;++s;const v=s<n.length?t[n.charAt(s)]:64;if(++s,o==null||u==null||m==null||v==null)throw new XM;const E=o<<2|u>>4;if(r.push(E),m!==64){const b=u<<4&240|m>>2;if(r.push(b),v!==64){const I=m<<6&192|v;r.push(I)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}};class XM extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const JM=function(n){const e=CS(n);return IS.encodeByteArray(e,!0)},Ef=function(n){return JM(n).replace(/\./g,"")},RS=function(n){try{return IS.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function ZM(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const e4=()=>ZM().__FIREBASE_DEFAULTS__,t4=()=>{if(typeof process>"u"||typeof wE>"u")return;const n=wE.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},n4=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=n&&RS(n[1]);return e&&JSON.parse(e)},gp=()=>{try{return QM()||e4()||t4()||n4()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},NS=n=>gp()?.emulatorHosts?.[n],AS=n=>{const e=NS(n);if(!e)return;const t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),r]:[e.substring(0,t),r]},kS=()=>gp()?.config,PS=n=>gp()?.[`_${n}`];class r4{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,r)=>{t?this.reject(t):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,r))}}}function Aa(n){try{return(n.startsWith("http://")||n.startsWith("https://")?new URL(n).hostname:n).endsWith(".cloudworkstations.dev")}catch{return!1}}async function Wv(n){return(await fetch(n,{credentials:"include"})).ok}function jS(n,e){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const t={alg:"none",type:"JWT"},r=e||"demo-project",s=n.iat||0,o=n.sub||n.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const l={iss:`https://securetoken.google.com/${r}`,aud:r,iat:s,exp:s+3600,auth_time:s,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}},...n};return[Ef(JSON.stringify(t)),Ef(JSON.stringify(l)),""].join(".")}const mu={};function s4(){const n={prod:[],emulator:[]};for(const e of Object.keys(mu))mu[e]?n.emulator.push(e):n.prod.push(e);return n}function i4(n){let e=document.getElementById(n),t=!1;return e||(e=document.createElement("div"),e.setAttribute("id",n),t=!0),{created:t,element:e}}let xE=!1;function Hv(n,e){if(typeof window>"u"||typeof document>"u"||!Aa(window.location.host)||mu[n]===e||mu[n]||xE)return;mu[n]=e;function t(E){return`__firebase__banner__${E}`}const r="__firebase__banner",o=s4().prod.length>0;function l(){const E=document.getElementById(r);E&&E.remove()}function u(E){E.style.display="flex",E.style.background="#7faaf0",E.style.position="fixed",E.style.bottom="5px",E.style.left="5px",E.style.padding=".5em",E.style.borderRadius="5px",E.style.alignItems="center"}function f(E,b){E.setAttribute("width","24"),E.setAttribute("id",b),E.setAttribute("height","24"),E.setAttribute("viewBox","0 0 24 24"),E.setAttribute("fill","none"),E.style.marginLeft="-6px"}function m(){const E=document.createElement("span");return E.style.cursor="pointer",E.style.marginLeft="16px",E.style.fontSize="24px",E.innerHTML=" &times;",E.onclick=()=>{xE=!0,l()},E}function g(E,b){E.setAttribute("id",b),E.innerText="Learn more",E.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",E.setAttribute("target","__blank"),E.style.paddingLeft="5px",E.style.textDecoration="underline"}function v(){const E=i4(r),b=t("text"),I=document.getElementById(b)||document.createElement("span"),T=t("learnmore"),C=document.getElementById(T)||document.createElement("a"),M=t("preprendIcon"),D=document.getElementById(M)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(E.created){const V=E.element;u(V),g(C,T);const B=m();f(D,M),V.append(D,I,C,B),document.body.appendChild(V)}o?(I.innerText="Preview backend disconnected.",D.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(D.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,I.innerText="Preview backend running in this workspace."),I.setAttribute("id",b)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",v):v()}function Dn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function o4(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Dn())}function a4(){const n=gp()?.forceEnvironment;if(n==="node")return!0;if(n==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function l4(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function c4(){const n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function u4(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function d4(){const n=Dn();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}function h4(){return!a4()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function f4(){try{return typeof indexedDB=="object"}catch{return!1}}function p4(){return new Promise((n,e)=>{try{let t=!0;const r="validate-browser-context-for-indexeddb-analytics-module",s=self.indexedDB.open(r);s.onsuccess=()=>{s.result.close(),t||self.indexedDB.deleteDatabase(r),n(!0)},s.onupgradeneeded=()=>{t=!1},s.onerror=()=>{e(s.error?.message||"")}}catch(t){e(t)}})}const m4="FirebaseError";class Ws extends Error{constructor(e,t,r){super(t),this.code=e,this.customData=r,this.name=m4,Object.setPrototypeOf(this,Ws.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,rd.prototype.create)}}class rd{constructor(e,t,r){this.service=e,this.serviceName=t,this.errors=r}create(e,...t){const r=t[0]||{},s=`${this.service}/${e}`,o=this.errors[e],l=o?g4(o,r):"Error",u=`${this.serviceName}: ${l} (${s}).`;return new Ws(s,u,r)}}function g4(n,e){return n.replace(y4,(t,r)=>{const s=e[r];return s!=null?String(s):`<${r}?>`})}const y4=/\{\$([^}]+)}/g;function v4(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}function ya(n,e){if(n===e)return!0;const t=Object.keys(n),r=Object.keys(e);for(const s of t){if(!r.includes(s))return!1;const o=n[s],l=e[s];if(EE(o)&&EE(l)){if(!ya(o,l))return!1}else if(o!==l)return!1}for(const s of r)if(!t.includes(s))return!1;return!0}function EE(n){return n!==null&&typeof n=="object"}function sd(n){const e=[];for(const[t,r]of Object.entries(n))Array.isArray(r)?r.forEach(s=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(s))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function su(n){const e={};return n.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[s,o]=r.split("=");e[decodeURIComponent(s)]=decodeURIComponent(o)}}),e}function iu(n){const e=n.indexOf("?");if(!e)return"";const t=n.indexOf("#",e);return n.substring(e,t>0?t:void 0)}function _4(n,e){const t=new w4(n,e);return t.subscribe.bind(t)}class w4{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,r){let s;if(e===void 0&&t===void 0&&r===void 0)throw new Error("Missing Observer.");x4(e,["next","error","complete"])?s=e:s={next:e,error:t,complete:r},s.next===void 0&&(s.next=Mg),s.error===void 0&&(s.error=Mg),s.complete===void 0&&(s.complete=Mg);const o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?s.error(this.finalError):s.complete()}catch{}}),this.observers.push(s),o}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function x4(n,e){if(typeof n!="object"||n===null)return!1;for(const t of e)if(t in n&&typeof n[t]=="function")return!0;return!1}function Mg(){}function Ft(n){return n&&n._delegate?n._delegate:n}class vo{constructor(e,t,r){this.name=e,this.instanceFactory=t,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const oa="[DEFAULT]";class E4{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const r=new r4;if(this.instancesDeferred.set(t,r),this.isInitialized(t)||this.shouldAutoInitialize())try{const s=this.getOrInitializeService({instanceIdentifier:t});s&&r.resolve(s)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){const t=this.normalizeInstanceIdentifier(e?.identifier),r=e?.optional??!1;if(this.isInitialized(t)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:t})}catch(s){if(r)return null;throw s}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(T4(e))try{this.getOrInitializeService({instanceIdentifier:oa})}catch{}for(const[t,r]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(t);try{const o=this.getOrInitializeService({instanceIdentifier:s});r.resolve(o)}catch{}}}}clearInstance(e=oa){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=oa){return this.instances.has(e)}getOptions(e=oa){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const s=this.getOrInitializeService({instanceIdentifier:r,options:t});for(const[o,l]of this.instancesDeferred.entries()){const u=this.normalizeInstanceIdentifier(o);r===u&&l.resolve(s)}return s}onInit(e,t){const r=this.normalizeInstanceIdentifier(t),s=this.onInitCallbacks.get(r)??new Set;s.add(e),this.onInitCallbacks.set(r,s);const o=this.instances.get(r);return o&&e(o,r),()=>{s.delete(e)}}invokeOnInitCallbacks(e,t){const r=this.onInitCallbacks.get(t);if(r)for(const s of r)try{s(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:b4(e),options:t}),this.instances.set(e,r),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=oa){return this.component?this.component.multipleInstances?e:oa:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function b4(n){return n===oa?void 0:n}function T4(n){return n.instantiationMode==="EAGER"}class S4{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new E4(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}var et;(function(n){n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT"})(et||(et={}));const C4={debug:et.DEBUG,verbose:et.VERBOSE,info:et.INFO,warn:et.WARN,error:et.ERROR,silent:et.SILENT},I4=et.INFO,R4={[et.DEBUG]:"log",[et.VERBOSE]:"log",[et.INFO]:"info",[et.WARN]:"warn",[et.ERROR]:"error"},N4=(n,e,...t)=>{if(e<n.logLevel)return;const r=new Date().toISOString(),s=R4[e];if(s)console[s](`[${r}]  ${n.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class qv{constructor(e){this.name=e,this._logLevel=I4,this._logHandler=N4,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in et))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?C4[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,et.DEBUG,...e),this._logHandler(this,et.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,et.VERBOSE,...e),this._logHandler(this,et.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,et.INFO,...e),this._logHandler(this,et.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,et.WARN,...e),this._logHandler(this,et.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,et.ERROR,...e),this._logHandler(this,et.ERROR,...e)}}const A4=(n,e)=>e.some(t=>n instanceof t);let bE,TE;function k4(){return bE||(bE=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function P4(){return TE||(TE=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const DS=new WeakMap,Iy=new WeakMap,OS=new WeakMap,Lg=new WeakMap,Gv=new WeakMap;function j4(n){const e=new Promise((t,r)=>{const s=()=>{n.removeEventListener("success",o),n.removeEventListener("error",l)},o=()=>{t(lo(n.result)),s()},l=()=>{r(n.error),s()};n.addEventListener("success",o),n.addEventListener("error",l)});return e.then(t=>{t instanceof IDBCursor&&DS.set(t,n)}).catch(()=>{}),Gv.set(e,n),e}function D4(n){if(Iy.has(n))return;const e=new Promise((t,r)=>{const s=()=>{n.removeEventListener("complete",o),n.removeEventListener("error",l),n.removeEventListener("abort",l)},o=()=>{t(),s()},l=()=>{r(n.error||new DOMException("AbortError","AbortError")),s()};n.addEventListener("complete",o),n.addEventListener("error",l),n.addEventListener("abort",l)});Iy.set(n,e)}let Ry={get(n,e,t){if(n instanceof IDBTransaction){if(e==="done")return Iy.get(n);if(e==="objectStoreNames")return n.objectStoreNames||OS.get(n);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return lo(n[e])},set(n,e,t){return n[e]=t,!0},has(n,e){return n instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in n}};function O4(n){Ry=n(Ry)}function M4(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){const r=n.call(Vg(this),e,...t);return OS.set(r,e.sort?e.sort():[e]),lo(r)}:P4().includes(n)?function(...e){return n.apply(Vg(this),e),lo(DS.get(this))}:function(...e){return lo(n.apply(Vg(this),e))}}function L4(n){return typeof n=="function"?M4(n):(n instanceof IDBTransaction&&D4(n),A4(n,k4())?new Proxy(n,Ry):n)}function lo(n){if(n instanceof IDBRequest)return j4(n);if(Lg.has(n))return Lg.get(n);const e=L4(n);return e!==n&&(Lg.set(n,e),Gv.set(e,n)),e}const Vg=n=>Gv.get(n);function V4(n,e,{blocked:t,upgrade:r,blocking:s,terminated:o}={}){const l=indexedDB.open(n,e),u=lo(l);return r&&l.addEventListener("upgradeneeded",f=>{r(lo(l.result),f.oldVersion,f.newVersion,lo(l.transaction),f)}),t&&l.addEventListener("blocked",f=>t(f.oldVersion,f.newVersion,f)),u.then(f=>{o&&f.addEventListener("close",()=>o()),s&&f.addEventListener("versionchange",m=>s(m.oldVersion,m.newVersion,m))}).catch(()=>{}),u}const F4=["get","getKey","getAll","getAllKeys","count"],U4=["put","add","delete","clear"],Fg=new Map;function SE(n,e){if(!(n instanceof IDBDatabase&&!(e in n)&&typeof e=="string"))return;if(Fg.get(e))return Fg.get(e);const t=e.replace(/FromIndex$/,""),r=e!==t,s=U4.includes(t);if(!(t in(r?IDBIndex:IDBObjectStore).prototype)||!(s||F4.includes(t)))return;const o=async function(l,...u){const f=this.transaction(l,s?"readwrite":"readonly");let m=f.store;return r&&(m=m.index(u.shift())),(await Promise.all([m[t](...u),s&&f.done]))[0]};return Fg.set(e,o),o}O4(n=>({...n,get:(e,t,r)=>SE(e,t)||n.get(e,t,r),has:(e,t)=>!!SE(e,t)||n.has(e,t)}));class $4{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(B4(t)){const r=t.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(t=>t).join(" ")}}function B4(n){return n.getComponent()?.type==="VERSION"}const Ny="@firebase/app",CE="0.14.7";const yi=new qv("@firebase/app"),z4="@firebase/app-compat",W4="@firebase/analytics-compat",H4="@firebase/analytics",q4="@firebase/app-check-compat",G4="@firebase/app-check",K4="@firebase/auth",Q4="@firebase/auth-compat",Y4="@firebase/database",X4="@firebase/data-connect",J4="@firebase/database-compat",Z4="@firebase/functions",eL="@firebase/functions-compat",tL="@firebase/installations",nL="@firebase/installations-compat",rL="@firebase/messaging",sL="@firebase/messaging-compat",iL="@firebase/performance",oL="@firebase/performance-compat",aL="@firebase/remote-config",lL="@firebase/remote-config-compat",cL="@firebase/storage",uL="@firebase/storage-compat",dL="@firebase/firestore",hL="@firebase/ai",fL="@firebase/firestore-compat",pL="firebase",mL="12.8.0";const Ay="[DEFAULT]",gL={[Ny]:"fire-core",[z4]:"fire-core-compat",[H4]:"fire-analytics",[W4]:"fire-analytics-compat",[G4]:"fire-app-check",[q4]:"fire-app-check-compat",[K4]:"fire-auth",[Q4]:"fire-auth-compat",[Y4]:"fire-rtdb",[X4]:"fire-data-connect",[J4]:"fire-rtdb-compat",[Z4]:"fire-fn",[eL]:"fire-fn-compat",[tL]:"fire-iid",[nL]:"fire-iid-compat",[rL]:"fire-fcm",[sL]:"fire-fcm-compat",[iL]:"fire-perf",[oL]:"fire-perf-compat",[aL]:"fire-rc",[lL]:"fire-rc-compat",[cL]:"fire-gcs",[uL]:"fire-gcs-compat",[dL]:"fire-fst",[fL]:"fire-fst-compat",[hL]:"fire-vertex","fire-js":"fire-js",[pL]:"fire-js-all"};const bf=new Map,yL=new Map,ky=new Map;function IE(n,e){try{n.container.addComponent(e)}catch(t){yi.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function va(n){const e=n.name;if(ky.has(e))return yi.debug(`There were multiple attempts to register component ${e}.`),!1;ky.set(e,n);for(const t of bf.values())IE(t,n);for(const t of yL.values())IE(t,n);return!0}function yp(n,e){const t=n.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),n.container.getProvider(e)}function pr(n){return n==null?!1:n.settings!==void 0}const vL={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},co=new rd("app","Firebase",vL);class _L{constructor(e,t,r){this._isDeleted=!1,this._options={...e},this._config={...t},this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new vo("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw co.create("app-deleted",{appName:this._name})}}const ka=mL;function MS(n,e={}){let t=n;typeof e!="object"&&(e={name:e});const r={name:Ay,automaticDataCollectionEnabled:!0,...e},s=r.name;if(typeof s!="string"||!s)throw co.create("bad-app-name",{appName:String(s)});if(t||(t=kS()),!t)throw co.create("no-options");const o=bf.get(s);if(o){if(ya(t,o.options)&&ya(r,o.config))return o;throw co.create("duplicate-app",{appName:s})}const l=new S4(s);for(const f of ky.values())l.addComponent(f);const u=new _L(t,r,l);return bf.set(s,u),u}function Kv(n=Ay){const e=bf.get(n);if(!e&&n===Ay&&kS())return MS();if(!e)throw co.create("no-app",{appName:n});return e}function Ps(n,e,t){let r=gL[n]??n;t&&(r+=`-${t}`);const s=r.match(/\s|\//),o=e.match(/\s|\//);if(s||o){const l=[`Unable to register library "${r}" with version "${e}":`];s&&l.push(`library name "${r}" contains illegal characters (whitespace or "/")`),s&&o&&l.push("and"),o&&l.push(`version name "${e}" contains illegal characters (whitespace or "/")`),yi.warn(l.join(" "));return}va(new vo(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}const wL="firebase-heartbeat-database",xL=1,ju="firebase-heartbeat-store";let Ug=null;function LS(){return Ug||(Ug=V4(wL,xL,{upgrade:(n,e)=>{switch(e){case 0:try{n.createObjectStore(ju)}catch(t){console.warn(t)}}}}).catch(n=>{throw co.create("idb-open",{originalErrorMessage:n.message})})),Ug}async function EL(n){try{const t=(await LS()).transaction(ju),r=await t.objectStore(ju).get(VS(n));return await t.done,r}catch(e){if(e instanceof Ws)yi.warn(e.message);else{const t=co.create("idb-get",{originalErrorMessage:e?.message});yi.warn(t.message)}}}async function RE(n,e){try{const r=(await LS()).transaction(ju,"readwrite");await r.objectStore(ju).put(e,VS(n)),await r.done}catch(t){if(t instanceof Ws)yi.warn(t.message);else{const r=co.create("idb-set",{originalErrorMessage:t?.message});yi.warn(r.message)}}}function VS(n){return`${n.name}!${n.options.appId}`}const bL=1024,TL=30;class SL{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new IL(t),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){try{const t=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=NE();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(s=>s.date===r))return;if(this._heartbeatsCache.heartbeats.push({date:r,agent:t}),this._heartbeatsCache.heartbeats.length>TL){const s=RL(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(s,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){yi.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=NE(),{heartbeatsToSend:t,unsentEntries:r}=CL(this._heartbeatsCache.heartbeats),s=Ef(JSON.stringify({version:2,heartbeats:t}));return this._heartbeatsCache.lastSentHeartbeatDate=e,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}catch(e){return yi.warn(e),""}}}function NE(){return new Date().toISOString().substring(0,10)}function CL(n,e=bL){const t=[];let r=n.slice();for(const s of n){const o=t.find(l=>l.agent===s.agent);if(o){if(o.dates.push(s.date),AE(t)>e){o.dates.pop();break}}else if(t.push({agent:s.agent,dates:[s.date]}),AE(t)>e){t.pop();break}r=r.slice(1)}return{heartbeatsToSend:t,unsentEntries:r}}class IL{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return f4()?p4().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const t=await EL(this.app);return t?.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return RE(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return RE(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}}function AE(n){return Ef(JSON.stringify({version:2,heartbeats:n})).length}function RL(n){if(n.length===0)return-1;let e=0,t=n[0].date;for(let r=1;r<n.length;r++)n[r].date<t&&(t=n[r].date,e=r);return e}function NL(n){va(new vo("platform-logger",e=>new $4(e),"PRIVATE")),va(new vo("heartbeat",e=>new SL(e),"PRIVATE")),Ps(Ny,CE,n),Ps(Ny,CE,"esm2020"),Ps("fire-js","")}NL("");var AL="firebase",kL="12.8.0";Ps(AL,kL,"app");function FS(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const PL=FS,US=new rd("auth","Firebase",FS());const Tf=new qv("@firebase/auth");function jL(n,...e){Tf.logLevel<=et.WARN&&Tf.warn(`Auth (${ka}): ${n}`,...e)}function Zh(n,...e){Tf.logLevel<=et.ERROR&&Tf.error(`Auth (${ka}): ${n}`,...e)}function Jr(n,...e){throw Qv(n,...e)}function js(n,...e){return Qv(n,...e)}function $S(n,e,t){const r={...PL(),[e]:t};return new rd("auth","Firebase",r).create(e,{appName:n.name})}function pi(n){return $S(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Qv(n,...e){if(typeof n!="string"){const t=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=n.name),n._errorFactory.create(t,...r)}return US.create(n,...e)}function Ue(n,e,...t){if(!n)throw Qv(e,...t)}function di(n){const e="INTERNAL ASSERTION FAILED: "+n;throw Zh(e),new Error(e)}function vi(n,e){n||di(e)}function Py(){return typeof self<"u"&&self.location?.href||""}function DL(){return kE()==="http:"||kE()==="https:"}function kE(){return typeof self<"u"&&self.location?.protocol||null}function OL(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(DL()||c4()||"connection"in navigator)?navigator.onLine:!0}function ML(){if(typeof navigator>"u")return null;const n=navigator;return n.languages&&n.languages[0]||n.language||null}class id{constructor(e,t){this.shortDelay=e,this.longDelay=t,vi(t>e,"Short delay should be less than long delay!"),this.isMobile=o4()||u4()}get(){return OL()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function Yv(n,e){vi(n.emulator,"Emulator should always be set here");const{url:t}=n.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}class BS{static initialize(e,t,r){this.fetchImpl=e,t&&(this.headersImpl=t),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;di("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;di("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;di("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const LL={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const VL=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],FL=new id(3e4,6e4);function Ro(n,e){return n.tenantId&&!e.tenantId?{...e,tenantId:n.tenantId}:e}async function No(n,e,t,r,s={}){return zS(n,s,async()=>{let o={},l={};r&&(e==="GET"?l=r:o={body:JSON.stringify(r)});const u=sd({key:n.config.apiKey,...l}).slice(1),f=await n._getAdditionalHeaders();f["Content-Type"]="application/json",n.languageCode&&(f["X-Firebase-Locale"]=n.languageCode);const m={method:e,headers:f,...o};return l4()||(m.referrerPolicy="no-referrer"),n.emulatorConfig&&Aa(n.emulatorConfig.host)&&(m.credentials="include"),BS.fetch()(await WS(n,n.config.apiHost,t,u),m)})}async function zS(n,e,t){n._canInitEmulator=!1;const r={...LL,...e};try{const s=new $L(n),o=await Promise.race([t(),s.promise]);s.clearNetworkTimeout();const l=await o.json();if("needConfirmation"in l)throw Lh(n,"account-exists-with-different-credential",l);if(o.ok&&!("errorMessage"in l))return l;{const u=o.ok?l.errorMessage:l.error.message,[f,m]=u.split(" : ");if(f==="FEDERATED_USER_ID_ALREADY_LINKED")throw Lh(n,"credential-already-in-use",l);if(f==="EMAIL_EXISTS")throw Lh(n,"email-already-in-use",l);if(f==="USER_DISABLED")throw Lh(n,"user-disabled",l);const g=r[f]||f.toLowerCase().replace(/[_\s]+/g,"-");if(m)throw $S(n,g,m);Jr(n,g)}}catch(s){if(s instanceof Ws)throw s;Jr(n,"network-request-failed",{message:String(s)})}}async function od(n,e,t,r,s={}){const o=await No(n,e,t,r,s);return"mfaPendingCredential"in o&&Jr(n,"multi-factor-auth-required",{_serverResponse:o}),o}async function WS(n,e,t,r){const s=`${e}${t}?${r}`,o=n,l=o.config.emulator?Yv(n.config,s):`${n.config.apiScheme}://${s}`;return VL.includes(t)&&(await o._persistenceManagerAvailable,o._getPersistenceType()==="COOKIE")?o._getPersistence()._getFinalTarget(l).toString():l}function UL(n){switch(n){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class $L{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,r)=>{this.timer=setTimeout(()=>r(js(this.auth,"network-request-failed")),FL.get())})}}function Lh(n,e,t){const r={appName:n.name};t.email&&(r.email=t.email),t.phoneNumber&&(r.phoneNumber=t.phoneNumber);const s=js(n,e,r);return s.customData._tokenResponse=t,s}function PE(n){return n!==void 0&&n.enterprise!==void 0}class BL{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return UL(t.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function zL(n,e){return No(n,"GET","/v2/recaptchaConfig",Ro(n,e))}async function WL(n,e){return No(n,"POST","/v1/accounts:delete",e)}async function Sf(n,e){return No(n,"POST","/v1/accounts:lookup",e)}function gu(n){if(n)try{const e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function HL(n,e=!1){const t=Ft(n),r=await t.getIdToken(e),s=Xv(r);Ue(s&&s.exp&&s.auth_time&&s.iat,t.auth,"internal-error");const o=typeof s.firebase=="object"?s.firebase:void 0,l=o?.sign_in_provider;return{claims:s,token:r,authTime:gu($g(s.auth_time)),issuedAtTime:gu($g(s.iat)),expirationTime:gu($g(s.exp)),signInProvider:l||null,signInSecondFactor:o?.sign_in_second_factor||null}}function $g(n){return Number(n)*1e3}function Xv(n){const[e,t,r]=n.split(".");if(e===void 0||t===void 0||r===void 0)return Zh("JWT malformed, contained fewer than 3 sections"),null;try{const s=RS(t);return s?JSON.parse(s):(Zh("Failed to decode base64 JWT payload"),null)}catch(s){return Zh("Caught error parsing JWT payload as JSON",s?.toString()),null}}function jE(n){const e=Xv(n);return Ue(e,"internal-error"),Ue(typeof e.exp<"u","internal-error"),Ue(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}async function Du(n,e,t=!1){if(t)return e;try{return await e}catch(r){throw r instanceof Ws&&qL(r)&&n.auth.currentUser===n&&await n.auth.signOut(),r}}function qL({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}class GL{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const t=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),t}else{this.errorBackoff=3e4;const r=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,r)}}schedule(e=!1){if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class jy{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=gu(this.lastLoginAt),this.creationTime=gu(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function Cf(n){const e=n.auth,t=await n.getIdToken(),r=await Du(n,Sf(e,{idToken:t}));Ue(r?.users.length,e,"internal-error");const s=r.users[0];n._notifyReloadListener(s);const o=s.providerUserInfo?.length?HS(s.providerUserInfo):[],l=QL(n.providerData,o),u=n.isAnonymous,f=!(n.email&&s.passwordHash)&&!l?.length,m=u?f:!1,g={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:l,metadata:new jy(s.createdAt,s.lastLoginAt),isAnonymous:m};Object.assign(n,g)}async function KL(n){const e=Ft(n);await Cf(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function QL(n,e){return[...n.filter(r=>!e.some(s=>s.providerId===r.providerId)),...e]}function HS(n){return n.map(({providerId:e,...t})=>({providerId:e,uid:t.rawId||"",displayName:t.displayName||null,email:t.email||null,phoneNumber:t.phoneNumber||null,photoURL:t.photoUrl||null}))}async function YL(n,e){const t=await zS(n,{},async()=>{const r=sd({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:s,apiKey:o}=n.config,l=await WS(n,s,"/v1/token",`key=${o}`),u=await n._getAdditionalHeaders();u["Content-Type"]="application/x-www-form-urlencoded";const f={method:"POST",headers:u,body:r};return n.emulatorConfig&&Aa(n.emulatorConfig.host)&&(f.credentials="include"),BS.fetch()(l,f)});return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}}async function XL(n,e){return No(n,"POST","/v2/accounts:revokeToken",Ro(n,e))}class Pl{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Ue(e.idToken,"internal-error"),Ue(typeof e.idToken<"u","internal-error"),Ue(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):jE(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){Ue(e.length!==0,"internal-error");const t=jE(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e,t=!1){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(Ue(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:r,refreshToken:s,expiresIn:o}=await YL(e,t);this.updateTokensAndExpiration(r,s,Number(o))}updateTokensAndExpiration(e,t,r){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,t){const{refreshToken:r,accessToken:s,expirationTime:o}=t,l=new Pl;return r&&(Ue(typeof r=="string","internal-error",{appName:e}),l.refreshToken=r),s&&(Ue(typeof s=="string","internal-error",{appName:e}),l.accessToken=s),o&&(Ue(typeof o=="number","internal-error",{appName:e}),l.expirationTime=o),l}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Pl,this.toJSON())}_performRefresh(){return di("not implemented")}}function Yi(n,e){Ue(typeof n=="string"||typeof n>"u","internal-error",{appName:e})}class Gr{constructor({uid:e,auth:t,stsTokenManager:r,...s}){this.providerId="firebase",this.proactiveRefresh=new GL(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=t,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new jy(s.createdAt||void 0,s.lastLoginAt||void 0)}async getIdToken(e){const t=await Du(this,this.stsTokenManager.getToken(this.auth,e));return Ue(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return HL(this,e)}reload(){return KL(this)}_assign(e){this!==e&&(Ue(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>({...t})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new Gr({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return t.metadata._copy(this.metadata),t}_onReload(e){Ue(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),t&&await Cf(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(pr(this.auth.app))return Promise.reject(pi(this.auth));const e=await this.getIdToken();return await Du(this,WL(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){const r=t.displayName??void 0,s=t.email??void 0,o=t.phoneNumber??void 0,l=t.photoURL??void 0,u=t.tenantId??void 0,f=t._redirectEventId??void 0,m=t.createdAt??void 0,g=t.lastLoginAt??void 0,{uid:v,emailVerified:E,isAnonymous:b,providerData:I,stsTokenManager:T}=t;Ue(v&&T,e,"internal-error");const C=Pl.fromJSON(this.name,T);Ue(typeof v=="string",e,"internal-error"),Yi(r,e.name),Yi(s,e.name),Ue(typeof E=="boolean",e,"internal-error"),Ue(typeof b=="boolean",e,"internal-error"),Yi(o,e.name),Yi(l,e.name),Yi(u,e.name),Yi(f,e.name),Yi(m,e.name),Yi(g,e.name);const M=new Gr({uid:v,auth:e,email:s,emailVerified:E,displayName:r,isAnonymous:b,photoURL:l,phoneNumber:o,tenantId:u,stsTokenManager:C,createdAt:m,lastLoginAt:g});return I&&Array.isArray(I)&&(M.providerData=I.map(D=>({...D}))),f&&(M._redirectEventId=f),M}static async _fromIdTokenResponse(e,t,r=!1){const s=new Pl;s.updateFromServerResponse(t);const o=new Gr({uid:t.localId,auth:e,stsTokenManager:s,isAnonymous:r});return await Cf(o),o}static async _fromGetAccountInfoResponse(e,t,r){const s=t.users[0];Ue(s.localId!==void 0,"internal-error");const o=s.providerUserInfo!==void 0?HS(s.providerUserInfo):[],l=!(s.email&&s.passwordHash)&&!o?.length,u=new Pl;u.updateFromIdToken(r);const f=new Gr({uid:s.localId,auth:e,stsTokenManager:u,isAnonymous:l}),m={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:o,metadata:new jy(s.createdAt,s.lastLoginAt),isAnonymous:!(s.email&&s.passwordHash)&&!o?.length};return Object.assign(f,m),f}}const DE=new Map;function hi(n){vi(n instanceof Function,"Expected a class definition");let e=DE.get(n);return e?(vi(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,DE.set(n,e),e)}class qS{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return t===void 0?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}qS.type="NONE";const OE=qS;function ef(n,e,t){return`firebase:${n}:${e}:${t}`}class jl{constructor(e,t,r){this.persistence=e,this.auth=t,this.userKey=r;const{config:s,name:o}=this.auth;this.fullUserKey=ef(this.userKey,s.apiKey,o),this.fullPersistenceKey=ef("persistence",s.apiKey,o),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const t=await Sf(this.auth,{idToken:e}).catch(()=>{});return t?Gr._fromGetAccountInfoResponse(this.auth,t,e):null}return Gr._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,r="authUser"){if(!t.length)return new jl(hi(OE),e,r);const s=(await Promise.all(t.map(async m=>{if(await m._isAvailable())return m}))).filter(m=>m);let o=s[0]||hi(OE);const l=ef(r,e.config.apiKey,e.name);let u=null;for(const m of t)try{const g=await m._get(l);if(g){let v;if(typeof g=="string"){const E=await Sf(e,{idToken:g}).catch(()=>{});if(!E)break;v=await Gr._fromGetAccountInfoResponse(e,E,g)}else v=Gr._fromJSON(e,g);m!==o&&(u=v),o=m;break}}catch{}const f=s.filter(m=>m._shouldAllowMigration);return!o._shouldAllowMigration||!f.length?new jl(o,e,r):(o=f[0],u&&await o._set(l,u.toJSON()),await Promise.all(t.map(async m=>{if(m!==o)try{await m._remove(l)}catch{}})),new jl(o,e,r))}}function ME(n){const e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(YS(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(GS(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(JS(e))return"Blackberry";if(ZS(e))return"Webos";if(KS(e))return"Safari";if((e.includes("chrome/")||QS(e))&&!e.includes("edge/"))return"Chrome";if(XS(e))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=n.match(t);if(r?.length===2)return r[1]}return"Other"}function GS(n=Dn()){return/firefox\//i.test(n)}function KS(n=Dn()){const e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function QS(n=Dn()){return/crios\//i.test(n)}function YS(n=Dn()){return/iemobile/i.test(n)}function XS(n=Dn()){return/android/i.test(n)}function JS(n=Dn()){return/blackberry/i.test(n)}function ZS(n=Dn()){return/webos/i.test(n)}function Jv(n=Dn()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function JL(n=Dn()){return Jv(n)&&!!window.navigator?.standalone}function ZL(){return d4()&&document.documentMode===10}function eC(n=Dn()){return Jv(n)||XS(n)||ZS(n)||JS(n)||/windows phone/i.test(n)||YS(n)}function tC(n,e=[]){let t;switch(n){case"Browser":t=ME(Dn());break;case"Worker":t=`${ME(Dn())}-${n}`;break;default:t=n}const r=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${ka}/${r}`}class eV{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const r=o=>new Promise((l,u)=>{try{const f=e(o);l(f)}catch(f){u(f)}});r.onAbort=t,this.queue.push(r);const s=this.queue.length-1;return()=>{this.queue[s]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const r of this.queue)await r(e),r.onAbort&&t.push(r.onAbort)}catch(r){t.reverse();for(const s of t)try{s()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}}}async function tV(n,e={}){return No(n,"GET","/v2/passwordPolicy",Ro(n,e))}const nV=6;class rV{constructor(e){const t=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=t.minPasswordLength??nV,t.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=t.maxPasswordLength),t.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=t.containsLowercaseCharacter),t.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=t.containsUppercaseCharacter),t.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=t.containsNumericCharacter),t.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=t.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const t={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,t),this.validatePasswordCharacterOptions(e,t),t.isValid&&(t.isValid=t.meetsMinPasswordLength??!0),t.isValid&&(t.isValid=t.meetsMaxPasswordLength??!0),t.isValid&&(t.isValid=t.containsLowercaseLetter??!0),t.isValid&&(t.isValid=t.containsUppercaseLetter??!0),t.isValid&&(t.isValid=t.containsNumericCharacter??!0),t.isValid&&(t.isValid=t.containsNonAlphanumericCharacter??!0),t}validatePasswordLengthOptions(e,t){const r=this.customStrengthOptions.minPasswordLength,s=this.customStrengthOptions.maxPasswordLength;r&&(t.meetsMinPasswordLength=e.length>=r),s&&(t.meetsMaxPasswordLength=e.length<=s)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let r;for(let s=0;s<e.length;s++)r=e.charAt(s),this.updatePasswordCharacterOptionsStatuses(t,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,t,r,s,o){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=s)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=o))}}class sV{constructor(e,t,r,s){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=r,this.config=s,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new LE(this),this.idTokenSubscription=new LE(this),this.beforeStateQueue=new eV(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=US,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=s.sdkClientVersion,this._persistenceManagerAvailable=new Promise(o=>this._resolvePersistenceManagerAvailable=o)}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=hi(t)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await jl.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(t),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const t=await Sf(this,{idToken:e}),r=await Gr._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(r)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(pr(this.app)){const o=this.app.settings.authIdToken;return o?new Promise(l=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(l,l))}):this.directlySetCurrentUser(null)}const t=await this.assertedPersistence.getCurrentUser();let r=t,s=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=this.redirectUser?._redirectEventId,l=r?._redirectEventId,u=await this.tryRedirectSignIn(e);(!o||o===l)&&u?.user&&(r=u.user,s=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(s)try{await this.beforeStateQueue.runMiddleware(r)}catch(o){r=t,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return Ue(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await Cf(e)}catch(t){if(t?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=ML()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(pr(this.app))return Promise.reject(pi(this));const t=e?Ft(e):null;return t&&Ue(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&Ue(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return pr(this.app)?Promise.reject(pi(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return pr(this.app)?Promise.reject(pi(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(hi(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await tV(this),t=new rV(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new rd("auth","Firebase",e())}onAuthStateChanged(e,t,r){return this.registerStateListener(this.authStateSubscription,e,t,r)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,r){return this.registerStateListener(this.idTokenSubscription,e,t,r)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(r.tenantId=this.tenantId),await XL(this,r)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,t){const r=await this.getOrInitRedirectPersistenceManager(t);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&hi(e)||this._popupRedirectResolver;Ue(t,this,"argument-error"),this.redirectPersistenceManager=await jl.create(this,[hi(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,r,s){if(this._deleted)return()=>{};const o=typeof t=="function"?t:t.next.bind(t);let l=!1;const u=this._isInitialized?Promise.resolve():this._initializationPromise;if(Ue(u,this,"internal-error"),u.then(()=>{l||o(this.currentUser)}),typeof t=="function"){const f=e.addObserver(t,r,s);return()=>{l=!0,f()}}else{const f=e.addObserver(t);return()=>{l=!0,f()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Ue(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=tC(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const t=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();t&&(e["X-Firebase-Client"]=t);const r=await this._getAppCheckToken();return r&&(e["X-Firebase-AppCheck"]=r),e}async _getAppCheckToken(){if(pr(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&jL(`Error while retrieving App Check token: ${e.error}`),e?.token}}function Pa(n){return Ft(n)}class LE{constructor(e){this.auth=e,this.observer=null,this.addObserver=_4(t=>this.observer=t)}get next(){return Ue(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let vp={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function iV(n){vp=n}function nC(n){return vp.loadJS(n)}function oV(){return vp.recaptchaEnterpriseScript}function aV(){return vp.gapiScript}function lV(n){return`__${n}${Math.floor(Math.random()*1e6)}`}class cV{constructor(){this.enterprise=new uV}ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}class uV{ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}const dV="recaptcha-enterprise",rC="NO_RECAPTCHA";class hV{constructor(e){this.type=dV,this.auth=Pa(e)}async verify(e="verify",t=!1){async function r(o){if(!t){if(o.tenantId==null&&o._agentRecaptchaConfig!=null)return o._agentRecaptchaConfig.siteKey;if(o.tenantId!=null&&o._tenantRecaptchaConfigs[o.tenantId]!==void 0)return o._tenantRecaptchaConfigs[o.tenantId].siteKey}return new Promise(async(l,u)=>{zL(o,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(f=>{if(f.recaptchaKey===void 0)u(new Error("recaptcha Enterprise site key undefined"));else{const m=new BL(f);return o.tenantId==null?o._agentRecaptchaConfig=m:o._tenantRecaptchaConfigs[o.tenantId]=m,l(m.siteKey)}}).catch(f=>{u(f)})})}function s(o,l,u){const f=window.grecaptcha;PE(f)?f.enterprise.ready(()=>{f.enterprise.execute(o,{action:e}).then(m=>{l(m)}).catch(()=>{l(rC)})}):u(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new cV().execute("siteKey",{action:"verify"}):new Promise((o,l)=>{r(this.auth).then(u=>{if(!t&&PE(window.grecaptcha))s(u,o,l);else{if(typeof window>"u"){l(new Error("RecaptchaVerifier is only supported in browser"));return}let f=oV();f.length!==0&&(f+=u),nC(f).then(()=>{s(u,o,l)}).catch(m=>{l(m)})}}).catch(u=>{l(u)})})}}async function VE(n,e,t,r=!1,s=!1){const o=new hV(n);let l;if(s)l=rC;else try{l=await o.verify(t)}catch{l=await o.verify(t,!0)}const u={...e};if(t==="mfaSmsEnrollment"||t==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in u){const f=u.phoneEnrollmentInfo.phoneNumber,m=u.phoneEnrollmentInfo.recaptchaToken;Object.assign(u,{phoneEnrollmentInfo:{phoneNumber:f,recaptchaToken:m,captchaResponse:l,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in u){const f=u.phoneSignInInfo.recaptchaToken;Object.assign(u,{phoneSignInInfo:{recaptchaToken:f,captchaResponse:l,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return u}return r?Object.assign(u,{captchaResp:l}):Object.assign(u,{captchaResponse:l}),Object.assign(u,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(u,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),u}async function Dy(n,e,t,r,s){if(n._getRecaptchaConfig()?.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const o=await VE(n,e,t,t==="getOobCode");return r(n,o)}else return r(n,e).catch(async o=>{if(o.code==="auth/missing-recaptcha-token"){console.log(`${t} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const l=await VE(n,e,t,t==="getOobCode");return r(n,l)}else return Promise.reject(o)})}function fV(n,e){const t=yp(n,"auth");if(t.isInitialized()){const s=t.getImmediate(),o=t.getOptions();if(ya(o,e??{}))return s;Jr(s,"already-initialized")}return t.initialize({options:e})}function pV(n,e){const t=e?.persistence||[],r=(Array.isArray(t)?t:[t]).map(hi);e?.errorMap&&n._updateErrorMap(e.errorMap),n._initializeWithPersistence(r,e?.popupRedirectResolver)}function mV(n,e,t){const r=Pa(n);Ue(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const s=!1,o=sC(e),{host:l,port:u}=gV(e),f=u===null?"":`:${u}`,m={url:`${o}//${l}${f}/`},g=Object.freeze({host:l,port:u,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:s})});if(!r._canInitEmulator){Ue(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),Ue(ya(m,r.config.emulator)&&ya(g,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=m,r.emulatorConfig=g,r.settings.appVerificationDisabledForTesting=!0,Aa(l)?(Wv(`${o}//${l}${f}`),Hv("Auth",!0)):yV()}function sC(n){const e=n.indexOf(":");return e<0?"":n.substr(0,e+1)}function gV(n){const e=sC(n),t=/(\/\/)?([^?#/]+)/.exec(n.substr(e.length));if(!t)return{host:"",port:null};const r=t[2].split("@").pop()||"",s=/^(\[[^\]]+\])(:|$)/.exec(r);if(s){const o=s[1];return{host:o,port:FE(r.substr(o.length+1))}}else{const[o,l]=r.split(":");return{host:o,port:FE(l)}}}function FE(n){if(!n)return null;const e=Number(n);return isNaN(e)?null:e}function yV(){function n(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",n):n())}class Zv{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return di("not implemented")}_getIdTokenResponse(e){return di("not implemented")}_linkToIdToken(e,t){return di("not implemented")}_getReauthenticationResolver(e){return di("not implemented")}}async function vV(n,e){return No(n,"POST","/v1/accounts:signUp",e)}async function _V(n,e){return od(n,"POST","/v1/accounts:signInWithPassword",Ro(n,e))}async function wV(n,e){return od(n,"POST","/v1/accounts:signInWithEmailLink",Ro(n,e))}async function xV(n,e){return od(n,"POST","/v1/accounts:signInWithEmailLink",Ro(n,e))}class Ou extends Zv{constructor(e,t,r,s=null){super("password",r),this._email=e,this._password=t,this._tenantId=s}static _fromEmailAndPassword(e,t){return new Ou(e,t,"password")}static _fromEmailAndCode(e,t,r=null){return new Ou(e,t,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e;if(t?.email&&t?.password){if(t.signInMethod==="password")return this._fromEmailAndPassword(t.email,t.password);if(t.signInMethod==="emailLink")return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const t={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Dy(e,t,"signInWithPassword",_V);case"emailLink":return wV(e,{email:this._email,oobCode:this._password});default:Jr(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":const r={idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Dy(e,r,"signUpPassword",vV);case"emailLink":return xV(e,{idToken:t,email:this._email,oobCode:this._password});default:Jr(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}async function Dl(n,e){return od(n,"POST","/v1/accounts:signInWithIdp",Ro(n,e))}const EV="http://localhost";class _a extends Zv{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new _a(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):Jr("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:s,...o}=t;if(!r||!s)return null;const l=new _a(r,s);return l.idToken=o.idToken||void 0,l.accessToken=o.accessToken||void 0,l.secret=o.secret,l.nonce=o.nonce,l.pendingToken=o.pendingToken||null,l}_getIdTokenResponse(e){const t=this.buildRequest();return Dl(e,t)}_linkToIdToken(e,t){const r=this.buildRequest();return r.idToken=t,Dl(e,r)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,Dl(e,t)}buildRequest(){const e={requestUri:EV,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=sd(t)}return e}}function bV(n){switch(n){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function TV(n){const e=su(iu(n)).link,t=e?su(iu(e)).deep_link_id:null,r=su(iu(n)).deep_link_id;return(r?su(iu(r)).link:null)||r||t||e||n}class e_{constructor(e){const t=su(iu(e)),r=t.apiKey??null,s=t.oobCode??null,o=bV(t.mode??null);Ue(r&&s&&o,"argument-error"),this.apiKey=r,this.operation=o,this.code=s,this.continueUrl=t.continueUrl??null,this.languageCode=t.lang??null,this.tenantId=t.tenantId??null}static parseLink(e){const t=TV(e);try{return new e_(t)}catch{return null}}}class sc{constructor(){this.providerId=sc.PROVIDER_ID}static credential(e,t){return Ou._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const r=e_.parseLink(t);return Ue(r,"argument-error"),Ou._fromEmailAndCode(e,r.code,r.tenantId)}}sc.PROVIDER_ID="password";sc.EMAIL_PASSWORD_SIGN_IN_METHOD="password";sc.EMAIL_LINK_SIGN_IN_METHOD="emailLink";class iC{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class ad extends iC{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class Zi extends ad{constructor(){super("facebook.com")}static credential(e){return _a._fromParams({providerId:Zi.PROVIDER_ID,signInMethod:Zi.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Zi.credentialFromTaggedObject(e)}static credentialFromError(e){return Zi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Zi.credential(e.oauthAccessToken)}catch{return null}}}Zi.FACEBOOK_SIGN_IN_METHOD="facebook.com";Zi.PROVIDER_ID="facebook.com";class eo extends ad{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return _a._fromParams({providerId:eo.PROVIDER_ID,signInMethod:eo.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return eo.credentialFromTaggedObject(e)}static credentialFromError(e){return eo.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:r}=e;if(!t&&!r)return null;try{return eo.credential(t,r)}catch{return null}}}eo.GOOGLE_SIGN_IN_METHOD="google.com";eo.PROVIDER_ID="google.com";class to extends ad{constructor(){super("github.com")}static credential(e){return _a._fromParams({providerId:to.PROVIDER_ID,signInMethod:to.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return to.credentialFromTaggedObject(e)}static credentialFromError(e){return to.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return to.credential(e.oauthAccessToken)}catch{return null}}}to.GITHUB_SIGN_IN_METHOD="github.com";to.PROVIDER_ID="github.com";class no extends ad{constructor(){super("twitter.com")}static credential(e,t){return _a._fromParams({providerId:no.PROVIDER_ID,signInMethod:no.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return no.credentialFromTaggedObject(e)}static credentialFromError(e){return no.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:t,oauthTokenSecret:r}=e;if(!t||!r)return null;try{return no.credential(t,r)}catch{return null}}}no.TWITTER_SIGN_IN_METHOD="twitter.com";no.PROVIDER_ID="twitter.com";async function SV(n,e){return od(n,"POST","/v1/accounts:signUp",Ro(n,e))}class wa{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,r,s=!1){const o=await Gr._fromIdTokenResponse(e,r,s),l=UE(r);return new wa({user:o,providerId:l,_tokenResponse:r,operationType:t})}static async _forOperation(e,t,r){await e._updateTokensIfNecessary(r,!0);const s=UE(r);return new wa({user:e,providerId:s,_tokenResponse:r,operationType:t})}}function UE(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}class If extends Ws{constructor(e,t,r,s){super(t.code,t.message),this.operationType=r,this.user=s,Object.setPrototypeOf(this,If.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:t.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,t,r,s){return new If(e,t,r,s)}}function oC(n,e,t,r){return(e==="reauthenticate"?t._getReauthenticationResolver(n):t._getIdTokenResponse(n)).catch(o=>{throw o.code==="auth/multi-factor-auth-required"?If._fromErrorAndOperation(n,o,e,r):o})}async function CV(n,e,t=!1){const r=await Du(n,e._linkToIdToken(n.auth,await n.getIdToken()),t);return wa._forOperation(n,"link",r)}async function IV(n,e,t=!1){const{auth:r}=n;if(pr(r.app))return Promise.reject(pi(r));const s="reauthenticate";try{const o=await Du(n,oC(r,s,e,n),t);Ue(o.idToken,r,"internal-error");const l=Xv(o.idToken);Ue(l,r,"internal-error");const{sub:u}=l;return Ue(n.uid===u,r,"user-mismatch"),wa._forOperation(n,s,o)}catch(o){throw o?.code==="auth/user-not-found"&&Jr(r,"user-mismatch"),o}}async function aC(n,e,t=!1){if(pr(n.app))return Promise.reject(pi(n));const r="signIn",s=await oC(n,r,e),o=await wa._fromIdTokenResponse(n,r,s);return t||await n._updateCurrentUser(o.user),o}async function RV(n,e){return aC(Pa(n),e)}async function lC(n){const e=Pa(n);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function cC(n,e,t){if(pr(n.app))return Promise.reject(pi(n));const r=Pa(n),l=await Dy(r,{returnSecureToken:!0,email:e,password:t,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",SV).catch(f=>{throw f.code==="auth/password-does-not-meet-requirements"&&lC(n),f}),u=await wa._fromIdTokenResponse(r,"signIn",l);return await r._updateCurrentUser(u.user),u}function NV(n,e,t){return pr(n.app)?Promise.reject(pi(n)):RV(Ft(n),sc.credential(e,t)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&lC(n),r})}function AV(n,e,t,r){return Ft(n).onIdTokenChanged(e,t,r)}function kV(n,e,t){return Ft(n).beforeAuthStateChanged(e,t)}function _p(n,e,t,r){return Ft(n).onAuthStateChanged(e,t,r)}function PV(n){return Ft(n).signOut()}const Rf="__sak";class uC{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(Rf,"1"),this.storage.removeItem(Rf),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}const jV=1e3,DV=10;class dC extends uC{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=eC(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const r=this.storage.getItem(t),s=this.localCache[t];r!==s&&e(t,s,r)}}onStorageEvent(e,t=!1){if(!e.key){this.forAllChangedKeys((l,u,f)=>{this.notifyListeners(l,f)});return}const r=e.key;t?this.detachListener():this.stopPolling();const s=()=>{const l=this.storage.getItem(r);!t&&this.localCache[r]===l||this.notifyListeners(r,l)},o=this.storage.getItem(r);ZL()&&o!==e.newValue&&e.newValue!==e.oldValue?setTimeout(s,DV):s()}notifyListeners(e,t){this.localCache[e]=t;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(t&&JSON.parse(t))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:r}),!0)})},jV)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}dC.type="LOCAL";const OV=dC;class hC extends uC{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}hC.type="SESSION";const fC=hC;function MV(n){return Promise.all(n.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}class wp{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(s=>s.isListeningto(e));if(t)return t;const r=new wp(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:r,eventType:s,data:o}=t.data,l=this.handlersMap[s];if(!l?.size)return;t.ports[0].postMessage({status:"ack",eventId:r,eventType:s});const u=Array.from(l).map(async m=>m(t.origin,o)),f=await MV(u);t.ports[0].postMessage({status:"done",eventId:r,eventType:s,response:f})}_subscribe(e,t){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),(!t||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}wp.receivers=[];function t_(n="",e=10){let t="";for(let r=0;r<e;r++)t+=Math.floor(Math.random()*10);return n+t}class LV{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,r=50){const s=typeof MessageChannel<"u"?new MessageChannel:null;if(!s)throw new Error("connection_unavailable");let o,l;return new Promise((u,f)=>{const m=t_("",20);s.port1.start();const g=setTimeout(()=>{f(new Error("unsupported_event"))},r);l={messageChannel:s,onMessage(v){const E=v;if(E.data.eventId===m)switch(E.data.status){case"ack":clearTimeout(g),o=setTimeout(()=>{f(new Error("timeout"))},3e3);break;case"done":clearTimeout(o),u(E.data.response);break;default:clearTimeout(g),clearTimeout(o),f(new Error("invalid_response"));break}}},this.handlers.add(l),s.port1.addEventListener("message",l.onMessage),this.target.postMessage({eventType:e,eventId:m,data:t},[s.port2])}).finally(()=>{l&&this.removeMessageHandler(l)})}}function Ds(){return window}function VV(n){Ds().location.href=n}function pC(){return typeof Ds().WorkerGlobalScope<"u"&&typeof Ds().importScripts=="function"}async function FV(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function UV(){return navigator?.serviceWorker?.controller||null}function $V(){return pC()?self:null}const mC="firebaseLocalStorageDb",BV=1,Nf="firebaseLocalStorage",gC="fbase_key";class ld{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function xp(n,e){return n.transaction([Nf],e?"readwrite":"readonly").objectStore(Nf)}function zV(){const n=indexedDB.deleteDatabase(mC);return new ld(n).toPromise()}function Oy(){const n=indexedDB.open(mC,BV);return new Promise((e,t)=>{n.addEventListener("error",()=>{t(n.error)}),n.addEventListener("upgradeneeded",()=>{const r=n.result;try{r.createObjectStore(Nf,{keyPath:gC})}catch(s){t(s)}}),n.addEventListener("success",async()=>{const r=n.result;r.objectStoreNames.contains(Nf)?e(r):(r.close(),await zV(),e(await Oy()))})})}async function $E(n,e,t){const r=xp(n,!0).put({[gC]:e,value:t});return new ld(r).toPromise()}async function WV(n,e){const t=xp(n,!1).get(e),r=await new ld(t).toPromise();return r===void 0?null:r.value}function BE(n,e){const t=xp(n,!0).delete(e);return new ld(t).toPromise()}const HV=800,qV=3;class yC{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Oy(),this.db)}async _withRetries(e){let t=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(t++>qV)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return pC()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=wp._getInstance($V()),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await FV(),!this.activeServiceWorker)return;this.sender=new LV(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||UV()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Oy();return await $E(e,Rf,"1"),await BE(e,Rf),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(r=>$E(r,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(r=>WV(r,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>BE(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(s=>{const o=xp(s,!1).getAll();return new ld(o).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const t=[],r=new Set;if(e.length!==0)for(const{fbase_key:s,value:o}of e)r.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(o)&&(this.notifyListeners(s,o),t.push(s));for(const s of Object.keys(this.localCache))this.localCache[s]&&!r.has(s)&&(this.notifyListeners(s,null),t.push(s));return t}notifyListeners(e,t){this.localCache[e]=t;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),HV)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}yC.type="LOCAL";const GV=yC;new id(3e4,6e4);function KV(n,e){return e?hi(e):(Ue(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}class n_ extends Zv{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Dl(e,this._buildIdpRequest())}_linkToIdToken(e,t){return Dl(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return Dl(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function QV(n){return aC(n.auth,new n_(n),n.bypassAuthState)}function YV(n){const{auth:e,user:t}=n;return Ue(t,e,"internal-error"),IV(t,new n_(n),n.bypassAuthState)}async function XV(n){const{auth:e,user:t}=n;return Ue(t,e,"internal-error"),CV(t,new n_(n),n.bypassAuthState)}class vC{constructor(e,t,r,s,o=!1){this.auth=e,this.resolver=r,this.user=s,this.bypassAuthState=o,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:r,postBody:s,tenantId:o,error:l,type:u}=e;if(l){this.reject(l);return}const f={auth:this.auth,requestUri:t,sessionId:r,tenantId:o||void 0,postBody:s||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(u)(f))}catch(m){this.reject(m)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return QV;case"linkViaPopup":case"linkViaRedirect":return XV;case"reauthViaPopup":case"reauthViaRedirect":return YV;default:Jr(this.auth,"internal-error")}}resolve(e){vi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){vi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const JV=new id(2e3,1e4);class Rl extends vC{constructor(e,t,r,s,o){super(e,t,s,o),this.provider=r,this.authWindow=null,this.pollId=null,Rl.currentPopupAction&&Rl.currentPopupAction.cancel(),Rl.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Ue(e,this.auth,"internal-error"),e}async onExecution(){vi(this.filter.length===1,"Popup operations only handle one event");const e=t_();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(t=>{this.reject(t)}),this.resolver._isIframeWebStorageSupported(this.auth,t=>{t||this.reject(js(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(js(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Rl.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(js(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,JV.get())};e()}}Rl.currentPopupAction=null;const ZV="pendingRedirect",tf=new Map;class eF extends vC{constructor(e,t,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,r),this.eventId=null}async execute(){let e=tf.get(this.auth._key());if(!e){try{const r=await tF(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(t){e=()=>Promise.reject(t)}tf.set(this.auth._key(),e)}return this.bypassAuthState||tf.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function tF(n,e){const t=sF(e),r=rF(n);if(!await r._isAvailable())return!1;const s=await r._get(t)==="true";return await r._remove(t),s}function nF(n,e){tf.set(n._key(),e)}function rF(n){return hi(n._redirectPersistence)}function sF(n){return ef(ZV,n.config.apiKey,n.name)}async function iF(n,e,t=!1){if(pr(n.app))return Promise.reject(pi(n));const r=Pa(n),s=KV(r,e),l=await new eF(r,s,t).execute();return l&&!t&&(delete l.user._redirectEventId,await r._persistUserIfCurrent(l.user),await r._setRedirectUser(null,e)),l}const oF=600*1e3;class aF{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(t=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!lF(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){if(e.error&&!_C(e)){const r=e.error.code?.split("auth/")[1]||"internal-error";t.onError(js(this.auth,r))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const r=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=oF&&this.cachedEventUids.clear(),this.cachedEventUids.has(zE(e))}saveEventToCache(e){this.cachedEventUids.add(zE(e)),this.lastProcessedEventTime=Date.now()}}function zE(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(e=>e).join("-")}function _C({type:n,error:e}){return n==="unknown"&&e?.code==="auth/no-auth-event"}function lF(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return _C(n);default:return!1}}async function cF(n,e={}){return No(n,"GET","/v1/projects",e)}const uF=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,dF=/^https?/;async function hF(n){if(n.config.emulator)return;const{authorizedDomains:e}=await cF(n);for(const t of e)try{if(fF(t))return}catch{}Jr(n,"unauthorized-domain")}function fF(n){const e=Py(),{protocol:t,hostname:r}=new URL(e);if(n.startsWith("chrome-extension://")){const l=new URL(n);return l.hostname===""&&r===""?t==="chrome-extension:"&&n.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&l.hostname===r}if(!dF.test(t))return!1;if(uF.test(n))return r===n;const s=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+s+"|"+s+")$","i").test(r)}const pF=new id(3e4,6e4);function WE(){const n=Ds().___jsl;if(n?.H){for(const e of Object.keys(n.H))if(n.H[e].r=n.H[e].r||[],n.H[e].L=n.H[e].L||[],n.H[e].r=[...n.H[e].L],n.CP)for(let t=0;t<n.CP.length;t++)n.CP[t]=null}}function mF(n){return new Promise((e,t)=>{function r(){WE(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{WE(),t(js(n,"network-request-failed"))},timeout:pF.get()})}if(Ds().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(Ds().gapi?.load)r();else{const s=lV("iframefcb");return Ds()[s]=()=>{gapi.load?r():t(js(n,"network-request-failed"))},nC(`${aV()}?onload=${s}`).catch(o=>t(o))}}).catch(e=>{throw nf=null,e})}let nf=null;function gF(n){return nf=nf||mF(n),nf}const yF=new id(5e3,15e3),vF="__/auth/iframe",_F="emulator/auth/iframe",wF={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},xF=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function EF(n){const e=n.config;Ue(e.authDomain,n,"auth-domain-config-required");const t=e.emulator?Yv(e,_F):`https://${n.config.authDomain}/${vF}`,r={apiKey:e.apiKey,appName:n.name,v:ka},s=xF.get(n.config.apiHost);s&&(r.eid=s);const o=n._getFrameworks();return o.length&&(r.fw=o.join(",")),`${t}?${sd(r).slice(1)}`}async function bF(n){const e=await gF(n),t=Ds().gapi;return Ue(t,n,"internal-error"),e.open({where:document.body,url:EF(n),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:wF,dontclear:!0},r=>new Promise(async(s,o)=>{await r.restyle({setHideOnLeave:!1});const l=js(n,"network-request-failed"),u=Ds().setTimeout(()=>{o(l)},yF.get());function f(){Ds().clearTimeout(u),s(r)}r.ping(f).then(f,()=>{o(l)})}))}const TF={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},SF=500,CF=600,IF="_blank",RF="http://localhost";class HE{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function NF(n,e,t,r=SF,s=CF){const o=Math.max((window.screen.availHeight-s)/2,0).toString(),l=Math.max((window.screen.availWidth-r)/2,0).toString();let u="";const f={...TF,width:r.toString(),height:s.toString(),top:o,left:l},m=Dn().toLowerCase();t&&(u=QS(m)?IF:t),GS(m)&&(e=e||RF,f.scrollbars="yes");const g=Object.entries(f).reduce((E,[b,I])=>`${E}${b}=${I},`,"");if(JL(m)&&u!=="_self")return AF(e||"",u),new HE(null);const v=window.open(e||"",u,g);Ue(v,n,"popup-blocked");try{v.focus()}catch{}return new HE(v)}function AF(n,e){const t=document.createElement("a");t.href=n,t.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(r)}const kF="__/auth/handler",PF="emulator/auth/handler",jF=encodeURIComponent("fac");async function qE(n,e,t,r,s,o){Ue(n.config.authDomain,n,"auth-domain-config-required"),Ue(n.config.apiKey,n,"invalid-api-key");const l={apiKey:n.config.apiKey,appName:n.name,authType:t,redirectUrl:r,v:ka,eventId:s};if(e instanceof iC){e.setDefaultLanguage(n.languageCode),l.providerId=e.providerId||"",v4(e.getCustomParameters())||(l.customParameters=JSON.stringify(e.getCustomParameters()));for(const[g,v]of Object.entries({}))l[g]=v}if(e instanceof ad){const g=e.getScopes().filter(v=>v!=="");g.length>0&&(l.scopes=g.join(","))}n.tenantId&&(l.tid=n.tenantId);const u=l;for(const g of Object.keys(u))u[g]===void 0&&delete u[g];const f=await n._getAppCheckToken(),m=f?`#${jF}=${encodeURIComponent(f)}`:"";return`${DF(n)}?${sd(u).slice(1)}${m}`}function DF({config:n}){return n.emulator?Yv(n,PF):`https://${n.authDomain}/${kF}`}const Bg="webStorageSupport";class OF{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=fC,this._completeRedirectFn=iF,this._overrideRedirectResult=nF}async _openPopup(e,t,r,s){vi(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const o=await qE(e,t,r,Py(),s);return NF(e,o,t_())}async _openRedirect(e,t,r,s){await this._originValidation(e);const o=await qE(e,t,r,Py(),s);return VV(o),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:s,promise:o}=this.eventManagers[t];return s?Promise.resolve(s):(vi(o,"If manager is not set, promise should be"),o)}const r=this.initAndGetManager(e);return this.eventManagers[t]={promise:r},r.catch(()=>{delete this.eventManagers[t]}),r}async initAndGetManager(e){const t=await bF(e),r=new aF(e);return t.register("authEvent",s=>(Ue(s?.authEvent,e,"invalid-auth-event"),{status:r.onEvent(s.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=t,r}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(Bg,{type:Bg},s=>{const o=s?.[0]?.[Bg];o!==void 0&&t(!!o),Jr(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=hF(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return eC()||KS()||Jv()}}const MF=OF;var GE="@firebase/auth",KE="1.12.0";class LF{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){Ue(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function VF(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function FF(n){va(new vo("auth",(e,{options:t})=>{const r=e.getProvider("app").getImmediate(),s=e.getProvider("heartbeat"),o=e.getProvider("app-check-internal"),{apiKey:l,authDomain:u}=r.options;Ue(l&&!l.includes(":"),"invalid-api-key",{appName:r.name});const f={apiKey:l,authDomain:u,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:tC(n)},m=new sV(r,s,o,f);return pV(m,t),m},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,r)=>{e.getProvider("auth-internal").initialize()})),va(new vo("auth-internal",e=>{const t=Pa(e.getProvider("auth").getImmediate());return(r=>new LF(r))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),Ps(GE,KE,VF(n)),Ps(GE,KE,"esm2020")}const UF=300,$F=PS("authIdTokenMaxAge")||UF;let QE=null;const BF=n=>async e=>{const t=e&&await e.getIdTokenResult(),r=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(r&&r>$F)return;const s=t?.token;QE!==s&&(QE=s,await fetch(n,{method:s?"POST":"DELETE",headers:s?{Authorization:`Bearer ${s}`}:{}}))};function zF(n=Kv()){const e=yp(n,"auth");if(e.isInitialized())return e.getImmediate();const t=fV(n,{popupRedirectResolver:MF,persistence:[GV,OV,fC]}),r=PS("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const o=new URL(r,location.origin);if(location.origin===o.origin){const l=BF(o.toString());kV(t,l,()=>l(t.currentUser)),AV(t,u=>l(u))}}const s=NS("auth");return s&&mV(t,`http://${s}`),t}function WF(){return document.getElementsByTagName("head")?.[0]??document}iV({loadJS(n){return new Promise((e,t)=>{const r=document.createElement("script");r.setAttribute("src",n),r.onload=e,r.onerror=s=>{const o=js("internal-error");o.customData=s,t(o)},r.type="text/javascript",r.charset="UTF-8",WF().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});FF("Browser");var YE=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var uo,wC;(function(){var n;function e(k,R){function N(){}N.prototype=R.prototype,k.F=R.prototype,k.prototype=new N,k.prototype.constructor=k,k.D=function(j,L,F){for(var O=Array(arguments.length-2),ne=2;ne<arguments.length;ne++)O[ne-2]=arguments[ne];return R.prototype[L].apply(j,O)}}function t(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(r,t),r.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function s(k,R,N){N||(N=0);const j=Array(16);if(typeof R=="string")for(var L=0;L<16;++L)j[L]=R.charCodeAt(N++)|R.charCodeAt(N++)<<8|R.charCodeAt(N++)<<16|R.charCodeAt(N++)<<24;else for(L=0;L<16;++L)j[L]=R[N++]|R[N++]<<8|R[N++]<<16|R[N++]<<24;R=k.g[0],N=k.g[1],L=k.g[2];let F=k.g[3],O;O=R+(F^N&(L^F))+j[0]+3614090360&4294967295,R=N+(O<<7&4294967295|O>>>25),O=F+(L^R&(N^L))+j[1]+3905402710&4294967295,F=R+(O<<12&4294967295|O>>>20),O=L+(N^F&(R^N))+j[2]+606105819&4294967295,L=F+(O<<17&4294967295|O>>>15),O=N+(R^L&(F^R))+j[3]+3250441966&4294967295,N=L+(O<<22&4294967295|O>>>10),O=R+(F^N&(L^F))+j[4]+4118548399&4294967295,R=N+(O<<7&4294967295|O>>>25),O=F+(L^R&(N^L))+j[5]+1200080426&4294967295,F=R+(O<<12&4294967295|O>>>20),O=L+(N^F&(R^N))+j[6]+2821735955&4294967295,L=F+(O<<17&4294967295|O>>>15),O=N+(R^L&(F^R))+j[7]+4249261313&4294967295,N=L+(O<<22&4294967295|O>>>10),O=R+(F^N&(L^F))+j[8]+1770035416&4294967295,R=N+(O<<7&4294967295|O>>>25),O=F+(L^R&(N^L))+j[9]+2336552879&4294967295,F=R+(O<<12&4294967295|O>>>20),O=L+(N^F&(R^N))+j[10]+4294925233&4294967295,L=F+(O<<17&4294967295|O>>>15),O=N+(R^L&(F^R))+j[11]+2304563134&4294967295,N=L+(O<<22&4294967295|O>>>10),O=R+(F^N&(L^F))+j[12]+1804603682&4294967295,R=N+(O<<7&4294967295|O>>>25),O=F+(L^R&(N^L))+j[13]+4254626195&4294967295,F=R+(O<<12&4294967295|O>>>20),O=L+(N^F&(R^N))+j[14]+2792965006&4294967295,L=F+(O<<17&4294967295|O>>>15),O=N+(R^L&(F^R))+j[15]+1236535329&4294967295,N=L+(O<<22&4294967295|O>>>10),O=R+(L^F&(N^L))+j[1]+4129170786&4294967295,R=N+(O<<5&4294967295|O>>>27),O=F+(N^L&(R^N))+j[6]+3225465664&4294967295,F=R+(O<<9&4294967295|O>>>23),O=L+(R^N&(F^R))+j[11]+643717713&4294967295,L=F+(O<<14&4294967295|O>>>18),O=N+(F^R&(L^F))+j[0]+3921069994&4294967295,N=L+(O<<20&4294967295|O>>>12),O=R+(L^F&(N^L))+j[5]+3593408605&4294967295,R=N+(O<<5&4294967295|O>>>27),O=F+(N^L&(R^N))+j[10]+38016083&4294967295,F=R+(O<<9&4294967295|O>>>23),O=L+(R^N&(F^R))+j[15]+3634488961&4294967295,L=F+(O<<14&4294967295|O>>>18),O=N+(F^R&(L^F))+j[4]+3889429448&4294967295,N=L+(O<<20&4294967295|O>>>12),O=R+(L^F&(N^L))+j[9]+568446438&4294967295,R=N+(O<<5&4294967295|O>>>27),O=F+(N^L&(R^N))+j[14]+3275163606&4294967295,F=R+(O<<9&4294967295|O>>>23),O=L+(R^N&(F^R))+j[3]+4107603335&4294967295,L=F+(O<<14&4294967295|O>>>18),O=N+(F^R&(L^F))+j[8]+1163531501&4294967295,N=L+(O<<20&4294967295|O>>>12),O=R+(L^F&(N^L))+j[13]+2850285829&4294967295,R=N+(O<<5&4294967295|O>>>27),O=F+(N^L&(R^N))+j[2]+4243563512&4294967295,F=R+(O<<9&4294967295|O>>>23),O=L+(R^N&(F^R))+j[7]+1735328473&4294967295,L=F+(O<<14&4294967295|O>>>18),O=N+(F^R&(L^F))+j[12]+2368359562&4294967295,N=L+(O<<20&4294967295|O>>>12),O=R+(N^L^F)+j[5]+4294588738&4294967295,R=N+(O<<4&4294967295|O>>>28),O=F+(R^N^L)+j[8]+2272392833&4294967295,F=R+(O<<11&4294967295|O>>>21),O=L+(F^R^N)+j[11]+1839030562&4294967295,L=F+(O<<16&4294967295|O>>>16),O=N+(L^F^R)+j[14]+4259657740&4294967295,N=L+(O<<23&4294967295|O>>>9),O=R+(N^L^F)+j[1]+2763975236&4294967295,R=N+(O<<4&4294967295|O>>>28),O=F+(R^N^L)+j[4]+1272893353&4294967295,F=R+(O<<11&4294967295|O>>>21),O=L+(F^R^N)+j[7]+4139469664&4294967295,L=F+(O<<16&4294967295|O>>>16),O=N+(L^F^R)+j[10]+3200236656&4294967295,N=L+(O<<23&4294967295|O>>>9),O=R+(N^L^F)+j[13]+681279174&4294967295,R=N+(O<<4&4294967295|O>>>28),O=F+(R^N^L)+j[0]+3936430074&4294967295,F=R+(O<<11&4294967295|O>>>21),O=L+(F^R^N)+j[3]+3572445317&4294967295,L=F+(O<<16&4294967295|O>>>16),O=N+(L^F^R)+j[6]+76029189&4294967295,N=L+(O<<23&4294967295|O>>>9),O=R+(N^L^F)+j[9]+3654602809&4294967295,R=N+(O<<4&4294967295|O>>>28),O=F+(R^N^L)+j[12]+3873151461&4294967295,F=R+(O<<11&4294967295|O>>>21),O=L+(F^R^N)+j[15]+530742520&4294967295,L=F+(O<<16&4294967295|O>>>16),O=N+(L^F^R)+j[2]+3299628645&4294967295,N=L+(O<<23&4294967295|O>>>9),O=R+(L^(N|~F))+j[0]+4096336452&4294967295,R=N+(O<<6&4294967295|O>>>26),O=F+(N^(R|~L))+j[7]+1126891415&4294967295,F=R+(O<<10&4294967295|O>>>22),O=L+(R^(F|~N))+j[14]+2878612391&4294967295,L=F+(O<<15&4294967295|O>>>17),O=N+(F^(L|~R))+j[5]+4237533241&4294967295,N=L+(O<<21&4294967295|O>>>11),O=R+(L^(N|~F))+j[12]+1700485571&4294967295,R=N+(O<<6&4294967295|O>>>26),O=F+(N^(R|~L))+j[3]+2399980690&4294967295,F=R+(O<<10&4294967295|O>>>22),O=L+(R^(F|~N))+j[10]+4293915773&4294967295,L=F+(O<<15&4294967295|O>>>17),O=N+(F^(L|~R))+j[1]+2240044497&4294967295,N=L+(O<<21&4294967295|O>>>11),O=R+(L^(N|~F))+j[8]+1873313359&4294967295,R=N+(O<<6&4294967295|O>>>26),O=F+(N^(R|~L))+j[15]+4264355552&4294967295,F=R+(O<<10&4294967295|O>>>22),O=L+(R^(F|~N))+j[6]+2734768916&4294967295,L=F+(O<<15&4294967295|O>>>17),O=N+(F^(L|~R))+j[13]+1309151649&4294967295,N=L+(O<<21&4294967295|O>>>11),O=R+(L^(N|~F))+j[4]+4149444226&4294967295,R=N+(O<<6&4294967295|O>>>26),O=F+(N^(R|~L))+j[11]+3174756917&4294967295,F=R+(O<<10&4294967295|O>>>22),O=L+(R^(F|~N))+j[2]+718787259&4294967295,L=F+(O<<15&4294967295|O>>>17),O=N+(F^(L|~R))+j[9]+3951481745&4294967295,k.g[0]=k.g[0]+R&4294967295,k.g[1]=k.g[1]+(L+(O<<21&4294967295|O>>>11))&4294967295,k.g[2]=k.g[2]+L&4294967295,k.g[3]=k.g[3]+F&4294967295}r.prototype.v=function(k,R){R===void 0&&(R=k.length);const N=R-this.blockSize,j=this.C;let L=this.h,F=0;for(;F<R;){if(L==0)for(;F<=N;)s(this,k,F),F+=this.blockSize;if(typeof k=="string"){for(;F<R;)if(j[L++]=k.charCodeAt(F++),L==this.blockSize){s(this,j),L=0;break}}else for(;F<R;)if(j[L++]=k[F++],L==this.blockSize){s(this,j),L=0;break}}this.h=L,this.o+=R},r.prototype.A=function(){var k=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);k[0]=128;for(var R=1;R<k.length-8;++R)k[R]=0;R=this.o*8;for(var N=k.length-8;N<k.length;++N)k[N]=R&255,R/=256;for(this.v(k),k=Array(16),R=0,N=0;N<4;++N)for(let j=0;j<32;j+=8)k[R++]=this.g[N]>>>j&255;return k};function o(k,R){var N=u;return Object.prototype.hasOwnProperty.call(N,k)?N[k]:N[k]=R(k)}function l(k,R){this.h=R;const N=[];let j=!0;for(let L=k.length-1;L>=0;L--){const F=k[L]|0;j&&F==R||(N[L]=F,j=!1)}this.g=N}var u={};function f(k){return-128<=k&&k<128?o(k,function(R){return new l([R|0],R<0?-1:0)}):new l([k|0],k<0?-1:0)}function m(k){if(isNaN(k)||!isFinite(k))return v;if(k<0)return C(m(-k));const R=[];let N=1;for(let j=0;k>=N;j++)R[j]=k/N|0,N*=4294967296;return new l(R,0)}function g(k,R){if(k.length==0)throw Error("number format error: empty string");if(R=R||10,R<2||36<R)throw Error("radix out of range: "+R);if(k.charAt(0)=="-")return C(g(k.substring(1),R));if(k.indexOf("-")>=0)throw Error('number format error: interior "-" character');const N=m(Math.pow(R,8));let j=v;for(let F=0;F<k.length;F+=8){var L=Math.min(8,k.length-F);const O=parseInt(k.substring(F,F+L),R);L<8?(L=m(Math.pow(R,L)),j=j.j(L).add(m(O))):(j=j.j(N),j=j.add(m(O)))}return j}var v=f(0),E=f(1),b=f(16777216);n=l.prototype,n.m=function(){if(T(this))return-C(this).m();let k=0,R=1;for(let N=0;N<this.g.length;N++){const j=this.i(N);k+=(j>=0?j:4294967296+j)*R,R*=4294967296}return k},n.toString=function(k){if(k=k||10,k<2||36<k)throw Error("radix out of range: "+k);if(I(this))return"0";if(T(this))return"-"+C(this).toString(k);const R=m(Math.pow(k,6));var N=this;let j="";for(;;){const L=B(N,R).g;N=M(N,L.j(R));let F=((N.g.length>0?N.g[0]:N.h)>>>0).toString(k);if(N=L,I(N))return F+j;for(;F.length<6;)F="0"+F;j=F+j}},n.i=function(k){return k<0?0:k<this.g.length?this.g[k]:this.h};function I(k){if(k.h!=0)return!1;for(let R=0;R<k.g.length;R++)if(k.g[R]!=0)return!1;return!0}function T(k){return k.h==-1}n.l=function(k){return k=M(this,k),T(k)?-1:I(k)?0:1};function C(k){const R=k.g.length,N=[];for(let j=0;j<R;j++)N[j]=~k.g[j];return new l(N,~k.h).add(E)}n.abs=function(){return T(this)?C(this):this},n.add=function(k){const R=Math.max(this.g.length,k.g.length),N=[];let j=0;for(let L=0;L<=R;L++){let F=j+(this.i(L)&65535)+(k.i(L)&65535),O=(F>>>16)+(this.i(L)>>>16)+(k.i(L)>>>16);j=O>>>16,F&=65535,O&=65535,N[L]=O<<16|F}return new l(N,N[N.length-1]&-2147483648?-1:0)};function M(k,R){return k.add(C(R))}n.j=function(k){if(I(this)||I(k))return v;if(T(this))return T(k)?C(this).j(C(k)):C(C(this).j(k));if(T(k))return C(this.j(C(k)));if(this.l(b)<0&&k.l(b)<0)return m(this.m()*k.m());const R=this.g.length+k.g.length,N=[];for(var j=0;j<2*R;j++)N[j]=0;for(j=0;j<this.g.length;j++)for(let L=0;L<k.g.length;L++){const F=this.i(j)>>>16,O=this.i(j)&65535,ne=k.i(L)>>>16,Ee=k.i(L)&65535;N[2*j+2*L]+=O*Ee,D(N,2*j+2*L),N[2*j+2*L+1]+=F*Ee,D(N,2*j+2*L+1),N[2*j+2*L+1]+=O*ne,D(N,2*j+2*L+1),N[2*j+2*L+2]+=F*ne,D(N,2*j+2*L+2)}for(k=0;k<R;k++)N[k]=N[2*k+1]<<16|N[2*k];for(k=R;k<2*R;k++)N[k]=0;return new l(N,0)};function D(k,R){for(;(k[R]&65535)!=k[R];)k[R+1]+=k[R]>>>16,k[R]&=65535,R++}function V(k,R){this.g=k,this.h=R}function B(k,R){if(I(R))throw Error("division by zero");if(I(k))return new V(v,v);if(T(k))return R=B(C(k),R),new V(C(R.g),C(R.h));if(T(R))return R=B(k,C(R)),new V(C(R.g),R.h);if(k.g.length>30){if(T(k)||T(R))throw Error("slowDivide_ only works with positive integers.");for(var N=E,j=R;j.l(k)<=0;)N=H(N),j=H(j);var L=Q(N,1),F=Q(j,1);for(j=Q(j,2),N=Q(N,2);!I(j);){var O=F.add(j);O.l(k)<=0&&(L=L.add(N),F=O),j=Q(j,1),N=Q(N,1)}return R=M(k,L.j(R)),new V(L,R)}for(L=v;k.l(R)>=0;){for(N=Math.max(1,Math.floor(k.m()/R.m())),j=Math.ceil(Math.log(N)/Math.LN2),j=j<=48?1:Math.pow(2,j-48),F=m(N),O=F.j(R);T(O)||O.l(k)>0;)N-=j,F=m(N),O=F.j(R);I(F)&&(F=E),L=L.add(F),k=M(k,O)}return new V(L,k)}n.B=function(k){return B(this,k).h},n.and=function(k){const R=Math.max(this.g.length,k.g.length),N=[];for(let j=0;j<R;j++)N[j]=this.i(j)&k.i(j);return new l(N,this.h&k.h)},n.or=function(k){const R=Math.max(this.g.length,k.g.length),N=[];for(let j=0;j<R;j++)N[j]=this.i(j)|k.i(j);return new l(N,this.h|k.h)},n.xor=function(k){const R=Math.max(this.g.length,k.g.length),N=[];for(let j=0;j<R;j++)N[j]=this.i(j)^k.i(j);return new l(N,this.h^k.h)};function H(k){const R=k.g.length+1,N=[];for(let j=0;j<R;j++)N[j]=k.i(j)<<1|k.i(j-1)>>>31;return new l(N,k.h)}function Q(k,R){const N=R>>5;R%=32;const j=k.g.length-N,L=[];for(let F=0;F<j;F++)L[F]=R>0?k.i(F+N)>>>R|k.i(F+N+1)<<32-R:k.i(F+N);return new l(L,k.h)}r.prototype.digest=r.prototype.A,r.prototype.reset=r.prototype.u,r.prototype.update=r.prototype.v,wC=r,l.prototype.add=l.prototype.add,l.prototype.multiply=l.prototype.j,l.prototype.modulo=l.prototype.B,l.prototype.compare=l.prototype.l,l.prototype.toNumber=l.prototype.m,l.prototype.toString=l.prototype.toString,l.prototype.getBits=l.prototype.i,l.fromNumber=m,l.fromString=g,uo=l}).apply(typeof YE<"u"?YE:typeof self<"u"?self:typeof window<"u"?window:{});var Vh=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var xC,ou,EC,rf,My,bC,TC,SC;(function(){var n,e=Object.defineProperty;function t(h){h=[typeof globalThis=="object"&&globalThis,h,typeof window=="object"&&window,typeof self=="object"&&self,typeof Vh=="object"&&Vh];for(var x=0;x<h.length;++x){var S=h[x];if(S&&S.Math==Math)return S}throw Error("Cannot find global object")}var r=t(this);function s(h,x){if(x)e:{var S=r;h=h.split(".");for(var P=0;P<h.length-1;P++){var K=h[P];if(!(K in S))break e;S=S[K]}h=h[h.length-1],P=S[h],x=x(P),x!=P&&x!=null&&e(S,h,{configurable:!0,writable:!0,value:x})}}s("Symbol.dispose",function(h){return h||Symbol("Symbol.dispose")}),s("Array.prototype.values",function(h){return h||function(){return this[Symbol.iterator]()}}),s("Object.entries",function(h){return h||function(x){var S=[],P;for(P in x)Object.prototype.hasOwnProperty.call(x,P)&&S.push([P,x[P]]);return S}});var o=o||{},l=this||self;function u(h){var x=typeof h;return x=="object"&&h!=null||x=="function"}function f(h,x,S){return h.call.apply(h.bind,arguments)}function m(h,x,S){return m=f,m.apply(null,arguments)}function g(h,x){var S=Array.prototype.slice.call(arguments,1);return function(){var P=S.slice();return P.push.apply(P,arguments),h.apply(this,P)}}function v(h,x){function S(){}S.prototype=x.prototype,h.Z=x.prototype,h.prototype=new S,h.prototype.constructor=h,h.Ob=function(P,K,ee){for(var pe=Array(arguments.length-2),Ge=2;Ge<arguments.length;Ge++)pe[Ge-2]=arguments[Ge];return x.prototype[K].apply(P,pe)}}var E=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?h=>h&&AsyncContext.Snapshot.wrap(h):h=>h;function b(h){const x=h.length;if(x>0){const S=Array(x);for(let P=0;P<x;P++)S[P]=h[P];return S}return[]}function I(h,x){for(let P=1;P<arguments.length;P++){const K=arguments[P];var S=typeof K;if(S=S!="object"?S:K?Array.isArray(K)?"array":S:"null",S=="array"||S=="object"&&typeof K.length=="number"){S=h.length||0;const ee=K.length||0;h.length=S+ee;for(let pe=0;pe<ee;pe++)h[S+pe]=K[pe]}else h.push(K)}}class T{constructor(x,S){this.i=x,this.j=S,this.h=0,this.g=null}get(){let x;return this.h>0?(this.h--,x=this.g,this.g=x.next,x.next=null):x=this.i(),x}}function C(h){l.setTimeout(()=>{throw h},0)}function M(){var h=k;let x=null;return h.g&&(x=h.g,h.g=h.g.next,h.g||(h.h=null),x.next=null),x}class D{constructor(){this.h=this.g=null}add(x,S){const P=V.get();P.set(x,S),this.h?this.h.next=P:this.g=P,this.h=P}}var V=new T(()=>new B,h=>h.reset());class B{constructor(){this.next=this.g=this.h=null}set(x,S){this.h=x,this.g=S,this.next=null}reset(){this.next=this.g=this.h=null}}let H,Q=!1,k=new D,R=()=>{const h=Promise.resolve(void 0);H=()=>{h.then(N)}};function N(){for(var h;h=M();){try{h.h.call(h.g)}catch(S){C(S)}var x=V;x.j(h),x.h<100&&(x.h++,h.next=x.g,x.g=h)}Q=!1}function j(){this.u=this.u,this.C=this.C}j.prototype.u=!1,j.prototype.dispose=function(){this.u||(this.u=!0,this.N())},j.prototype[Symbol.dispose]=function(){this.dispose()},j.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function L(h,x){this.type=h,this.g=this.target=x,this.defaultPrevented=!1}L.prototype.h=function(){this.defaultPrevented=!0};var F=(function(){if(!l.addEventListener||!Object.defineProperty)return!1;var h=!1,x=Object.defineProperty({},"passive",{get:function(){h=!0}});try{const S=()=>{};l.addEventListener("test",S,x),l.removeEventListener("test",S,x)}catch{}return h})();function O(h){return/^[\s\xa0]*$/.test(h)}function ne(h,x){L.call(this,h?h.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,h&&this.init(h,x)}v(ne,L),ne.prototype.init=function(h,x){const S=this.type=h.type,P=h.changedTouches&&h.changedTouches.length?h.changedTouches[0]:null;this.target=h.target||h.srcElement,this.g=x,x=h.relatedTarget,x||(S=="mouseover"?x=h.fromElement:S=="mouseout"&&(x=h.toElement)),this.relatedTarget=x,P?(this.clientX=P.clientX!==void 0?P.clientX:P.pageX,this.clientY=P.clientY!==void 0?P.clientY:P.pageY,this.screenX=P.screenX||0,this.screenY=P.screenY||0):(this.clientX=h.clientX!==void 0?h.clientX:h.pageX,this.clientY=h.clientY!==void 0?h.clientY:h.pageY,this.screenX=h.screenX||0,this.screenY=h.screenY||0),this.button=h.button,this.key=h.key||"",this.ctrlKey=h.ctrlKey,this.altKey=h.altKey,this.shiftKey=h.shiftKey,this.metaKey=h.metaKey,this.pointerId=h.pointerId||0,this.pointerType=h.pointerType,this.state=h.state,this.i=h,h.defaultPrevented&&ne.Z.h.call(this)},ne.prototype.h=function(){ne.Z.h.call(this);const h=this.i;h.preventDefault?h.preventDefault():h.returnValue=!1};var Ee="closure_listenable_"+(Math.random()*1e6|0),de=0;function ye(h,x,S,P,K){this.listener=h,this.proxy=null,this.src=x,this.type=S,this.capture=!!P,this.ha=K,this.key=++de,this.da=this.fa=!1}function Z(h){h.da=!0,h.listener=null,h.proxy=null,h.src=null,h.ha=null}function q(h,x,S){for(const P in h)x.call(S,h[P],P,h)}function ie(h,x){for(const S in h)x.call(void 0,h[S],S,h)}function z(h){const x={};for(const S in h)x[S]=h[S];return x}const X="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function fe(h,x){let S,P;for(let K=1;K<arguments.length;K++){P=arguments[K];for(S in P)h[S]=P[S];for(let ee=0;ee<X.length;ee++)S=X[ee],Object.prototype.hasOwnProperty.call(P,S)&&(h[S]=P[S])}}function me(h){this.src=h,this.g={},this.h=0}me.prototype.add=function(h,x,S,P,K){const ee=h.toString();h=this.g[ee],h||(h=this.g[ee]=[],this.h++);const pe=ke(h,x,P,K);return pe>-1?(x=h[pe],S||(x.fa=!1)):(x=new ye(x,this.src,ee,!!P,K),x.fa=S,h.push(x)),x};function Re(h,x){const S=x.type;if(S in h.g){var P=h.g[S],K=Array.prototype.indexOf.call(P,x,void 0),ee;(ee=K>=0)&&Array.prototype.splice.call(P,K,1),ee&&(Z(x),h.g[S].length==0&&(delete h.g[S],h.h--))}}function ke(h,x,S,P){for(let K=0;K<h.length;++K){const ee=h[K];if(!ee.da&&ee.listener==x&&ee.capture==!!S&&ee.ha==P)return K}return-1}var re="closure_lm_"+(Math.random()*1e6|0),Se={};function Ve(h,x,S,P,K){if(Array.isArray(x)){for(let ee=0;ee<x.length;ee++)Ve(h,x[ee],S,P,K);return null}return S=qs(S),h&&h[Ee]?h.J(x,S,u(P)?!!P.capture:!1,K):We(h,x,S,!1,P,K)}function We(h,x,S,P,K,ee){if(!x)throw Error("Invalid event type");const pe=u(K)?!!K.capture:!!K;let Ge=Jn(h);if(Ge||(h[re]=Ge=new me(h)),S=Ge.add(x,S,P,pe,ee),S.proxy)return S;if(P=Ze(),S.proxy=P,P.src=h,P.listener=S,h.addEventListener)F||(K=pe),K===void 0&&(K=!1),h.addEventListener(x.toString(),P,K);else if(h.attachEvent)h.attachEvent(xn(x.toString()),P);else if(h.addListener&&h.removeListener)h.addListener(P);else throw Error("addEventListener and attachEvent are unavailable.");return S}function Ze(){function h(S){return x.call(h.src,h.listener,S)}const x=rs;return h}function pt(h,x,S,P,K){if(Array.isArray(x))for(var ee=0;ee<x.length;ee++)pt(h,x[ee],S,P,K);else P=u(P)?!!P.capture:!!P,S=qs(S),h&&h[Ee]?(h=h.i,ee=String(x).toString(),ee in h.g&&(x=h.g[ee],S=ke(x,S,P,K),S>-1&&(Z(x[S]),Array.prototype.splice.call(x,S,1),x.length==0&&(delete h.g[ee],h.h--)))):h&&(h=Jn(h))&&(x=h.g[x.toString()],h=-1,x&&(h=ke(x,S,P,K)),(S=h>-1?x[h]:null)&&Rt(S))}function Rt(h){if(typeof h!="number"&&h&&!h.da){var x=h.src;if(x&&x[Ee])Re(x.i,h);else{var S=h.type,P=h.proxy;x.removeEventListener?x.removeEventListener(S,P,h.capture):x.detachEvent?x.detachEvent(xn(S),P):x.addListener&&x.removeListener&&x.removeListener(P),(S=Jn(x))?(Re(S,h),S.h==0&&(S.src=null,x[re]=null)):Z(h)}}}function xn(h){return h in Se?Se[h]:Se[h]="on"+h}function rs(h,x){if(h.da)h=!0;else{x=new ne(x,this);const S=h.listener,P=h.ha||h.src;h.fa&&Rt(h),h=S.call(P,x)}return h}function Jn(h){return h=h[re],h instanceof me?h:null}var Zn="__closure_events_fn_"+(Math.random()*1e9>>>0);function qs(h){return typeof h=="function"?h:(h[Zn]||(h[Zn]=function(x){return h.handleEvent(x)}),h[Zn])}function Mt(){j.call(this),this.i=new me(this),this.M=this,this.G=null}v(Mt,j),Mt.prototype[Ee]=!0,Mt.prototype.removeEventListener=function(h,x,S,P){pt(this,h,x,S,P)};function Nt(h,x){var S,P=h.G;if(P)for(S=[];P;P=P.G)S.push(P);if(h=h.M,P=x.type||x,typeof x=="string")x=new L(x,h);else if(x instanceof L)x.target=x.target||h;else{var K=x;x=new L(P,h),fe(x,K)}K=!0;let ee,pe;if(S)for(pe=S.length-1;pe>=0;pe--)ee=x.g=S[pe],K=dn(ee,P,!0,x)&&K;if(ee=x.g=h,K=dn(ee,P,!0,x)&&K,K=dn(ee,P,!1,x)&&K,S)for(pe=0;pe<S.length;pe++)ee=x.g=S[pe],K=dn(ee,P,!1,x)&&K}Mt.prototype.N=function(){if(Mt.Z.N.call(this),this.i){var h=this.i;for(const x in h.g){const S=h.g[x];for(let P=0;P<S.length;P++)Z(S[P]);delete h.g[x],h.h--}}this.G=null},Mt.prototype.J=function(h,x,S,P){return this.i.add(String(h),x,!1,S,P)},Mt.prototype.K=function(h,x,S,P){return this.i.add(String(h),x,!0,S,P)};function dn(h,x,S,P){if(x=h.i.g[String(x)],!x)return!0;x=x.concat();let K=!0;for(let ee=0;ee<x.length;++ee){const pe=x[ee];if(pe&&!pe.da&&pe.capture==S){const Ge=pe.listener,Ut=pe.ha||pe.src;pe.fa&&Re(h.i,pe),K=Ge.call(Ut,P)!==!1&&K}}return K&&!P.defaultPrevented}function Si(h,x){if(typeof h!="function")if(h&&typeof h.handleEvent=="function")h=m(h.handleEvent,h);else throw Error("Invalid listener argument");return Number(x)>2147483647?-1:l.setTimeout(h,x||0)}function er(h){h.g=Si(()=>{h.g=null,h.i&&(h.i=!1,er(h))},h.l);const x=h.h;h.h=null,h.m.apply(null,x)}class La extends j{constructor(x,S){super(),this.m=x,this.l=S,this.h=null,this.i=!1,this.g=null}j(x){this.h=arguments,this.g?this.i=!0:er(this)}N(){super.N(),this.g&&(l.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function ss(h){j.call(this),this.h=h,this.g={}}v(ss,j);var tn=[];function tr(h){q(h.g,function(x,S){this.g.hasOwnProperty(S)&&Rt(x)},h),h.g={}}ss.prototype.N=function(){ss.Z.N.call(this),tr(this)},ss.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var is=l.JSON.stringify,Va=l.JSON.parse,wr=class{stringify(h){return l.JSON.stringify(h,void 0)}parse(h){return l.JSON.parse(h,void 0)}};function os(){}function Oo(){}var xr={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function nr(){L.call(this,"d")}v(nr,L);function Ci(){L.call(this,"c")}v(Ci,L);var nn={},Ii=null;function as(){return Ii=Ii||new Mt}nn.Ia="serverreachability";function Gs(h){L.call(this,nn.Ia,h)}v(Gs,L);function Er(h){const x=as();Nt(x,new Gs(x))}nn.STAT_EVENT="statevent";function Mr(h,x){L.call(this,nn.STAT_EVENT,h),this.stat=x}v(Mr,L);function xt(h){const x=as();Nt(x,new Mr(x,h))}nn.Ja="timingevent";function Un(h,x){L.call(this,nn.Ja,h),this.size=x}v(Un,L);function ls(h,x){if(typeof h!="function")throw Error("Fn must not be null and must be a function");return l.setTimeout(function(){h()},x)}function Oe(){this.g=!0}Oe.prototype.ua=function(){this.g=!1};function at(h,x,S,P,K,ee){h.info(function(){if(h.g)if(ee){var pe="",Ge=ee.split("&");for(let gt=0;gt<Ge.length;gt++){var Ut=Ge[gt].split("=");if(Ut.length>1){const Wt=Ut[0];Ut=Ut[1];const cr=Wt.split("_");pe=cr.length>=2&&cr[1]=="type"?pe+(Wt+"="+Ut+"&"):pe+(Wt+"=redacted&")}}}else pe=null;else pe=ee;return"XMLHTTP REQ ("+P+") [attempt "+K+"]: "+x+`
`+S+`
`+pe})}function mt(h,x,S,P,K,ee,pe){h.info(function(){return"XMLHTTP RESP ("+P+") [ attempt "+K+"]: "+x+`
`+S+`
`+ee+" "+pe})}function Lt(h,x,S,P){h.info(function(){return"XMLHTTP TEXT ("+x+"): "+bn(h,S)+(P?" "+P:"")})}function En(h,x){h.info(function(){return"TIMEOUT: "+x})}Oe.prototype.info=function(){};function bn(h,x){if(!h.g)return x;if(!x)return null;try{const ee=JSON.parse(x);if(ee){for(h=0;h<ee.length;h++)if(Array.isArray(ee[h])){var S=ee[h];if(!(S.length<2)){var P=S[1];if(Array.isArray(P)&&!(P.length<1)){var K=P[0];if(K!="noop"&&K!="stop"&&K!="close")for(let pe=1;pe<P.length;pe++)P[pe]=""}}}}return is(ee)}catch{return x}}var Tn={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},zt={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},rr;function Ks(){}v(Ks,os),Ks.prototype.g=function(){return new XMLHttpRequest},rr=new Ks;function cs(h){return encodeURIComponent(String(h))}function Fa(h){var x=1;h=h.split(":");const S=[];for(;x>0&&h.length;)S.push(h.shift()),x--;return h.length&&S.push(h.join(":")),S}function br(h,x,S,P){this.j=h,this.i=x,this.l=S,this.S=P||1,this.V=new ss(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new Td}function Td(){this.i=null,this.g="",this.h=!1}var Sd={},dc={};function Lr(h,x,S){h.M=1,h.A=Ys(Tr(x)),h.u=S,h.R=!0,hc(h,null)}function hc(h,x){h.F=Date.now(),Mo(h),h.B=Tr(h.A);var S=h.B,P=h.S;Array.isArray(P)||(P=[String(P)]),Ec(S.i,"t",P),h.C=0,S=h.j.L,h.h=new Td,h.g=Od(h.j,S?x:null,!h.u),h.P>0&&(h.O=new La(m(h.Y,h,h.g),h.P)),x=h.V,S=h.g,P=h.ba;var K="readystatechange";Array.isArray(K)||(K&&(tn[0]=K.toString()),K=tn);for(let ee=0;ee<K.length;ee++){const pe=Ve(S,K[ee],P||x.handleEvent,!1,x.h||x);if(!pe)break;x.g[pe.key]=pe}x=h.J?z(h.J):{},h.u?(h.v||(h.v="POST"),x["Content-Type"]="application/x-www-form-urlencoded",h.g.ea(h.B,h.v,h.u,x)):(h.v="GET",h.g.ea(h.B,h.v,null,x)),Er(),at(h.i,h.v,h.B,h.l,h.S,h.u)}br.prototype.ba=function(h){h=h.target;const x=this.O;x&&gs(h)==3?x.j():this.Y(h)},br.prototype.Y=function(h){try{if(h==this.g)e:{const Ge=gs(this.g),Ut=this.g.ya(),gt=this.g.ca();if(!(Ge<3)&&(Ge!=3||this.g&&(this.h.h||this.g.la()||jd(this.g)))){this.K||Ge!=4||Ut==7||(Ut==8||gt<=0?Er(3):Er(2)),Ua(this);var x=this.g.ca();this.X=x;var S=Cd(this);if(this.o=x==200,mt(this.i,this.v,this.B,this.l,this.S,Ge,x),this.o){if(this.U&&!this.L){t:{if(this.g){var P,K=this.g;if((P=K.g?K.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!O(P)){var ee=P;break t}}ee=null}if(h=ee)Lt(this.i,this.l,h,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,bt(this,h);else{this.o=!1,this.m=3,xt(12),Qs(this),Lo(this);break e}}if(this.R){h=!0;let Wt;for(;!this.K&&this.C<S.length;)if(Wt=Rd(this,S),Wt==dc){Ge==4&&(this.m=4,xt(14),h=!1),Lt(this.i,this.l,null,"[Incomplete Response]");break}else if(Wt==Sd){this.m=4,xt(15),Lt(this.i,this.l,S,"[Invalid Chunk]"),h=!1;break}else Lt(this.i,this.l,Wt,null),bt(this,Wt);if(Id(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Ge!=4||S.length!=0||this.h.h||(this.m=1,xt(16),h=!1),this.o=this.o&&h,!h)Lt(this.i,this.l,S,"[Invalid Chunked Response]"),Qs(this),Lo(this);else if(S.length>0&&!this.W){this.W=!0;var pe=this.j;pe.g==this&&pe.aa&&!pe.P&&(pe.j.info("Great, no buffering proxy detected. Bytes received: "+S.length),qo(pe),pe.P=!0,xt(11))}}else Lt(this.i,this.l,S,null),bt(this,S);Ge==4&&Qs(this),this.o&&!this.K&&(Ge==4?Ya(this.j,this):(this.o=!1,Mo(this)))}else Tc(this.g),x==400&&S.indexOf("Unknown SID")>0?(this.m=3,xt(12)):(this.m=0,xt(13)),Qs(this),Lo(this)}}}catch{}};function Cd(h){if(!Id(h))return h.g.la();const x=jd(h.g);if(x==="")return"";let S="";const P=x.length,K=gs(h.g)==4;if(!h.h.i){if(typeof TextDecoder>"u")return Qs(h),Lo(h),"";h.h.i=new l.TextDecoder}for(let ee=0;ee<P;ee++)h.h.h=!0,S+=h.h.i.decode(x[ee],{stream:!(K&&ee==P-1)});return x.length=0,h.h.g+=S,h.C=0,h.h.g}function Id(h){return h.g?h.v=="GET"&&h.M!=2&&h.j.Aa:!1}function Rd(h,x){var S=h.C,P=x.indexOf(`
`,S);return P==-1?dc:(S=Number(x.substring(S,P)),isNaN(S)?Sd:(P+=1,P+S>x.length?dc:(x=x.slice(P,P+S),h.C=P+S,x)))}br.prototype.cancel=function(){this.K=!0,Qs(this)};function Mo(h){h.T=Date.now()+h.H,fc(h,h.H)}function fc(h,x){if(h.D!=null)throw Error("WatchDog timer not null");h.D=ls(m(h.aa,h),x)}function Ua(h){h.D&&(l.clearTimeout(h.D),h.D=null)}br.prototype.aa=function(){this.D=null;const h=Date.now();h-this.T>=0?(En(this.i,this.B),this.M!=2&&(Er(),xt(17)),Qs(this),this.m=2,Lo(this)):fc(this,this.T-h)};function Lo(h){h.j.I==0||h.K||Ya(h.j,h)}function Qs(h){Ua(h);var x=h.O;x&&typeof x.dispose=="function"&&x.dispose(),h.O=null,tr(h.V),h.g&&(x=h.g,h.g=null,x.abort(),x.dispose())}function bt(h,x){try{var S=h.j;if(S.I!=0&&(S.g==h||mc(S.h,h))){if(!h.L&&mc(S.h,h)&&S.I==3){try{var P=S.Ba.g.parse(x)}catch{P=null}if(Array.isArray(P)&&P.length==3){var K=P;if(K[0]==0){e:if(!S.v){if(S.g)if(S.g.F+3e3<h.F)Qa(S),ar(S);else break e;_s(S),xt(18)}}else S.xa=K[1],0<S.xa-S.K&&K[2]<37500&&S.F&&S.A==0&&!S.C&&(S.C=ls(m(S.Va,S),6e3));Vo(S.h)<=1&&S.ta&&(S.ta=void 0)}else lr(S,11)}else if((h.L||S.g==h)&&Qa(S),!O(x))for(K=S.Ba.g.parse(x),x=0;x<K.length;x++){let gt=K[x];const Wt=gt[0];if(!(Wt<=S.K))if(S.K=Wt,gt=gt[1],S.I==2)if(gt[0]=="c"){S.M=gt[1],S.ba=gt[2];const cr=gt[3];cr!=null&&(S.ka=cr,S.j.info("VER="+S.ka));const ti=gt[4];ti!=null&&(S.za=ti,S.j.info("SVER="+S.za));const ws=gt[5];ws!=null&&typeof ws=="number"&&ws>0&&(P=1.5*ws,S.O=P,S.j.info("backChannelRequestTimeoutMs_="+P)),P=S;const xs=h.g;if(xs){const Za=xs.g?xs.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Za){var ee=P.h;ee.g||Za.indexOf("spdy")==-1&&Za.indexOf("quic")==-1&&Za.indexOf("h2")==-1||(ee.j=ee.l,ee.g=new Set,ee.h&&(Ba(ee,ee.h),ee.h=null))}if(P.G){const Ic=xs.g?xs.g.getResponseHeader("X-HTTP-Session-Id"):null;Ic&&(P.wa=Ic,ft(P.J,P.G,Ic))}}S.I=3,S.l&&S.l.ra(),S.aa&&(S.T=Date.now()-h.F,S.j.info("Handshake RTT: "+S.T+"ms")),P=S;var pe=h;if(P.na=Cc(P,P.L?P.ba:null,P.W),pe.L){Fo(P.h,pe);var Ge=pe,Ut=P.O;Ut&&(Ge.H=Ut),Ge.D&&(Ua(Ge),Mo(Ge)),P.g=pe}else Sn(P);S.i.length>0&&ei(S)}else gt[0]!="stop"&&gt[0]!="close"||lr(S,7);else S.I==3&&(gt[0]=="stop"||gt[0]=="close"?gt[0]=="stop"?lr(S,7):Ga(S):gt[0]!="noop"&&S.l&&S.l.qa(gt),S.A=0)}}Er(4)}catch{}}var Zp=class{constructor(h,x){this.g=h,this.map=x}};function $a(h){this.l=h||10,l.PerformanceNavigationTiming?(h=l.performance.getEntriesByType("navigation"),h=h.length>0&&(h[0].nextHopProtocol=="hq"||h[0].nextHopProtocol=="h2")):h=!!(l.chrome&&l.chrome.loadTimes&&l.chrome.loadTimes()&&l.chrome.loadTimes().wasFetchedViaSpdy),this.j=h?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function pc(h){return h.h?!0:h.g?h.g.size>=h.j:!1}function Vo(h){return h.h?1:h.g?h.g.size:0}function mc(h,x){return h.h?h.h==x:h.g?h.g.has(x):!1}function Ba(h,x){h.g?h.g.add(x):h.h=x}function Fo(h,x){h.h&&h.h==x?h.h=null:h.g&&h.g.has(x)&&h.g.delete(x)}$a.prototype.cancel=function(){if(this.i=sr(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const h of this.g.values())h.cancel();this.g.clear()}};function sr(h){if(h.h!=null)return h.i.concat(h.h.G);if(h.g!=null&&h.g.size!==0){let x=h.i;for(const S of h.g.values())x=x.concat(S.G);return x}return b(h.i)}var Nd=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function ir(h,x){if(h){h=h.split("&");for(let S=0;S<h.length;S++){const P=h[S].indexOf("=");let K,ee=null;P>=0?(K=h[S].substring(0,P),ee=h[S].substring(P+1)):K=h[S],x(K,ee?decodeURIComponent(ee.replace(/\+/g," ")):"")}}}function us(h){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let x;h instanceof us?(this.l=h.l,Uo(this,h.j),this.o=h.o,this.g=h.g,ds(this,h.u),this.h=h.h,Ri(this,bc(h.i)),this.m=h.m):h&&(x=String(h).match(Nd))?(this.l=!1,Uo(this,x[1]||"",!0),this.o=$o(x[2]||""),this.g=$o(x[3]||"",!0),ds(this,x[4]),this.h=$o(x[5]||"",!0),Ri(this,x[6]||"",!0),this.m=$o(x[7]||"")):(this.l=!1,this.i=new rt(null,this.l))}us.prototype.toString=function(){const h=[];var x=this.j;x&&h.push(Bo(x,yc,!0),":");var S=this.g;return(S||x=="file")&&(h.push("//"),(x=this.o)&&h.push(Bo(x,yc,!0),"@"),h.push(cs(S).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),S=this.u,S!=null&&h.push(":",String(S))),(S=this.h)&&(this.g&&S.charAt(0)!="/"&&h.push("/"),h.push(Bo(S,S.charAt(0)=="/"?zo:vc,!0))),(S=this.i.toString())&&h.push("?",S),(S=this.m)&&h.push("#",Bo(S,_c)),h.join("")},us.prototype.resolve=function(h){const x=Tr(this);let S=!!h.j;S?Uo(x,h.j):S=!!h.o,S?x.o=h.o:S=!!h.g,S?x.g=h.g:S=h.u!=null;var P=h.h;if(S)ds(x,h.u);else if(S=!!h.h){if(P.charAt(0)!="/")if(this.g&&!this.h)P="/"+P;else{var K=x.h.lastIndexOf("/");K!=-1&&(P=x.h.slice(0,K+1)+P)}if(K=P,K==".."||K==".")P="";else if(K.indexOf("./")!=-1||K.indexOf("/.")!=-1){P=K.lastIndexOf("/",0)==0,K=K.split("/");const ee=[];for(let pe=0;pe<K.length;){const Ge=K[pe++];Ge=="."?P&&pe==K.length&&ee.push(""):Ge==".."?((ee.length>1||ee.length==1&&ee[0]!="")&&ee.pop(),P&&pe==K.length&&ee.push("")):(ee.push(Ge),P=!0)}P=ee.join("/")}else P=K}return S?x.h=P:S=h.i.toString()!=="",S?Ri(x,bc(h.i)):S=!!h.m,S&&(x.m=h.m),x};function Tr(h){return new us(h)}function Uo(h,x,S){h.j=S?$o(x,!0):x,h.j&&(h.j=h.j.replace(/:$/,""))}function ds(h,x){if(x){if(x=Number(x),isNaN(x)||x<0)throw Error("Bad port number "+x);h.u=x}else h.u=null}function Ri(h,x,S){x instanceof rt?(h.i=x,Wa(h.i,h.l)):(S||(x=Bo(x,em)),h.i=new rt(x,h.l))}function ft(h,x,S){h.i.set(x,S)}function Ys(h){return ft(h,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),h}function $o(h,x){return h?x?decodeURI(h.replace(/%25/g,"%2525")):decodeURIComponent(h):""}function Bo(h,x,S){return typeof h=="string"?(h=encodeURI(h).replace(x,gc),S&&(h=h.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),h):null}function gc(h){return h=h.charCodeAt(0),"%"+(h>>4&15).toString(16)+(h&15).toString(16)}var yc=/[#\/\?@]/g,vc=/[#\?:]/g,zo=/[#\?]/g,em=/[#\?@]/g,_c=/#/g;function rt(h,x){this.h=this.g=null,this.i=h||null,this.j=!!x}function hs(h){h.g||(h.g=new Map,h.h=0,h.i&&ir(h.i,function(x,S){h.add(decodeURIComponent(x.replace(/\+/g," ")),S)}))}n=rt.prototype,n.add=function(h,x){hs(this),this.i=null,h=fs(this,h);let S=this.g.get(h);return S||this.g.set(h,S=[]),S.push(x),this.h+=1,this};function wc(h,x){hs(h),x=fs(h,x),h.g.has(x)&&(h.i=null,h.h-=h.g.get(x).length,h.g.delete(x))}function za(h,x){return hs(h),x=fs(h,x),h.g.has(x)}n.forEach=function(h,x){hs(this),this.g.forEach(function(S,P){S.forEach(function(K){h.call(x,K,P,this)},this)},this)};function xc(h,x){hs(h);let S=[];if(typeof x=="string")za(h,x)&&(S=S.concat(h.g.get(fs(h,x))));else for(h=Array.from(h.g.values()),x=0;x<h.length;x++)S=S.concat(h[x]);return S}n.set=function(h,x){return hs(this),this.i=null,h=fs(this,h),za(this,h)&&(this.h-=this.g.get(h).length),this.g.set(h,[x]),this.h+=1,this},n.get=function(h,x){return h?(h=xc(this,h),h.length>0?String(h[0]):x):x};function Ec(h,x,S){wc(h,x),S.length>0&&(h.i=null,h.g.set(fs(h,x),b(S)),h.h+=S.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";const h=[],x=Array.from(this.g.keys());for(let P=0;P<x.length;P++){var S=x[P];const K=cs(S);S=xc(this,S);for(let ee=0;ee<S.length;ee++){let pe=K;S[ee]!==""&&(pe+="="+cs(S[ee])),h.push(pe)}}return this.i=h.join("&")};function bc(h){const x=new rt;return x.i=h.i,h.g&&(x.g=new Map(h.g),x.h=h.h),x}function fs(h,x){return x=String(x),h.j&&(x=x.toLowerCase()),x}function Wa(h,x){x&&!h.j&&(hs(h),h.i=null,h.g.forEach(function(S,P){const K=P.toLowerCase();P!=K&&(wc(this,P),Ec(this,K,S))},h)),h.j=x}function ps(h,x){const S=new Oe;if(l.Image){const P=new Image;P.onload=g(hn,S,"TestLoadImage: loaded",!0,x,P),P.onerror=g(hn,S,"TestLoadImage: error",!1,x,P),P.onabort=g(hn,S,"TestLoadImage: abort",!1,x,P),P.ontimeout=g(hn,S,"TestLoadImage: timeout",!1,x,P),l.setTimeout(function(){P.ontimeout&&P.ontimeout()},1e4),P.src=h}else x(!1)}function ms(h,x){const S=new Oe,P=new AbortController,K=setTimeout(()=>{P.abort(),hn(S,"TestPingServer: timeout",!1,x)},1e4);fetch(h,{signal:P.signal}).then(ee=>{clearTimeout(K),ee.ok?hn(S,"TestPingServer: ok",!0,x):hn(S,"TestPingServer: server error",!1,x)}).catch(()=>{clearTimeout(K),hn(S,"TestPingServer: error",!1,x)})}function hn(h,x,S,P,K){try{K&&(K.onload=null,K.onerror=null,K.onabort=null,K.ontimeout=null),P(S)}catch{}}function Wo(){this.g=new wr}function Xs(h){this.i=h.Sb||null,this.h=h.ab||!1}v(Xs,os),Xs.prototype.g=function(){return new or(this.i,this.h)};function or(h,x){Mt.call(this),this.H=h,this.o=x,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}v(or,Mt),n=or.prototype,n.open=function(h,x){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=h,this.D=x,this.readyState=1,Vr(this)},n.send=function(h){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const x={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};h&&(x.body=h),(this.H||l).fetch(new Request(this.D,x)).then(this.Pa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,Ni(this)),this.readyState=0},n.Pa=function(h){if(this.g&&(this.l=h,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=h.headers,this.readyState=2,Vr(this)),this.g&&(this.readyState=3,Vr(this),this.g)))if(this.responseType==="arraybuffer")h.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof l.ReadableStream<"u"&&"body"in h){if(this.j=h.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;Ad(this)}else h.text().then(this.Oa.bind(this),this.ga.bind(this))};function Ad(h){h.j.read().then(h.Ma.bind(h)).catch(h.ga.bind(h))}n.Ma=function(h){if(this.g){if(this.o&&h.value)this.response.push(h.value);else if(!this.o){var x=h.value?h.value:new Uint8Array(0);(x=this.B.decode(x,{stream:!h.done}))&&(this.response=this.responseText+=x)}h.done?Ni(this):Vr(this),this.readyState==3&&Ad(this)}},n.Oa=function(h){this.g&&(this.response=this.responseText=h,Ni(this))},n.Na=function(h){this.g&&(this.response=h,Ni(this))},n.ga=function(){this.g&&Ni(this)};function Ni(h){h.readyState=4,h.l=null,h.j=null,h.B=null,Vr(h)}n.setRequestHeader=function(h,x){this.A.append(h,x)},n.getResponseHeader=function(h){return this.h&&this.h.get(h.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";const h=[],x=this.h.entries();for(var S=x.next();!S.done;)S=S.value,h.push(S[0]+": "+S[1]),S=x.next();return h.join(`\r
`)};function Vr(h){h.onreadystatechange&&h.onreadystatechange.call(h)}Object.defineProperty(or.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(h){this.m=h?"include":"same-origin"}});function kd(h){let x="";return q(h,function(S,P){x+=P,x+=":",x+=S,x+=`\r
`}),x}function Ha(h,x,S){e:{for(P in S){var P=!1;break e}P=!0}P||(S=kd(S),typeof h=="string"?S!=null&&cs(S):ft(h,x,S))}function _t(h){Mt.call(this),this.headers=new Map,this.L=h||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}v(_t,Mt);var Pd=/^https?$/i,tm=["POST","PUT"];n=_t.prototype,n.Fa=function(h){this.H=h},n.ea=function(h,x,S,P){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+h);x=x?x.toUpperCase():"GET",this.D=h,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():rr.g(),this.g.onreadystatechange=E(m(this.Ca,this));try{this.B=!0,this.g.open(x,String(h),!0),this.B=!1}catch(ee){Ai(this,ee);return}if(h=S||"",S=new Map(this.headers),P)if(Object.getPrototypeOf(P)===Object.prototype)for(var K in P)S.set(K,P[K]);else if(typeof P.keys=="function"&&typeof P.get=="function")for(const ee of P.keys())S.set(ee,P.get(ee));else throw Error("Unknown input type for opt_headers: "+String(P));P=Array.from(S.keys()).find(ee=>ee.toLowerCase()=="content-type"),K=l.FormData&&h instanceof l.FormData,!(Array.prototype.indexOf.call(tm,x,void 0)>=0)||P||K||S.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[ee,pe]of S)this.g.setRequestHeader(ee,pe);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(h),this.v=!1}catch(ee){Ai(this,ee)}};function Ai(h,x){h.h=!1,h.g&&(h.j=!0,h.g.abort(),h.j=!1),h.l=x,h.o=5,ki(h),Zs(h)}function ki(h){h.A||(h.A=!0,Nt(h,"complete"),Nt(h,"error"))}n.abort=function(h){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=h||7,Nt(this,"complete"),Nt(this,"abort"),Zs(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Zs(this,!0)),_t.Z.N.call(this)},n.Ca=function(){this.u||(this.B||this.v||this.j?Js(this):this.Xa())},n.Xa=function(){Js(this)};function Js(h){if(h.h&&typeof o<"u"){if(h.v&&gs(h)==4)setTimeout(h.Ca.bind(h),0);else if(Nt(h,"readystatechange"),gs(h)==4){h.h=!1;try{const ee=h.ca();e:switch(ee){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var x=!0;break e;default:x=!1}var S;if(!(S=x)){var P;if(P=ee===0){let pe=String(h.D).match(Nd)[1]||null;!pe&&l.self&&l.self.location&&(pe=l.self.location.protocol.slice(0,-1)),P=!Pd.test(pe?pe.toLowerCase():"")}S=P}if(S)Nt(h,"complete"),Nt(h,"success");else{h.o=6;try{var K=gs(h)>2?h.g.statusText:""}catch{K=""}h.l=K+" ["+h.ca()+"]",ki(h)}}finally{Zs(h)}}}}function Zs(h,x){if(h.g){h.m&&(clearTimeout(h.m),h.m=null);const S=h.g;h.g=null,x||Nt(h,"ready");try{S.onreadystatechange=null}catch{}}}n.isActive=function(){return!!this.g};function gs(h){return h.g?h.g.readyState:0}n.ca=function(){try{return gs(this)>2?this.g.status:-1}catch{return-1}},n.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.La=function(h){if(this.g){var x=this.g.responseText;return h&&x.indexOf(h)==0&&(x=x.substring(h.length)),Va(x)}};function jd(h){try{if(!h.g)return null;if("response"in h.g)return h.g.response;switch(h.F){case"":case"text":return h.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in h.g)return h.g.mozResponseArrayBuffer}return null}catch{return null}}function Tc(h){const x={};h=(h.g&&gs(h)>=2&&h.g.getAllResponseHeaders()||"").split(`\r
`);for(let P=0;P<h.length;P++){if(O(h[P]))continue;var S=Fa(h[P]);const K=S[0];if(S=S[1],typeof S!="string")continue;S=S.trim();const ee=x[K]||[];x[K]=ee,ee.push(S)}ie(x,function(P){return P.join(", ")})}n.ya=function(){return this.o},n.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function ys(h,x,S){return S&&S.internalChannelParams&&S.internalChannelParams[h]||x}function qa(h){this.za=0,this.i=[],this.j=new Oe,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=ys("failFast",!1,h),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=ys("baseRetryDelayMs",5e3,h),this.Za=ys("retryDelaySeedMs",1e4,h),this.Ta=ys("forwardChannelMaxRetries",2,h),this.va=ys("forwardChannelRequestTimeoutMs",2e4,h),this.ma=h&&h.xmlHttpFactory||void 0,this.Ua=h&&h.Rb||void 0,this.Aa=h&&h.useFetchStreams||!1,this.O=void 0,this.L=h&&h.supportsCrossDomainXhr||!1,this.M="",this.h=new $a(h&&h.concurrentRequestLimit),this.Ba=new Wo,this.S=h&&h.fastHandshake||!1,this.R=h&&h.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=h&&h.Pb||!1,h&&h.ua&&this.j.ua(),h&&h.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&h&&h.detectBufferingProxy||!1,this.ia=void 0,h&&h.longPollingTimeout&&h.longPollingTimeout>0&&(this.ia=h.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}n=qa.prototype,n.ka=8,n.I=1,n.connect=function(h,x,S,P){xt(0),this.W=h,this.H=x||{},S&&P!==void 0&&(this.H.OSID=S,this.H.OAID=P),this.F=this.X,this.J=Cc(this,null,this.W),ei(this)};function Ga(h){if(Ka(h),h.I==3){var x=h.V++,S=Tr(h.J);if(ft(S,"SID",h.M),ft(S,"RID",x),ft(S,"TYPE","terminate"),vs(h,S),x=new br(h,h.j,x),x.M=2,x.A=Ys(Tr(S)),S=!1,l.navigator&&l.navigator.sendBeacon)try{S=l.navigator.sendBeacon(x.A.toString(),"")}catch{}!S&&l.Image&&(new Image().src=x.A,S=!0),S||(x.g=Od(x.j,null),x.g.ea(x.A)),x.F=Date.now(),Mo(x)}Go(h)}function ar(h){h.g&&(qo(h),h.g.cancel(),h.g=null)}function Ka(h){ar(h),h.v&&(l.clearTimeout(h.v),h.v=null),Qa(h),h.h.cancel(),h.m&&(typeof h.m=="number"&&l.clearTimeout(h.m),h.m=null)}function ei(h){if(!pc(h.h)&&!h.m){h.m=!0;var x=h.Ea;H||R(),Q||(H(),Q=!0),k.add(x,h),h.D=0}}function Dd(h,x){return Vo(h.h)>=h.h.j-(h.m?1:0)?!1:h.m?(h.i=x.G.concat(h.i),!0):h.I==1||h.I==2||h.D>=(h.Sa?0:h.Ta)?!1:(h.m=ls(m(h.Ea,h,x),Xa(h,h.D)),h.D++,!0)}n.Ea=function(h){if(this.m)if(this.m=null,this.I==1){if(!h){this.V=Math.floor(Math.random()*1e5),h=this.V++;const K=new br(this,this.j,h);let ee=this.o;if(this.U&&(ee?(ee=z(ee),fe(ee,this.U)):ee=this.U),this.u!==null||this.R||(K.J=ee,ee=null),this.S)e:{for(var x=0,S=0;S<this.i.length;S++){t:{var P=this.i[S];if("__data__"in P.map&&(P=P.map.__data__,typeof P=="string")){P=P.length;break t}P=void 0}if(P===void 0)break;if(x+=P,x>4096){x=S;break e}if(x===4096||S===this.i.length-1){x=S+1;break e}}x=1e3}else x=1e3;x=Sc(this,K,x),S=Tr(this.J),ft(S,"RID",h),ft(S,"CVER",22),this.G&&ft(S,"X-HTTP-Session-Id",this.G),vs(this,S),ee&&(this.R?x="headers="+cs(kd(ee))+"&"+x:this.u&&Ha(S,this.u,ee)),Ba(this.h,K),this.Ra&&ft(S,"TYPE","init"),this.S?(ft(S,"$req",x),ft(S,"SID","null"),K.U=!0,Lr(K,S,null)):Lr(K,S,x),this.I=2}}else this.I==3&&(h?Ho(this,h):this.i.length==0||pc(this.h)||Ho(this))};function Ho(h,x){var S;x?S=x.l:S=h.V++;const P=Tr(h.J);ft(P,"SID",h.M),ft(P,"RID",S),ft(P,"AID",h.K),vs(h,P),h.u&&h.o&&Ha(P,h.u,h.o),S=new br(h,h.j,S,h.D+1),h.u===null&&(S.J=h.o),x&&(h.i=x.G.concat(h.i)),x=Sc(h,S,1e3),S.H=Math.round(h.va*.5)+Math.round(h.va*.5*Math.random()),Ba(h.h,S),Lr(S,P,x)}function vs(h,x){h.H&&q(h.H,function(S,P){ft(x,P,S)}),h.l&&q({},function(S,P){ft(x,P,S)})}function Sc(h,x,S){S=Math.min(h.i.length,S);const P=h.l?m(h.l.Ka,h.l,h):null;e:{var K=h.i;let Ge=-1;for(;;){const Ut=["count="+S];Ge==-1?S>0?(Ge=K[0].g,Ut.push("ofs="+Ge)):Ge=0:Ut.push("ofs="+Ge);let gt=!0;for(let Wt=0;Wt<S;Wt++){var ee=K[Wt].g;const cr=K[Wt].map;if(ee-=Ge,ee<0)Ge=Math.max(0,K[Wt].g-100),gt=!1;else try{ee="req"+ee+"_"||"";try{var pe=cr instanceof Map?cr:Object.entries(cr);for(const[ti,ws]of pe){let xs=ws;u(ws)&&(xs=is(ws)),Ut.push(ee+ti+"="+encodeURIComponent(xs))}}catch(ti){throw Ut.push(ee+"type="+encodeURIComponent("_badmap")),ti}}catch{P&&P(cr)}}if(gt){pe=Ut.join("&");break e}}pe=void 0}return h=h.i.splice(0,S),x.G=h,pe}function Sn(h){if(!h.g&&!h.v){h.Y=1;var x=h.Da;H||R(),Q||(H(),Q=!0),k.add(x,h),h.A=0}}function _s(h){return h.g||h.v||h.A>=3?!1:(h.Y++,h.v=ls(m(h.Da,h),Xa(h,h.A)),h.A++,!0)}n.Da=function(){if(this.v=null,Pi(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var h=4*this.T;this.j.info("BP detection timer enabled: "+h),this.B=ls(m(this.Wa,this),h)}},n.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,xt(10),ar(this),Pi(this))};function qo(h){h.B!=null&&(l.clearTimeout(h.B),h.B=null)}function Pi(h){h.g=new br(h,h.j,"rpc",h.Y),h.u===null&&(h.g.J=h.o),h.g.P=0;var x=Tr(h.na);ft(x,"RID","rpc"),ft(x,"SID",h.M),ft(x,"AID",h.K),ft(x,"CI",h.F?"0":"1"),!h.F&&h.ia&&ft(x,"TO",h.ia),ft(x,"TYPE","xmlhttp"),vs(h,x),h.u&&h.o&&Ha(x,h.u,h.o),h.O&&(h.g.H=h.O);var S=h.g;h=h.ba,S.M=1,S.A=Ys(Tr(x)),S.u=null,S.R=!0,hc(S,h)}n.Va=function(){this.C!=null&&(this.C=null,ar(this),_s(this),xt(19))};function Qa(h){h.C!=null&&(l.clearTimeout(h.C),h.C=null)}function Ya(h,x){var S=null;if(h.g==x){Qa(h),qo(h),h.g=null;var P=2}else if(mc(h.h,x))S=x.G,Fo(h.h,x),P=1;else return;if(h.I!=0){if(x.o)if(P==1){S=x.u?x.u.length:0,x=Date.now()-x.F;var K=h.D;P=as(),Nt(P,new Un(P,S)),ei(h)}else Sn(h);else if(K=x.m,K==3||K==0&&x.X>0||!(P==1&&Dd(h,x)||P==2&&_s(h)))switch(S&&S.length>0&&(x=h.h,x.i=x.i.concat(S)),K){case 1:lr(h,5);break;case 4:lr(h,10);break;case 3:lr(h,6);break;default:lr(h,2)}}}function Xa(h,x){let S=h.Qa+Math.floor(Math.random()*h.Za);return h.isActive()||(S*=2),S*x}function lr(h,x){if(h.j.info("Error code "+x),x==2){var S=m(h.bb,h),P=h.Ua;const K=!P;P=new us(P||"//www.google.com/images/cleardot.gif"),l.location&&l.location.protocol=="http"||Uo(P,"https"),Ys(P),K?ps(P.toString(),S):ms(P.toString(),S)}else xt(2);h.I=0,h.l&&h.l.pa(x),Go(h),Ka(h)}n.bb=function(h){h?(this.j.info("Successfully pinged google.com"),xt(2)):(this.j.info("Failed to ping google.com"),xt(1))};function Go(h){if(h.I=0,h.ja=[],h.l){const x=sr(h.h);(x.length!=0||h.i.length!=0)&&(I(h.ja,x),I(h.ja,h.i),h.h.i.length=0,b(h.i),h.i.length=0),h.l.oa()}}function Cc(h,x,S){var P=S instanceof us?Tr(S):new us(S);if(P.g!="")x&&(P.g=x+"."+P.g),ds(P,P.u);else{var K=l.location;P=K.protocol,x=x?x+"."+K.hostname:K.hostname,K=+K.port;const ee=new us(null);P&&Uo(ee,P),x&&(ee.g=x),K&&ds(ee,K),S&&(ee.h=S),P=ee}return S=h.G,x=h.wa,S&&x&&ft(P,S,x),ft(P,"VER",h.ka),vs(h,P),P}function Od(h,x,S){if(x&&!h.L)throw Error("Can't create secondary domain capable XhrIo object.");return x=h.Aa&&!h.ma?new _t(new Xs({ab:S})):new _t(h.ma),x.Fa(h.L),x}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function Md(){}n=Md.prototype,n.ra=function(){},n.qa=function(){},n.pa=function(){},n.oa=function(){},n.isActive=function(){return!0},n.Ka=function(){};function Ja(){}Ja.prototype.g=function(h,x){return new fn(h,x)};function fn(h,x){Mt.call(this),this.g=new qa(x),this.l=h,this.h=x&&x.messageUrlParams||null,h=x&&x.messageHeaders||null,x&&x.clientProtocolHeaderRequired&&(h?h["X-Client-Protocol"]="webchannel":h={"X-Client-Protocol":"webchannel"}),this.g.o=h,h=x&&x.initMessageHeaders||null,x&&x.messageContentType&&(h?h["X-WebChannel-Content-Type"]=x.messageContentType:h={"X-WebChannel-Content-Type":x.messageContentType}),x&&x.sa&&(h?h["X-WebChannel-Client-Profile"]=x.sa:h={"X-WebChannel-Client-Profile":x.sa}),this.g.U=h,(h=x&&x.Qb)&&!O(h)&&(this.g.u=h),this.A=x&&x.supportsCrossDomainXhr||!1,this.v=x&&x.sendRawJson||!1,(x=x&&x.httpSessionIdParam)&&!O(x)&&(this.g.G=x,h=this.h,h!==null&&x in h&&(h=this.h,x in h&&delete h[x])),this.j=new ji(this)}v(fn,Mt),fn.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},fn.prototype.close=function(){Ga(this.g)},fn.prototype.o=function(h){var x=this.g;if(typeof h=="string"){var S={};S.__data__=h,h=S}else this.v&&(S={},S.__data__=is(h),h=S);x.i.push(new Zp(x.Ya++,h)),x.I==3&&ei(x)},fn.prototype.N=function(){this.g.l=null,delete this.j,Ga(this.g),delete this.g,fn.Z.N.call(this)};function Ld(h){nr.call(this),h.__headers__&&(this.headers=h.__headers__,this.statusCode=h.__status__,delete h.__headers__,delete h.__status__);var x=h.__sm__;if(x){e:{for(const S in x){h=S;break e}h=void 0}(this.i=h)&&(h=this.i,x=x!==null&&h in x?x[h]:void 0),this.data=x}else this.data=h}v(Ld,nr);function Vd(){Ci.call(this),this.status=1}v(Vd,Ci);function ji(h){this.g=h}v(ji,Md),ji.prototype.ra=function(){Nt(this.g,"a")},ji.prototype.qa=function(h){Nt(this.g,new Ld(h))},ji.prototype.pa=function(h){Nt(this.g,new Vd)},ji.prototype.oa=function(){Nt(this.g,"b")},Ja.prototype.createWebChannel=Ja.prototype.g,fn.prototype.send=fn.prototype.o,fn.prototype.open=fn.prototype.m,fn.prototype.close=fn.prototype.close,SC=function(){return new Ja},TC=function(){return as()},bC=nn,My={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},Tn.NO_ERROR=0,Tn.TIMEOUT=8,Tn.HTTP_ERROR=6,rf=Tn,zt.COMPLETE="complete",EC=zt,Oo.EventType=xr,xr.OPEN="a",xr.CLOSE="b",xr.ERROR="c",xr.MESSAGE="d",Mt.prototype.listen=Mt.prototype.J,ou=Oo,_t.prototype.listenOnce=_t.prototype.K,_t.prototype.getLastError=_t.prototype.Ha,_t.prototype.getLastErrorCode=_t.prototype.ya,_t.prototype.getStatus=_t.prototype.ca,_t.prototype.getResponseJson=_t.prototype.La,_t.prototype.getResponseText=_t.prototype.la,_t.prototype.send=_t.prototype.ea,_t.prototype.setWithCredentials=_t.prototype.Fa,xC=_t}).apply(typeof Vh<"u"?Vh:typeof self<"u"?self:typeof window<"u"?window:{});class kn{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}kn.UNAUTHENTICATED=new kn(null),kn.GOOGLE_CREDENTIALS=new kn("google-credentials-uid"),kn.FIRST_PARTY=new kn("first-party-uid"),kn.MOCK_USER=new kn("mock-user");let ic="12.8.0";function HF(n){ic=n}const xa=new qv("@firebase/firestore");function bl(){return xa.logLevel}function xe(n,...e){if(xa.logLevel<=et.DEBUG){const t=e.map(r_);xa.debug(`Firestore (${ic}): ${n}`,...t)}}function _i(n,...e){if(xa.logLevel<=et.ERROR){const t=e.map(r_);xa.error(`Firestore (${ic}): ${n}`,...t)}}function Ul(n,...e){if(xa.logLevel<=et.WARN){const t=e.map(r_);xa.warn(`Firestore (${ic}): ${n}`,...t)}}function r_(n){if(typeof n=="string")return n;try{return(function(t){return JSON.stringify(t)})(n)}catch{return n}}function De(n,e,t){let r="Unexpected state";typeof e=="string"?r=e:t=e,CC(n,r,t)}function CC(n,e,t){let r=`FIRESTORE (${ic}) INTERNAL ASSERTION FAILED: ${e} (ID: ${n.toString(16)})`;if(t!==void 0)try{r+=" CONTEXT: "+JSON.stringify(t)}catch{r+=" CONTEXT: "+t}throw _i(r),new Error(r)}function ot(n,e,t,r){let s="Unexpected state";typeof t=="string"?s=t:r=t,n||CC(e,s,r)}function qe(n,e){return n}const te={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ge extends Ws{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Os{constructor(){this.promise=new Promise(((e,t)=>{this.resolve=e,this.reject=t}))}}class IC{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class qF{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable((()=>t(kn.UNAUTHENTICATED)))}shutdown(){}}class GF{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable((()=>t(this.token.user)))}shutdown(){this.changeListener=null}}class KF{constructor(e){this.t=e,this.currentUser=kn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){ot(this.o===void 0,42304);let r=this.i;const s=f=>this.i!==r?(r=this.i,t(f)):Promise.resolve();let o=new Os;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new Os,e.enqueueRetryable((()=>s(this.currentUser)))};const l=()=>{const f=o;e.enqueueRetryable((async()=>{await f.promise,await s(this.currentUser)}))},u=f=>{xe("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=f,this.o&&(this.auth.addAuthTokenListener(this.o),l())};this.t.onInit((f=>u(f))),setTimeout((()=>{if(!this.auth){const f=this.t.getImmediate({optional:!0});f?u(f):(xe("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new Os)}}),0),l()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then((r=>this.i!==e?(xe("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(ot(typeof r.accessToken=="string",31837,{l:r}),new IC(r.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return ot(e===null||typeof e=="string",2055,{h:e}),new kn(e)}}class QF{constructor(e,t,r){this.P=e,this.T=t,this.I=r,this.type="FirstParty",this.user=kn.FIRST_PARTY,this.R=new Map}A(){return this.I?this.I():null}get headers(){this.R.set("X-Goog-AuthUser",this.P);const e=this.A();return e&&this.R.set("Authorization",e),this.T&&this.R.set("X-Goog-Iam-Authorization-Token",this.T),this.R}}class YF{constructor(e,t,r){this.P=e,this.T=t,this.I=r}getToken(){return Promise.resolve(new QF(this.P,this.T,this.I))}start(e,t){e.enqueueRetryable((()=>t(kn.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class XE{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class XF{constructor(e,t){this.V=t,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,pr(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,t){ot(this.o===void 0,3512);const r=o=>{o.error!=null&&xe("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);const l=o.token!==this.m;return this.m=o.token,xe("FirebaseAppCheckTokenProvider",`Received ${l?"new":"existing"} token.`),l?t(o.token):Promise.resolve()};this.o=o=>{e.enqueueRetryable((()=>r(o)))};const s=o=>{xe("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((o=>s(o))),setTimeout((()=>{if(!this.appCheck){const o=this.V.getImmediate({optional:!0});o?s(o):xe("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new XE(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((t=>t?(ot(typeof t.token=="string",44558,{tokenResult:t}),this.m=t.token,new XE(t.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function JF(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let r=0;r<n;r++)t[r]=Math.floor(256*Math.random());return t}class s_{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const s=JF(40);for(let o=0;o<s.length;++o)r.length<20&&s[o]<t&&(r+=e.charAt(s[o]%62))}return r}}function tt(n,e){return n<e?-1:n>e?1:0}function Ly(n,e){const t=Math.min(n.length,e.length);for(let r=0;r<t;r++){const s=n.charAt(r),o=e.charAt(r);if(s!==o)return zg(s)===zg(o)?tt(s,o):zg(s)?1:-1}return tt(n.length,e.length)}const ZF=55296,e3=57343;function zg(n){const e=n.charCodeAt(0);return e>=ZF&&e<=e3}function $l(n,e,t){return n.length===e.length&&n.every(((r,s)=>t(r,e[s])))}const JE="__name__";class Is{constructor(e,t,r){t===void 0?t=0:t>e.length&&De(637,{offset:t,range:e.length}),r===void 0?r=e.length-t:r>e.length-t&&De(1746,{length:r,range:e.length-t}),this.segments=e,this.offset=t,this.len=r}get length(){return this.len}isEqual(e){return Is.comparator(this,e)===0}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof Is?e.forEach((r=>{t.push(r)})):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,r=this.limit();t<r;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const r=Math.min(e.length,t.length);for(let s=0;s<r;s++){const o=Is.compareSegments(e.get(s),t.get(s));if(o!==0)return o}return tt(e.length,t.length)}static compareSegments(e,t){const r=Is.isNumericId(e),s=Is.isNumericId(t);return r&&!s?-1:!r&&s?1:r&&s?Is.extractNumericId(e).compare(Is.extractNumericId(t)):Ly(e,t)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return uo.fromString(e.substring(4,e.length-2))}}class vt extends Is{construct(e,t,r){return new vt(e,t,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const r of e){if(r.indexOf("//")>=0)throw new ge(te.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);t.push(...r.split("/").filter((s=>s.length>0)))}return new vt(t)}static emptyPath(){return new vt([])}}const t3=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class vn extends Is{construct(e,t,r){return new vn(e,t,r)}static isValidIdentifier(e){return t3.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),vn.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===JE}static keyField(){return new vn([JE])}static fromServerFormat(e){const t=[];let r="",s=0;const o=()=>{if(r.length===0)throw new ge(te.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(r),r=""};let l=!1;for(;s<e.length;){const u=e[s];if(u==="\\"){if(s+1===e.length)throw new ge(te.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const f=e[s+1];if(f!=="\\"&&f!=="."&&f!=="`")throw new ge(te.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=f,s+=2}else u==="`"?(l=!l,s++):u!=="."||l?(r+=u,s++):(o(),s++)}if(o(),l)throw new ge(te.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new vn(t)}static emptyPath(){return new vn([])}}class je{constructor(e){this.path=e}static fromPath(e){return new je(vt.fromString(e))}static fromName(e){return new je(vt.fromString(e).popFirst(5))}static empty(){return new je(vt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&vt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return vt.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new je(new vt(e.slice()))}}function RC(n,e,t){if(!t)throw new ge(te.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function n3(n,e,t,r){if(e===!0&&r===!0)throw new ge(te.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function ZE(n){if(!je.isDocumentKey(n))throw new ge(te.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function eb(n){if(je.isDocumentKey(n))throw new ge(te.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function NC(n){return typeof n=="object"&&n!==null&&(Object.getPrototypeOf(n)===Object.prototype||Object.getPrototypeOf(n)===null)}function Ep(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{const e=(function(r){return r.constructor?r.constructor.name:null})(n);return e?`a custom ${e} object`:"an object"}}return typeof n=="function"?"a function":De(12329,{type:typeof n})}function Xn(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new ge(te.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=Ep(n);throw new ge(te.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}function Qt(n,e){const t={typeString:n};return e&&(t.value=e),t}function cd(n,e){if(!NC(n))throw new ge(te.INVALID_ARGUMENT,"JSON must be an object");let t;for(const r in e)if(e[r]){const s=e[r].typeString,o="value"in e[r]?{value:e[r].value}:void 0;if(!(r in n)){t=`JSON missing required field: '${r}'`;break}const l=n[r];if(s&&typeof l!==s){t=`JSON field '${r}' must be a ${s}.`;break}if(o!==void 0&&l!==o.value){t=`Expected '${r}' field to equal '${o.value}'`;break}}if(t)throw new ge(te.INVALID_ARGUMENT,t);return!0}const tb=-62135596800,nb=1e6;class It{static now(){return It.fromMillis(Date.now())}static fromDate(e){return It.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),r=Math.floor((e-1e3*t)*nb);return new It(t,r)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new ge(te.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new ge(te.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<tb)throw new ge(te.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ge(te.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/nb}_compareTo(e){return this.seconds===e.seconds?tt(this.nanoseconds,e.nanoseconds):tt(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:It._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(cd(e,It._jsonSchema))return new It(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-tb;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}It._jsonSchemaVersion="firestore/timestamp/1.0",It._jsonSchema={type:Qt("string",It._jsonSchemaVersion),seconds:Qt("number"),nanoseconds:Qt("number")};class Fe{static fromTimestamp(e){return new Fe(e)}static min(){return new Fe(new It(0,0))}static max(){return new Fe(new It(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const Mu=-1;function r3(n,e){const t=n.toTimestamp().seconds,r=n.toTimestamp().nanoseconds+1,s=Fe.fromTimestamp(r===1e9?new It(t+1,0):new It(t,r));return new _o(s,je.empty(),e)}function s3(n){return new _o(n.readTime,n.key,Mu)}class _o{constructor(e,t,r){this.readTime=e,this.documentKey=t,this.largestBatchId=r}static min(){return new _o(Fe.min(),je.empty(),Mu)}static max(){return new _o(Fe.max(),je.empty(),Mu)}}function i3(n,e){let t=n.readTime.compareTo(e.readTime);return t!==0?t:(t=je.comparator(n.documentKey,e.documentKey),t!==0?t:tt(n.largestBatchId,e.largestBatchId))}const o3="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class a3{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}async function oc(n){if(n.code!==te.FAILED_PRECONDITION||n.message!==o3)throw n;xe("LocalStore","Unexpectedly lost primary lease")}class se{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)}),(t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)}))}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&De(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new se(((r,s)=>{this.nextCallback=o=>{this.wrapSuccess(e,o).next(r,s)},this.catchCallback=o=>{this.wrapFailure(t,o).next(r,s)}}))}toPromise(){return new Promise(((e,t)=>{this.next(e,t)}))}wrapUserFunction(e){try{const t=e();return t instanceof se?t:se.resolve(t)}catch(t){return se.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction((()=>e(t))):se.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction((()=>e(t))):se.reject(t)}static resolve(e){return new se(((t,r)=>{t(e)}))}static reject(e){return new se(((t,r)=>{r(e)}))}static waitFor(e){return new se(((t,r)=>{let s=0,o=0,l=!1;e.forEach((u=>{++s,u.next((()=>{++o,l&&o===s&&t()}),(f=>r(f)))})),l=!0,o===s&&t()}))}static or(e){let t=se.resolve(!1);for(const r of e)t=t.next((s=>s?se.resolve(s):r()));return t}static forEach(e,t){const r=[];return e.forEach(((s,o)=>{r.push(t.call(this,s,o))})),this.waitFor(r)}static mapArray(e,t){return new se(((r,s)=>{const o=e.length,l=new Array(o);let u=0;for(let f=0;f<o;f++){const m=f;t(e[m]).next((g=>{l[m]=g,++u,u===o&&r(l)}),(g=>s(g)))}}))}static doWhile(e,t){return new se(((r,s)=>{const o=()=>{e()===!0?t().next((()=>{o()}),s):r()};o()}))}}function l3(n){const e=n.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function ac(n){return n.name==="IndexedDbTransactionError"}class bp{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=r=>this.ae(r),this.ue=r=>t.writeSequenceNumber(r))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}bp.ce=-1;const i_=-1;function ud(n){return n==null}function Af(n){return n===0&&1/n==-1/0}function c3(n){return typeof n=="number"&&Number.isInteger(n)&&!Af(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}const AC="";function u3(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=rb(e)),e=d3(n.get(t),e);return rb(e)}function d3(n,e){let t=e;const r=n.length;for(let s=0;s<r;s++){const o=n.charAt(s);switch(o){case"\0":t+="";break;case AC:t+="";break;default:t+=o}}return t}function rb(n){return n+AC+""}function sb(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function Ao(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function kC(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}class Ot{constructor(e,t){this.comparator=e,this.root=t||gn.EMPTY}insert(e,t){return new Ot(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,gn.BLACK,null,null))}remove(e){return new Ot(this.comparator,this.root.remove(e,this.comparator).copy(null,null,gn.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const r=this.comparator(e,t.key);if(r===0)return t.value;r<0?t=t.left:r>0&&(t=t.right)}return null}indexOf(e){let t=0,r=this.root;for(;!r.isEmpty();){const s=this.comparator(e,r.key);if(s===0)return t+r.left.size;s<0?r=r.left:(t+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((t,r)=>(e(t,r),!1)))}toString(){const e=[];return this.inorderTraversal(((t,r)=>(e.push(`${t}:${r}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Fh(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Fh(this.root,e,this.comparator,!1)}getReverseIterator(){return new Fh(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Fh(this.root,e,this.comparator,!0)}}class Fh{constructor(e,t,r,s){this.isReverse=s,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=t?r(e.key,t):1,t&&s&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(o===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class gn{constructor(e,t,r,s,o){this.key=e,this.value=t,this.color=r??gn.RED,this.left=s??gn.EMPTY,this.right=o??gn.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,r,s,o){return new gn(e??this.key,t??this.value,r??this.color,s??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,r){let s=this;const o=r(e,s.key);return s=o<0?s.copy(null,null,null,s.left.insert(e,t,r),null):o===0?s.copy(null,t,null,null,null):s.copy(null,null,null,null,s.right.insert(e,t,r)),s.fixUp()}removeMin(){if(this.left.isEmpty())return gn.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let r,s=this;if(t(e,s.key)<0)s.left.isEmpty()||s.left.isRed()||s.left.left.isRed()||(s=s.moveRedLeft()),s=s.copy(null,null,null,s.left.remove(e,t),null);else{if(s.left.isRed()&&(s=s.rotateRight()),s.right.isEmpty()||s.right.isRed()||s.right.left.isRed()||(s=s.moveRedRight()),t(e,s.key)===0){if(s.right.isEmpty())return gn.EMPTY;r=s.right.min(),s=s.copy(r.key,r.value,null,null,s.right.removeMin())}s=s.copy(null,null,null,null,s.right.remove(e,t))}return s.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,gn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,gn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw De(43730,{key:this.key,value:this.value});if(this.right.isRed())throw De(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw De(27949);return e+(this.isRed()?0:1)}}gn.EMPTY=null,gn.RED=!0,gn.BLACK=!1;gn.EMPTY=new class{constructor(){this.size=0}get key(){throw De(57766)}get value(){throw De(16141)}get color(){throw De(16727)}get left(){throw De(29726)}get right(){throw De(36894)}copy(e,t,r,s,o){return this}insert(e,t,r){return new gn(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class en{constructor(e){this.comparator=e,this.data=new Ot(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((t,r)=>(e(t),!1)))}forEachInRange(e,t){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const s=r.getNext();if(this.comparator(s.key,e[1])>=0)return;t(s.key)}}forEachWhile(e,t){let r;for(r=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new ib(this.data.getIterator())}getIteratorFrom(e){return new ib(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach((r=>{t=t.add(r)})),t}isEqual(e){if(!(e instanceof en)||this.size!==e.size)return!1;const t=this.data.getIterator(),r=e.data.getIterator();for(;t.hasNext();){const s=t.getNext().key,o=r.getNext().key;if(this.comparator(s,o)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((t=>{e.push(t)})),e}toString(){const e=[];return this.forEach((t=>e.push(t))),"SortedSet("+e.toString()+")"}copy(e){const t=new en(this.comparator);return t.data=e,t}}class ib{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class gr{constructor(e){this.fields=e,e.sort(vn.comparator)}static empty(){return new gr([])}unionWith(e){let t=new en(vn.comparator);for(const r of this.fields)t=t.add(r);for(const r of e)t=t.add(r);return new gr(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return $l(this.fields,e.fields,((t,r)=>t.isEqual(r)))}}class PC extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class wn{constructor(e){this.binaryString=e}static fromBase64String(e){const t=(function(s){try{return atob(s)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new PC("Invalid base64 string: "+o):o}})(e);return new wn(t)}static fromUint8Array(e){const t=(function(s){let o="";for(let l=0;l<s.length;++l)o+=String.fromCharCode(s[l]);return o})(e);return new wn(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(t){return btoa(t)})(this.binaryString)}toUint8Array(){return(function(t){const r=new Uint8Array(t.length);for(let s=0;s<t.length;s++)r[s]=t.charCodeAt(s);return r})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return tt(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}wn.EMPTY_BYTE_STRING=new wn("");const h3=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function wo(n){if(ot(!!n,39018),typeof n=="string"){let e=0;const t=h3.exec(n);if(ot(!!t,46558,{timestamp:n}),t[1]){let s=t[1];s=(s+"000000000").substr(0,9),e=Number(s)}const r=new Date(n);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Bt(n.seconds),nanos:Bt(n.nanos)}}function Bt(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function xo(n){return typeof n=="string"?wn.fromBase64String(n):wn.fromUint8Array(n)}const jC="server_timestamp",DC="__type__",OC="__previous_value__",MC="__local_write_time__";function o_(n){return(n?.mapValue?.fields||{})[DC]?.stringValue===jC}function Tp(n){const e=n.mapValue.fields[OC];return o_(e)?Tp(e):e}function Lu(n){const e=wo(n.mapValue.fields[MC].timestampValue);return new It(e.seconds,e.nanos)}class f3{constructor(e,t,r,s,o,l,u,f,m,g,v){this.databaseId=e,this.appId=t,this.persistenceKey=r,this.host=s,this.ssl=o,this.forceLongPolling=l,this.autoDetectLongPolling=u,this.longPollingOptions=f,this.useFetchStreams=m,this.isUsingEmulator=g,this.apiKey=v}}const kf="(default)";class Vu{constructor(e,t){this.projectId=e,this.database=t||kf}static empty(){return new Vu("","")}get isDefaultDatabase(){return this.database===kf}isEqual(e){return e instanceof Vu&&e.projectId===this.projectId&&e.database===this.database}}function p3(n,e){if(!Object.prototype.hasOwnProperty.apply(n.options,["projectId"]))throw new ge(te.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Vu(n.options.projectId,e)}const LC="__type__",m3="__max__",Uh={mapValue:{}},VC="__vector__",Pf="value";function Eo(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?o_(n)?4:y3(n)?9007199254740991:g3(n)?10:11:De(28295,{value:n})}function $s(n,e){if(n===e)return!0;const t=Eo(n);if(t!==Eo(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return Lu(n).isEqual(Lu(e));case 3:return(function(s,o){if(typeof s.timestampValue=="string"&&typeof o.timestampValue=="string"&&s.timestampValue.length===o.timestampValue.length)return s.timestampValue===o.timestampValue;const l=wo(s.timestampValue),u=wo(o.timestampValue);return l.seconds===u.seconds&&l.nanos===u.nanos})(n,e);case 5:return n.stringValue===e.stringValue;case 6:return(function(s,o){return xo(s.bytesValue).isEqual(xo(o.bytesValue))})(n,e);case 7:return n.referenceValue===e.referenceValue;case 8:return(function(s,o){return Bt(s.geoPointValue.latitude)===Bt(o.geoPointValue.latitude)&&Bt(s.geoPointValue.longitude)===Bt(o.geoPointValue.longitude)})(n,e);case 2:return(function(s,o){if("integerValue"in s&&"integerValue"in o)return Bt(s.integerValue)===Bt(o.integerValue);if("doubleValue"in s&&"doubleValue"in o){const l=Bt(s.doubleValue),u=Bt(o.doubleValue);return l===u?Af(l)===Af(u):isNaN(l)&&isNaN(u)}return!1})(n,e);case 9:return $l(n.arrayValue.values||[],e.arrayValue.values||[],$s);case 10:case 11:return(function(s,o){const l=s.mapValue.fields||{},u=o.mapValue.fields||{};if(sb(l)!==sb(u))return!1;for(const f in l)if(l.hasOwnProperty(f)&&(u[f]===void 0||!$s(l[f],u[f])))return!1;return!0})(n,e);default:return De(52216,{left:n})}}function Fu(n,e){return(n.values||[]).find((t=>$s(t,e)))!==void 0}function Bl(n,e){if(n===e)return 0;const t=Eo(n),r=Eo(e);if(t!==r)return tt(t,r);switch(t){case 0:case 9007199254740991:return 0;case 1:return tt(n.booleanValue,e.booleanValue);case 2:return(function(o,l){const u=Bt(o.integerValue||o.doubleValue),f=Bt(l.integerValue||l.doubleValue);return u<f?-1:u>f?1:u===f?0:isNaN(u)?isNaN(f)?0:-1:1})(n,e);case 3:return ob(n.timestampValue,e.timestampValue);case 4:return ob(Lu(n),Lu(e));case 5:return Ly(n.stringValue,e.stringValue);case 6:return(function(o,l){const u=xo(o),f=xo(l);return u.compareTo(f)})(n.bytesValue,e.bytesValue);case 7:return(function(o,l){const u=o.split("/"),f=l.split("/");for(let m=0;m<u.length&&m<f.length;m++){const g=tt(u[m],f[m]);if(g!==0)return g}return tt(u.length,f.length)})(n.referenceValue,e.referenceValue);case 8:return(function(o,l){const u=tt(Bt(o.latitude),Bt(l.latitude));return u!==0?u:tt(Bt(o.longitude),Bt(l.longitude))})(n.geoPointValue,e.geoPointValue);case 9:return ab(n.arrayValue,e.arrayValue);case 10:return(function(o,l){const u=o.fields||{},f=l.fields||{},m=u[Pf]?.arrayValue,g=f[Pf]?.arrayValue,v=tt(m?.values?.length||0,g?.values?.length||0);return v!==0?v:ab(m,g)})(n.mapValue,e.mapValue);case 11:return(function(o,l){if(o===Uh.mapValue&&l===Uh.mapValue)return 0;if(o===Uh.mapValue)return 1;if(l===Uh.mapValue)return-1;const u=o.fields||{},f=Object.keys(u),m=l.fields||{},g=Object.keys(m);f.sort(),g.sort();for(let v=0;v<f.length&&v<g.length;++v){const E=Ly(f[v],g[v]);if(E!==0)return E;const b=Bl(u[f[v]],m[g[v]]);if(b!==0)return b}return tt(f.length,g.length)})(n.mapValue,e.mapValue);default:throw De(23264,{he:t})}}function ob(n,e){if(typeof n=="string"&&typeof e=="string"&&n.length===e.length)return tt(n,e);const t=wo(n),r=wo(e),s=tt(t.seconds,r.seconds);return s!==0?s:tt(t.nanos,r.nanos)}function ab(n,e){const t=n.values||[],r=e.values||[];for(let s=0;s<t.length&&s<r.length;++s){const o=Bl(t[s],r[s]);if(o)return o}return tt(t.length,r.length)}function zl(n){return Vy(n)}function Vy(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?(function(t){const r=wo(t);return`time(${r.seconds},${r.nanos})`})(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?(function(t){return xo(t).toBase64()})(n.bytesValue):"referenceValue"in n?(function(t){return je.fromName(t).toString()})(n.referenceValue):"geoPointValue"in n?(function(t){return`geo(${t.latitude},${t.longitude})`})(n.geoPointValue):"arrayValue"in n?(function(t){let r="[",s=!0;for(const o of t.values||[])s?s=!1:r+=",",r+=Vy(o);return r+"]"})(n.arrayValue):"mapValue"in n?(function(t){const r=Object.keys(t.fields||{}).sort();let s="{",o=!0;for(const l of r)o?o=!1:s+=",",s+=`${l}:${Vy(t.fields[l])}`;return s+"}"})(n.mapValue):De(61005,{value:n})}function sf(n){switch(Eo(n)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Tp(n);return e?16+sf(e):16;case 5:return 2*n.stringValue.length;case 6:return xo(n.bytesValue).approximateByteSize();case 7:return n.referenceValue.length;case 9:return(function(r){return(r.values||[]).reduce(((s,o)=>s+sf(o)),0)})(n.arrayValue);case 10:case 11:return(function(r){let s=0;return Ao(r.fields,((o,l)=>{s+=o.length+sf(l)})),s})(n.mapValue);default:throw De(13486,{value:n})}}function lb(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function Fy(n){return!!n&&"integerValue"in n}function a_(n){return!!n&&"arrayValue"in n}function cb(n){return!!n&&"nullValue"in n}function ub(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function of(n){return!!n&&"mapValue"in n}function g3(n){return(n?.mapValue?.fields||{})[LC]?.stringValue===VC}function yu(n){if(n.geoPointValue)return{geoPointValue:{...n.geoPointValue}};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:{...n.timestampValue}};if(n.mapValue){const e={mapValue:{fields:{}}};return Ao(n.mapValue.fields,((t,r)=>e.mapValue.fields[t]=yu(r))),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=yu(n.arrayValue.values[t]);return e}return{...n}}function y3(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue===m3}class Ln{constructor(e){this.value=e}static empty(){return new Ln({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let r=0;r<e.length-1;++r)if(t=(t.mapValue.fields||{})[e.get(r)],!of(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=yu(t)}setAll(e){let t=vn.emptyPath(),r={},s=[];e.forEach(((l,u)=>{if(!t.isImmediateParentOf(u)){const f=this.getFieldsMap(t);this.applyChanges(f,r,s),r={},s=[],t=u.popLast()}l?r[u.lastSegment()]=yu(l):s.push(u.lastSegment())}));const o=this.getFieldsMap(t);this.applyChanges(o,r,s)}delete(e){const t=this.field(e.popLast());of(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return $s(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let r=0;r<e.length;++r){let s=t.mapValue.fields[e.get(r)];of(s)&&s.mapValue.fields||(s={mapValue:{fields:{}}},t.mapValue.fields[e.get(r)]=s),t=s}return t.mapValue.fields}applyChanges(e,t,r){Ao(t,((s,o)=>e[s]=o));for(const s of r)delete e[s]}clone(){return new Ln(yu(this.value))}}function FC(n){const e=[];return Ao(n.fields,((t,r)=>{const s=new vn([t]);if(of(r)){const o=FC(r.mapValue).fields;if(o.length===0)e.push(s);else for(const l of o)e.push(s.child(l))}else e.push(s)})),new gr(e)}class cn{constructor(e,t,r,s,o,l,u){this.key=e,this.documentType=t,this.version=r,this.readTime=s,this.createTime=o,this.data=l,this.documentState=u}static newInvalidDocument(e){return new cn(e,0,Fe.min(),Fe.min(),Fe.min(),Ln.empty(),0)}static newFoundDocument(e,t,r,s){return new cn(e,1,t,Fe.min(),r,s,0)}static newNoDocument(e,t){return new cn(e,2,t,Fe.min(),Fe.min(),Ln.empty(),0)}static newUnknownDocument(e,t){return new cn(e,3,t,Fe.min(),Fe.min(),Ln.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(Fe.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Ln.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Ln.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Fe.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof cn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new cn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class jf{constructor(e,t){this.position=e,this.inclusive=t}}function db(n,e,t){let r=0;for(let s=0;s<n.position.length;s++){const o=e[s],l=n.position[s];if(o.field.isKeyField()?r=je.comparator(je.fromName(l.referenceValue),t.key):r=Bl(l,t.data.field(o.field)),o.dir==="desc"&&(r*=-1),r!==0)break}return r}function hb(n,e){if(n===null)return e===null;if(e===null||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!$s(n.position[t],e.position[t]))return!1;return!0}class Uu{constructor(e,t="asc"){this.field=e,this.dir=t}}function v3(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}class UC{}class Kt extends UC{constructor(e,t,r){super(),this.field=e,this.op=t,this.value=r}static create(e,t,r){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,r):new w3(e,t,r):t==="array-contains"?new b3(e,r):t==="in"?new T3(e,r):t==="not-in"?new S3(e,r):t==="array-contains-any"?new C3(e,r):new Kt(e,t,r)}static createKeyFieldInFilter(e,t,r){return t==="in"?new x3(e,r):new E3(e,r)}matches(e){const t=e.data.field(this.field);return this.op==="!="?t!==null&&t.nullValue===void 0&&this.matchesComparison(Bl(t,this.value)):t!==null&&Eo(this.value)===Eo(t)&&this.matchesComparison(Bl(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return De(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Zr extends UC{constructor(e,t){super(),this.filters=e,this.op=t,this.Pe=null}static create(e,t){return new Zr(e,t)}matches(e){return $C(this)?this.filters.find((t=>!t.matches(e)))===void 0:this.filters.find((t=>t.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,t)=>e.concat(t.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function $C(n){return n.op==="and"}function BC(n){return _3(n)&&$C(n)}function _3(n){for(const e of n.filters)if(e instanceof Zr)return!1;return!0}function Uy(n){if(n instanceof Kt)return n.field.canonicalString()+n.op.toString()+zl(n.value);if(BC(n))return n.filters.map((e=>Uy(e))).join(",");{const e=n.filters.map((t=>Uy(t))).join(",");return`${n.op}(${e})`}}function zC(n,e){return n instanceof Kt?(function(r,s){return s instanceof Kt&&r.op===s.op&&r.field.isEqual(s.field)&&$s(r.value,s.value)})(n,e):n instanceof Zr?(function(r,s){return s instanceof Zr&&r.op===s.op&&r.filters.length===s.filters.length?r.filters.reduce(((o,l,u)=>o&&zC(l,s.filters[u])),!0):!1})(n,e):void De(19439)}function WC(n){return n instanceof Kt?(function(t){return`${t.field.canonicalString()} ${t.op} ${zl(t.value)}`})(n):n instanceof Zr?(function(t){return t.op.toString()+" {"+t.getFilters().map(WC).join(" ,")+"}"})(n):"Filter"}class w3 extends Kt{constructor(e,t,r){super(e,t,r),this.key=je.fromName(r.referenceValue)}matches(e){const t=je.comparator(e.key,this.key);return this.matchesComparison(t)}}class x3 extends Kt{constructor(e,t){super(e,"in",t),this.keys=HC("in",t)}matches(e){return this.keys.some((t=>t.isEqual(e.key)))}}class E3 extends Kt{constructor(e,t){super(e,"not-in",t),this.keys=HC("not-in",t)}matches(e){return!this.keys.some((t=>t.isEqual(e.key)))}}function HC(n,e){return(e.arrayValue?.values||[]).map((t=>je.fromName(t.referenceValue)))}class b3 extends Kt{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return a_(t)&&Fu(t.arrayValue,this.value)}}class T3 extends Kt{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return t!==null&&Fu(this.value.arrayValue,t)}}class S3 extends Kt{constructor(e,t){super(e,"not-in",t)}matches(e){if(Fu(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return t!==null&&t.nullValue===void 0&&!Fu(this.value.arrayValue,t)}}class C3 extends Kt{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!a_(t)||!t.arrayValue.values)&&t.arrayValue.values.some((r=>Fu(this.value.arrayValue,r)))}}class I3{constructor(e,t=null,r=[],s=[],o=null,l=null,u=null){this.path=e,this.collectionGroup=t,this.orderBy=r,this.filters=s,this.limit=o,this.startAt=l,this.endAt=u,this.Te=null}}function fb(n,e=null,t=[],r=[],s=null,o=null,l=null){return new I3(n,e,t,r,s,o,l)}function l_(n){const e=qe(n);if(e.Te===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map((r=>Uy(r))).join(","),t+="|ob:",t+=e.orderBy.map((r=>(function(o){return o.field.canonicalString()+o.dir})(r))).join(","),ud(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map((r=>zl(r))).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map((r=>zl(r))).join(",")),e.Te=t}return e.Te}function c_(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!v3(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!zC(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!hb(n.startAt,e.startAt)&&hb(n.endAt,e.endAt)}function $y(n){return je.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}class lc{constructor(e,t=null,r=[],s=[],o=null,l="F",u=null,f=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=r,this.filters=s,this.limit=o,this.limitType=l,this.startAt=u,this.endAt=f,this.Ie=null,this.Ee=null,this.Re=null,this.startAt,this.endAt}}function R3(n,e,t,r,s,o,l,u){return new lc(n,e,t,r,s,o,l,u)}function Sp(n){return new lc(n)}function pb(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function N3(n){return je.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}function qC(n){return n.collectionGroup!==null}function vu(n){const e=qe(n);if(e.Ie===null){e.Ie=[];const t=new Set;for(const o of e.explicitOrderBy)e.Ie.push(o),t.add(o.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(l){let u=new en(vn.comparator);return l.filters.forEach((f=>{f.getFlattenedFilters().forEach((m=>{m.isInequality()&&(u=u.add(m.field))}))})),u})(e).forEach((o=>{t.has(o.canonicalString())||o.isKeyField()||e.Ie.push(new Uu(o,r))})),t.has(vn.keyField().canonicalString())||e.Ie.push(new Uu(vn.keyField(),r))}return e.Ie}function Ms(n){const e=qe(n);return e.Ee||(e.Ee=A3(e,vu(n))),e.Ee}function A3(n,e){if(n.limitType==="F")return fb(n.path,n.collectionGroup,e,n.filters,n.limit,n.startAt,n.endAt);{e=e.map((s=>{const o=s.dir==="desc"?"asc":"desc";return new Uu(s.field,o)}));const t=n.endAt?new jf(n.endAt.position,n.endAt.inclusive):null,r=n.startAt?new jf(n.startAt.position,n.startAt.inclusive):null;return fb(n.path,n.collectionGroup,e,n.filters,n.limit,t,r)}}function By(n,e){const t=n.filters.concat([e]);return new lc(n.path,n.collectionGroup,n.explicitOrderBy.slice(),t,n.limit,n.limitType,n.startAt,n.endAt)}function k3(n,e){const t=n.explicitOrderBy.concat([e]);return new lc(n.path,n.collectionGroup,t,n.filters.slice(),n.limit,n.limitType,n.startAt,n.endAt)}function zy(n,e,t){return new lc(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function Cp(n,e){return c_(Ms(n),Ms(e))&&n.limitType===e.limitType}function GC(n){return`${l_(Ms(n))}|lt:${n.limitType}`}function Tl(n){return`Query(target=${(function(t){let r=t.path.canonicalString();return t.collectionGroup!==null&&(r+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(r+=`, filters: [${t.filters.map((s=>WC(s))).join(", ")}]`),ud(t.limit)||(r+=", limit: "+t.limit),t.orderBy.length>0&&(r+=`, orderBy: [${t.orderBy.map((s=>(function(l){return`${l.field.canonicalString()} (${l.dir})`})(s))).join(", ")}]`),t.startAt&&(r+=", startAt: ",r+=t.startAt.inclusive?"b:":"a:",r+=t.startAt.position.map((s=>zl(s))).join(",")),t.endAt&&(r+=", endAt: ",r+=t.endAt.inclusive?"a:":"b:",r+=t.endAt.position.map((s=>zl(s))).join(",")),`Target(${r})`})(Ms(n))}; limitType=${n.limitType})`}function Ip(n,e){return e.isFoundDocument()&&(function(r,s){const o=s.key.path;return r.collectionGroup!==null?s.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(o):je.isDocumentKey(r.path)?r.path.isEqual(o):r.path.isImmediateParentOf(o)})(n,e)&&(function(r,s){for(const o of vu(r))if(!o.field.isKeyField()&&s.data.field(o.field)===null)return!1;return!0})(n,e)&&(function(r,s){for(const o of r.filters)if(!o.matches(s))return!1;return!0})(n,e)&&(function(r,s){return!(r.startAt&&!(function(l,u,f){const m=db(l,u,f);return l.inclusive?m<=0:m<0})(r.startAt,vu(r),s)||r.endAt&&!(function(l,u,f){const m=db(l,u,f);return l.inclusive?m>=0:m>0})(r.endAt,vu(r),s))})(n,e)}function P3(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function KC(n){return(e,t)=>{let r=!1;for(const s of vu(n)){const o=j3(s,e,t);if(o!==0)return o;r=r||s.field.isKeyField()}return 0}}function j3(n,e,t){const r=n.field.isKeyField()?je.comparator(e.key,t.key):(function(o,l,u){const f=l.data.field(o),m=u.data.field(o);return f!==null&&m!==null?Bl(f,m):De(42886)})(n.field,e,t);switch(n.dir){case"asc":return r;case"desc":return-1*r;default:return De(19790,{direction:n.dir})}}class ja{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),r=this.inner[t];if(r!==void 0){for(const[s,o]of r)if(this.equalsFn(s,e))return o}}has(e){return this.get(e)!==void 0}set(e,t){const r=this.mapKeyFn(e),s=this.inner[r];if(s===void 0)return this.inner[r]=[[e,t]],void this.innerSize++;for(let o=0;o<s.length;o++)if(this.equalsFn(s[o][0],e))return void(s[o]=[e,t]);s.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),r=this.inner[t];if(r===void 0)return!1;for(let s=0;s<r.length;s++)if(this.equalsFn(r[s][0],e))return r.length===1?delete this.inner[t]:r.splice(s,1),this.innerSize--,!0;return!1}forEach(e){Ao(this.inner,((t,r)=>{for(const[s,o]of r)e(s,o)}))}isEmpty(){return kC(this.inner)}size(){return this.innerSize}}const D3=new Ot(je.comparator);function wi(){return D3}const QC=new Ot(je.comparator);function au(...n){let e=QC;for(const t of n)e=e.insert(t.key,t);return e}function YC(n){let e=QC;return n.forEach(((t,r)=>e=e.insert(t,r.overlayedDocument))),e}function ca(){return _u()}function XC(){return _u()}function _u(){return new ja((n=>n.toString()),((n,e)=>n.isEqual(e)))}const O3=new Ot(je.comparator),M3=new en(je.comparator);function nt(...n){let e=M3;for(const t of n)e=e.add(t);return e}const L3=new en(tt);function V3(){return L3}function u_(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Af(e)?"-0":e}}function JC(n){return{integerValue:""+n}}function F3(n,e){return c3(e)?JC(e):u_(n,e)}class Rp{constructor(){this._=void 0}}function U3(n,e,t){return n instanceof $u?(function(s,o){const l={fields:{[DC]:{stringValue:jC},[MC]:{timestampValue:{seconds:s.seconds,nanos:s.nanoseconds}}}};return o&&o_(o)&&(o=Tp(o)),o&&(l.fields[OC]=o),{mapValue:l}})(t,e):n instanceof Bu?eI(n,e):n instanceof zu?tI(n,e):(function(s,o){const l=ZC(s,o),u=mb(l)+mb(s.Ae);return Fy(l)&&Fy(s.Ae)?JC(u):u_(s.serializer,u)})(n,e)}function $3(n,e,t){return n instanceof Bu?eI(n,e):n instanceof zu?tI(n,e):t}function ZC(n,e){return n instanceof Df?(function(r){return Fy(r)||(function(o){return!!o&&"doubleValue"in o})(r)})(e)?e:{integerValue:0}:null}class $u extends Rp{}class Bu extends Rp{constructor(e){super(),this.elements=e}}function eI(n,e){const t=nI(e);for(const r of n.elements)t.some((s=>$s(s,r)))||t.push(r);return{arrayValue:{values:t}}}class zu extends Rp{constructor(e){super(),this.elements=e}}function tI(n,e){let t=nI(e);for(const r of n.elements)t=t.filter((s=>!$s(s,r)));return{arrayValue:{values:t}}}class Df extends Rp{constructor(e,t){super(),this.serializer=e,this.Ae=t}}function mb(n){return Bt(n.integerValue||n.doubleValue)}function nI(n){return a_(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}class B3{constructor(e,t){this.field=e,this.transform=t}}function z3(n,e){return n.field.isEqual(e.field)&&(function(r,s){return r instanceof Bu&&s instanceof Bu||r instanceof zu&&s instanceof zu?$l(r.elements,s.elements,$s):r instanceof Df&&s instanceof Df?$s(r.Ae,s.Ae):r instanceof $u&&s instanceof $u})(n.transform,e.transform)}class W3{constructor(e,t){this.version=e,this.transformResults=t}}class jn{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new jn}static exists(e){return new jn(void 0,e)}static updateTime(e){return new jn(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function af(n,e){return n.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(n.updateTime):n.exists===void 0||n.exists===e.isFoundDocument()}class Np{}function rI(n,e){if(!n.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return n.isNoDocument()?new d_(n.key,jn.none()):new dd(n.key,n.data,jn.none());{const t=n.data,r=Ln.empty();let s=new en(vn.comparator);for(let o of e.fields)if(!s.has(o)){let l=t.field(o);l===null&&o.length>1&&(o=o.popLast(),l=t.field(o)),l===null?r.delete(o):r.set(o,l),s=s.add(o)}return new ko(n.key,r,new gr(s.toArray()),jn.none())}}function H3(n,e,t){n instanceof dd?(function(s,o,l){const u=s.value.clone(),f=yb(s.fieldTransforms,o,l.transformResults);u.setAll(f),o.convertToFoundDocument(l.version,u).setHasCommittedMutations()})(n,e,t):n instanceof ko?(function(s,o,l){if(!af(s.precondition,o))return void o.convertToUnknownDocument(l.version);const u=yb(s.fieldTransforms,o,l.transformResults),f=o.data;f.setAll(sI(s)),f.setAll(u),o.convertToFoundDocument(l.version,f).setHasCommittedMutations()})(n,e,t):(function(s,o,l){o.convertToNoDocument(l.version).setHasCommittedMutations()})(0,e,t)}function wu(n,e,t,r){return n instanceof dd?(function(o,l,u,f){if(!af(o.precondition,l))return u;const m=o.value.clone(),g=vb(o.fieldTransforms,f,l);return m.setAll(g),l.convertToFoundDocument(l.version,m).setHasLocalMutations(),null})(n,e,t,r):n instanceof ko?(function(o,l,u,f){if(!af(o.precondition,l))return u;const m=vb(o.fieldTransforms,f,l),g=l.data;return g.setAll(sI(o)),g.setAll(m),l.convertToFoundDocument(l.version,g).setHasLocalMutations(),u===null?null:u.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map((v=>v.field)))})(n,e,t,r):(function(o,l,u){return af(o.precondition,l)?(l.convertToNoDocument(l.version).setHasLocalMutations(),null):u})(n,e,t)}function q3(n,e){let t=null;for(const r of n.fieldTransforms){const s=e.data.field(r.field),o=ZC(r.transform,s||null);o!=null&&(t===null&&(t=Ln.empty()),t.set(r.field,o))}return t||null}function gb(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&!!(function(r,s){return r===void 0&&s===void 0||!(!r||!s)&&$l(r,s,((o,l)=>z3(o,l)))})(n.fieldTransforms,e.fieldTransforms)&&(n.type===0?n.value.isEqual(e.value):n.type!==1||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask))}class dd extends Np{constructor(e,t,r,s=[]){super(),this.key=e,this.value=t,this.precondition=r,this.fieldTransforms=s,this.type=0}getFieldMask(){return null}}class ko extends Np{constructor(e,t,r,s,o=[]){super(),this.key=e,this.data=t,this.fieldMask=r,this.precondition=s,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}}function sI(n){const e=new Map;return n.fieldMask.fields.forEach((t=>{if(!t.isEmpty()){const r=n.data.field(t);e.set(t,r)}})),e}function yb(n,e,t){const r=new Map;ot(n.length===t.length,32656,{Ve:t.length,de:n.length});for(let s=0;s<t.length;s++){const o=n[s],l=o.transform,u=e.data.field(o.field);r.set(o.field,$3(l,u,t[s]))}return r}function vb(n,e,t){const r=new Map;for(const s of n){const o=s.transform,l=t.data.field(s.field);r.set(s.field,U3(o,l,e))}return r}class d_ extends Np{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class iI extends Np{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class G3{constructor(e,t,r,s){this.batchId=e,this.localWriteTime=t,this.baseMutations=r,this.mutations=s}applyToRemoteDocument(e,t){const r=t.mutationResults;for(let s=0;s<this.mutations.length;s++){const o=this.mutations[s];o.key.isEqual(e.key)&&H3(o,e,r[s])}}applyToLocalView(e,t){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(t=wu(r,e,t,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(t=wu(r,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const r=XC();return this.mutations.forEach((s=>{const o=e.get(s.key),l=o.overlayedDocument;let u=this.applyToLocalView(l,o.mutatedFields);u=t.has(s.key)?null:u;const f=rI(l,u);f!==null&&r.set(s.key,f),l.isValidDocument()||l.convertToNoDocument(Fe.min())})),r}keys(){return this.mutations.reduce(((e,t)=>e.add(t.key)),nt())}isEqual(e){return this.batchId===e.batchId&&$l(this.mutations,e.mutations,((t,r)=>gb(t,r)))&&$l(this.baseMutations,e.baseMutations,((t,r)=>gb(t,r)))}}class h_{constructor(e,t,r,s){this.batch=e,this.commitVersion=t,this.mutationResults=r,this.docVersions=s}static from(e,t,r){ot(e.mutations.length===r.length,58842,{me:e.mutations.length,fe:r.length});let s=(function(){return O3})();const o=e.mutations;for(let l=0;l<o.length;l++)s=s.insert(o[l].key,r[l].version);return new h_(e,t,r,s)}}let K3=class{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}};class Q3{constructor(e,t){this.count=e,this.unchangedNames=t}}var qt,it;function oI(n){switch(n){case te.OK:return De(64938);case te.CANCELLED:case te.UNKNOWN:case te.DEADLINE_EXCEEDED:case te.RESOURCE_EXHAUSTED:case te.INTERNAL:case te.UNAVAILABLE:case te.UNAUTHENTICATED:return!1;case te.INVALID_ARGUMENT:case te.NOT_FOUND:case te.ALREADY_EXISTS:case te.PERMISSION_DENIED:case te.FAILED_PRECONDITION:case te.ABORTED:case te.OUT_OF_RANGE:case te.UNIMPLEMENTED:case te.DATA_LOSS:return!0;default:return De(15467,{code:n})}}function aI(n){if(n===void 0)return _i("GRPC error has no .code"),te.UNKNOWN;switch(n){case qt.OK:return te.OK;case qt.CANCELLED:return te.CANCELLED;case qt.UNKNOWN:return te.UNKNOWN;case qt.DEADLINE_EXCEEDED:return te.DEADLINE_EXCEEDED;case qt.RESOURCE_EXHAUSTED:return te.RESOURCE_EXHAUSTED;case qt.INTERNAL:return te.INTERNAL;case qt.UNAVAILABLE:return te.UNAVAILABLE;case qt.UNAUTHENTICATED:return te.UNAUTHENTICATED;case qt.INVALID_ARGUMENT:return te.INVALID_ARGUMENT;case qt.NOT_FOUND:return te.NOT_FOUND;case qt.ALREADY_EXISTS:return te.ALREADY_EXISTS;case qt.PERMISSION_DENIED:return te.PERMISSION_DENIED;case qt.FAILED_PRECONDITION:return te.FAILED_PRECONDITION;case qt.ABORTED:return te.ABORTED;case qt.OUT_OF_RANGE:return te.OUT_OF_RANGE;case qt.UNIMPLEMENTED:return te.UNIMPLEMENTED;case qt.DATA_LOSS:return te.DATA_LOSS;default:return De(39323,{code:n})}}(it=qt||(qt={}))[it.OK=0]="OK",it[it.CANCELLED=1]="CANCELLED",it[it.UNKNOWN=2]="UNKNOWN",it[it.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",it[it.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",it[it.NOT_FOUND=5]="NOT_FOUND",it[it.ALREADY_EXISTS=6]="ALREADY_EXISTS",it[it.PERMISSION_DENIED=7]="PERMISSION_DENIED",it[it.UNAUTHENTICATED=16]="UNAUTHENTICATED",it[it.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",it[it.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",it[it.ABORTED=10]="ABORTED",it[it.OUT_OF_RANGE=11]="OUT_OF_RANGE",it[it.UNIMPLEMENTED=12]="UNIMPLEMENTED",it[it.INTERNAL=13]="INTERNAL",it[it.UNAVAILABLE=14]="UNAVAILABLE",it[it.DATA_LOSS=15]="DATA_LOSS";function Y3(){return new TextEncoder}const X3=new uo([4294967295,4294967295],0);function _b(n){const e=Y3().encode(n),t=new wC;return t.update(e),new Uint8Array(t.digest())}function wb(n){const e=new DataView(n.buffer),t=e.getUint32(0,!0),r=e.getUint32(4,!0),s=e.getUint32(8,!0),o=e.getUint32(12,!0);return[new uo([t,r],0),new uo([s,o],0)]}class f_{constructor(e,t,r){if(this.bitmap=e,this.padding=t,this.hashCount=r,t<0||t>=8)throw new lu(`Invalid padding: ${t}`);if(r<0)throw new lu(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new lu(`Invalid hash count: ${r}`);if(e.length===0&&t!==0)throw new lu(`Invalid padding when bitmap length is 0: ${t}`);this.ge=8*e.length-t,this.pe=uo.fromNumber(this.ge)}ye(e,t,r){let s=e.add(t.multiply(uo.fromNumber(r)));return s.compare(X3)===1&&(s=new uo([s.getBits(0),s.getBits(1)],0)),s.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const t=_b(e),[r,s]=wb(t);for(let o=0;o<this.hashCount;o++){const l=this.ye(r,s,o);if(!this.we(l))return!1}return!0}static create(e,t,r){const s=e%8==0?0:8-e%8,o=new Uint8Array(Math.ceil(e/8)),l=new f_(o,s,t);return r.forEach((u=>l.insert(u))),l}insert(e){if(this.ge===0)return;const t=_b(e),[r,s]=wb(t);for(let o=0;o<this.hashCount;o++){const l=this.ye(r,s,o);this.be(l)}}be(e){const t=Math.floor(e/8),r=e%8;this.bitmap[t]|=1<<r}}class lu extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class Ap{constructor(e,t,r,s,o){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=r,this.documentUpdates=s,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(e,t,r){const s=new Map;return s.set(e,hd.createSynthesizedTargetChangeForCurrentChange(e,t,r)),new Ap(Fe.min(),s,new Ot(tt),wi(),nt())}}class hd{constructor(e,t,r,s,o){this.resumeToken=e,this.current=t,this.addedDocuments=r,this.modifiedDocuments=s,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(e,t,r){return new hd(r,t,nt(),nt(),nt())}}class lf{constructor(e,t,r,s){this.Se=e,this.removedTargetIds=t,this.key=r,this.De=s}}class lI{constructor(e,t){this.targetId=e,this.Ce=t}}class cI{constructor(e,t,r=wn.EMPTY_BYTE_STRING,s=null){this.state=e,this.targetIds=t,this.resumeToken=r,this.cause=s}}class xb{constructor(){this.ve=0,this.Fe=Eb(),this.Me=wn.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=nt(),t=nt(),r=nt();return this.Fe.forEach(((s,o)=>{switch(o){case 0:e=e.add(s);break;case 2:t=t.add(s);break;case 1:r=r.add(s);break;default:De(38017,{changeType:o})}})),new hd(this.Me,this.xe,e,t,r)}Ke(){this.Oe=!1,this.Fe=Eb()}qe(e,t){this.Oe=!0,this.Fe=this.Fe.insert(e,t)}Ue(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}$e(){this.ve+=1}We(){this.ve-=1,ot(this.ve>=0,3241,{ve:this.ve})}Qe(){this.Oe=!0,this.xe=!0}}class J3{constructor(e){this.Ge=e,this.ze=new Map,this.je=wi(),this.He=$h(),this.Je=$h(),this.Ze=new Ot(tt)}Xe(e){for(const t of e.Se)e.De&&e.De.isFoundDocument()?this.Ye(t,e.De):this.et(t,e.key,e.De);for(const t of e.removedTargetIds)this.et(t,e.key,e.De)}tt(e){this.forEachTarget(e,(t=>{const r=this.nt(t);switch(e.state){case 0:this.rt(t)&&r.Le(e.resumeToken);break;case 1:r.We(),r.Ne||r.Ke(),r.Le(e.resumeToken);break;case 2:r.We(),r.Ne||this.removeTarget(t);break;case 3:this.rt(t)&&(r.Qe(),r.Le(e.resumeToken));break;case 4:this.rt(t)&&(this.it(t),r.Le(e.resumeToken));break;default:De(56790,{state:e.state})}}))}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.ze.forEach(((r,s)=>{this.rt(s)&&t(s)}))}st(e){const t=e.targetId,r=e.Ce.count,s=this.ot(t);if(s){const o=s.target;if($y(o))if(r===0){const l=new je(o.path);this.et(t,l,cn.newNoDocument(l,Fe.min()))}else ot(r===1,20013,{expectedCount:r});else{const l=this._t(t);if(l!==r){const u=this.ut(e),f=u?this.ct(u,e,l):1;if(f!==0){this.it(t);const m=f===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(t,m)}}}}}ut(e){const t=e.Ce.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:r="",padding:s=0},hashCount:o=0}=t;let l,u;try{l=xo(r).toUint8Array()}catch(f){if(f instanceof PC)return Ul("Decoding the base64 bloom filter in existence filter failed ("+f.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw f}try{u=new f_(l,s,o)}catch(f){return Ul(f instanceof lu?"BloomFilter error: ":"Applying bloom filter failed: ",f),null}return u.ge===0?null:u}ct(e,t,r){return t.Ce.count===r-this.Pt(e,t.targetId)?0:2}Pt(e,t){const r=this.Ge.getRemoteKeysForTarget(t);let s=0;return r.forEach((o=>{const l=this.Ge.ht(),u=`projects/${l.projectId}/databases/${l.database}/documents/${o.path.canonicalString()}`;e.mightContain(u)||(this.et(t,o,null),s++)})),s}Tt(e){const t=new Map;this.ze.forEach(((o,l)=>{const u=this.ot(l);if(u){if(o.current&&$y(u.target)){const f=new je(u.target.path);this.It(f).has(l)||this.Et(l,f)||this.et(l,f,cn.newNoDocument(f,e))}o.Be&&(t.set(l,o.ke()),o.Ke())}}));let r=nt();this.Je.forEach(((o,l)=>{let u=!0;l.forEachWhile((f=>{const m=this.ot(f);return!m||m.purpose==="TargetPurposeLimboResolution"||(u=!1,!1)})),u&&(r=r.add(o))})),this.je.forEach(((o,l)=>l.setReadTime(e)));const s=new Ap(e,t,this.Ze,this.je,r);return this.je=wi(),this.He=$h(),this.Je=$h(),this.Ze=new Ot(tt),s}Ye(e,t){if(!this.rt(e))return;const r=this.Et(e,t.key)?2:0;this.nt(e).qe(t.key,r),this.je=this.je.insert(t.key,t),this.He=this.He.insert(t.key,this.It(t.key).add(e)),this.Je=this.Je.insert(t.key,this.Rt(t.key).add(e))}et(e,t,r){if(!this.rt(e))return;const s=this.nt(e);this.Et(e,t)?s.qe(t,1):s.Ue(t),this.Je=this.Je.insert(t,this.Rt(t).delete(e)),this.Je=this.Je.insert(t,this.Rt(t).add(e)),r&&(this.je=this.je.insert(t,r))}removeTarget(e){this.ze.delete(e)}_t(e){const t=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}$e(e){this.nt(e).$e()}nt(e){let t=this.ze.get(e);return t||(t=new xb,this.ze.set(e,t)),t}Rt(e){let t=this.Je.get(e);return t||(t=new en(tt),this.Je=this.Je.insert(e,t)),t}It(e){let t=this.He.get(e);return t||(t=new en(tt),this.He=this.He.insert(e,t)),t}rt(e){const t=this.ot(e)!==null;return t||xe("WatchChangeAggregator","Detected inactive target",e),t}ot(e){const t=this.ze.get(e);return t&&t.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new xb),this.Ge.getRemoteKeysForTarget(e).forEach((t=>{this.et(e,t,null)}))}Et(e,t){return this.Ge.getRemoteKeysForTarget(e).has(t)}}function $h(){return new Ot(je.comparator)}function Eb(){return new Ot(je.comparator)}const Z3={asc:"ASCENDING",desc:"DESCENDING"},e5={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},t5={and:"AND",or:"OR"};class n5{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function Wy(n,e){return n.useProto3Json||ud(e)?e:{value:e}}function Of(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function uI(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function r5(n,e){return Of(n,e.toTimestamp())}function vr(n){return ot(!!n,49232),Fe.fromTimestamp((function(t){const r=wo(t);return new It(r.seconds,r.nanos)})(n))}function p_(n,e){return Hy(n,e).canonicalString()}function Hy(n,e){const t=(function(s){return new vt(["projects",s.projectId,"databases",s.database])})(n).child("documents");return e===void 0?t:t.child(e)}function dI(n){const e=vt.fromString(n);return ot(yI(e),10190,{key:e.toString()}),e}function Mf(n,e){return p_(n.databaseId,e.path)}function xu(n,e){const t=dI(e);if(t.get(1)!==n.databaseId.projectId)throw new ge(te.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new ge(te.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new je(fI(t))}function hI(n,e){return p_(n.databaseId,e)}function s5(n){const e=dI(n);return e.length===4?vt.emptyPath():fI(e)}function qy(n){return new vt(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function fI(n){return ot(n.length>4&&n.get(4)==="documents",29091,{key:n.toString()}),n.popFirst(5)}function bb(n,e,t){return{name:Mf(n,e),fields:t.value.mapValue.fields}}function i5(n,e){return"found"in e?(function(r,s){ot(!!s.found,43571),s.found.name,s.found.updateTime;const o=xu(r,s.found.name),l=vr(s.found.updateTime),u=s.found.createTime?vr(s.found.createTime):Fe.min(),f=new Ln({mapValue:{fields:s.found.fields}});return cn.newFoundDocument(o,l,u,f)})(n,e):"missing"in e?(function(r,s){ot(!!s.missing,3894),ot(!!s.readTime,22933);const o=xu(r,s.missing),l=vr(s.readTime);return cn.newNoDocument(o,l)})(n,e):De(7234,{result:e})}function o5(n,e){let t;if("targetChange"in e){e.targetChange;const r=(function(m){return m==="NO_CHANGE"?0:m==="ADD"?1:m==="REMOVE"?2:m==="CURRENT"?3:m==="RESET"?4:De(39313,{state:m})})(e.targetChange.targetChangeType||"NO_CHANGE"),s=e.targetChange.targetIds||[],o=(function(m,g){return m.useProto3Json?(ot(g===void 0||typeof g=="string",58123),wn.fromBase64String(g||"")):(ot(g===void 0||g instanceof Buffer||g instanceof Uint8Array,16193),wn.fromUint8Array(g||new Uint8Array))})(n,e.targetChange.resumeToken),l=e.targetChange.cause,u=l&&(function(m){const g=m.code===void 0?te.UNKNOWN:aI(m.code);return new ge(g,m.message||"")})(l);t=new cI(r,s,o,u||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const s=xu(n,r.document.name),o=vr(r.document.updateTime),l=r.document.createTime?vr(r.document.createTime):Fe.min(),u=new Ln({mapValue:{fields:r.document.fields}}),f=cn.newFoundDocument(s,o,l,u),m=r.targetIds||[],g=r.removedTargetIds||[];t=new lf(m,g,f.key,f)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const s=xu(n,r.document),o=r.readTime?vr(r.readTime):Fe.min(),l=cn.newNoDocument(s,o),u=r.removedTargetIds||[];t=new lf([],u,l.key,l)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const s=xu(n,r.document),o=r.removedTargetIds||[];t=new lf([],o,s,null)}else{if(!("filter"in e))return De(11601,{Vt:e});{e.filter;const r=e.filter;r.targetId;const{count:s=0,unchangedNames:o}=r,l=new Q3(s,o),u=r.targetId;t=new lI(u,l)}}return t}function pI(n,e){let t;if(e instanceof dd)t={update:bb(n,e.key,e.value)};else if(e instanceof d_)t={delete:Mf(n,e.key)};else if(e instanceof ko)t={update:bb(n,e.key,e.data),updateMask:m5(e.fieldMask)};else{if(!(e instanceof iI))return De(16599,{dt:e.type});t={verify:Mf(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map((r=>(function(o,l){const u=l.transform;if(u instanceof $u)return{fieldPath:l.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(u instanceof Bu)return{fieldPath:l.field.canonicalString(),appendMissingElements:{values:u.elements}};if(u instanceof zu)return{fieldPath:l.field.canonicalString(),removeAllFromArray:{values:u.elements}};if(u instanceof Df)return{fieldPath:l.field.canonicalString(),increment:u.Ae};throw De(20930,{transform:l.transform})})(0,r)))),e.precondition.isNone||(t.currentDocument=(function(s,o){return o.updateTime!==void 0?{updateTime:r5(s,o.updateTime)}:o.exists!==void 0?{exists:o.exists}:De(27497)})(n,e.precondition)),t}function a5(n,e){return n&&n.length>0?(ot(e!==void 0,14353),n.map((t=>(function(s,o){let l=s.updateTime?vr(s.updateTime):vr(o);return l.isEqual(Fe.min())&&(l=vr(o)),new W3(l,s.transformResults||[])})(t,e)))):[]}function l5(n,e){return{documents:[hI(n,e.path)]}}function c5(n,e){const t={structuredQuery:{}},r=e.path;let s;e.collectionGroup!==null?(s=r,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(s=r.popLast(),t.structuredQuery.from=[{collectionId:r.lastSegment()}]),t.parent=hI(n,s);const o=(function(m){if(m.length!==0)return gI(Zr.create(m,"and"))})(e.filters);o&&(t.structuredQuery.where=o);const l=(function(m){if(m.length!==0)return m.map((g=>(function(E){return{field:Sl(E.field),direction:h5(E.dir)}})(g)))})(e.orderBy);l&&(t.structuredQuery.orderBy=l);const u=Wy(n,e.limit);return u!==null&&(t.structuredQuery.limit=u),e.startAt&&(t.structuredQuery.startAt=(function(m){return{before:m.inclusive,values:m.position}})(e.startAt)),e.endAt&&(t.structuredQuery.endAt=(function(m){return{before:!m.inclusive,values:m.position}})(e.endAt)),{ft:t,parent:s}}function u5(n){let e=s5(n.parent);const t=n.structuredQuery,r=t.from?t.from.length:0;let s=null;if(r>0){ot(r===1,65062);const g=t.from[0];g.allDescendants?s=g.collectionId:e=e.child(g.collectionId)}let o=[];t.where&&(o=(function(v){const E=mI(v);return E instanceof Zr&&BC(E)?E.getFilters():[E]})(t.where));let l=[];t.orderBy&&(l=(function(v){return v.map((E=>(function(I){return new Uu(Cl(I.field),(function(C){switch(C){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(I.direction))})(E)))})(t.orderBy));let u=null;t.limit&&(u=(function(v){let E;return E=typeof v=="object"?v.value:v,ud(E)?null:E})(t.limit));let f=null;t.startAt&&(f=(function(v){const E=!!v.before,b=v.values||[];return new jf(b,E)})(t.startAt));let m=null;return t.endAt&&(m=(function(v){const E=!v.before,b=v.values||[];return new jf(b,E)})(t.endAt)),R3(e,s,l,o,u,"F",f,m)}function d5(n,e){const t=(function(s){switch(s){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return De(28987,{purpose:s})}})(e.purpose);return t==null?null:{"goog-listen-tags":t}}function mI(n){return n.unaryFilter!==void 0?(function(t){switch(t.unaryFilter.op){case"IS_NAN":const r=Cl(t.unaryFilter.field);return Kt.create(r,"==",{doubleValue:NaN});case"IS_NULL":const s=Cl(t.unaryFilter.field);return Kt.create(s,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const o=Cl(t.unaryFilter.field);return Kt.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const l=Cl(t.unaryFilter.field);return Kt.create(l,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return De(61313);default:return De(60726)}})(n):n.fieldFilter!==void 0?(function(t){return Kt.create(Cl(t.fieldFilter.field),(function(s){switch(s){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return De(58110);default:return De(50506)}})(t.fieldFilter.op),t.fieldFilter.value)})(n):n.compositeFilter!==void 0?(function(t){return Zr.create(t.compositeFilter.filters.map((r=>mI(r))),(function(s){switch(s){case"AND":return"and";case"OR":return"or";default:return De(1026)}})(t.compositeFilter.op))})(n):De(30097,{filter:n})}function h5(n){return Z3[n]}function f5(n){return e5[n]}function p5(n){return t5[n]}function Sl(n){return{fieldPath:n.canonicalString()}}function Cl(n){return vn.fromServerFormat(n.fieldPath)}function gI(n){return n instanceof Kt?(function(t){if(t.op==="=="){if(ub(t.value))return{unaryFilter:{field:Sl(t.field),op:"IS_NAN"}};if(cb(t.value))return{unaryFilter:{field:Sl(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(ub(t.value))return{unaryFilter:{field:Sl(t.field),op:"IS_NOT_NAN"}};if(cb(t.value))return{unaryFilter:{field:Sl(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Sl(t.field),op:f5(t.op),value:t.value}}})(n):n instanceof Zr?(function(t){const r=t.getFilters().map((s=>gI(s)));return r.length===1?r[0]:{compositeFilter:{op:p5(t.op),filters:r}}})(n):De(54877,{filter:n})}function m5(n){const e=[];return n.fields.forEach((t=>e.push(t.canonicalString()))),{fieldPaths:e}}function yI(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}function vI(n){return!!n&&typeof n._toProto=="function"&&n._protoValueType==="ProtoValue"}class so{constructor(e,t,r,s,o=Fe.min(),l=Fe.min(),u=wn.EMPTY_BYTE_STRING,f=null){this.target=e,this.targetId=t,this.purpose=r,this.sequenceNumber=s,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=l,this.resumeToken=u,this.expectedCount=f}withSequenceNumber(e){return new so(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new so(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new so(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new so(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class g5{constructor(e){this.yt=e}}function y5(n){const e=u5({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?zy(e,e.limit,"L"):e}class v5{constructor(){this.Sn=new _5}addToCollectionParentIndex(e,t){return this.Sn.add(t),se.resolve()}getCollectionParents(e,t){return se.resolve(this.Sn.getEntries(t))}addFieldIndex(e,t){return se.resolve()}deleteFieldIndex(e,t){return se.resolve()}deleteAllFieldIndexes(e){return se.resolve()}createTargetIndexes(e,t){return se.resolve()}getDocumentsMatchingTarget(e,t){return se.resolve(null)}getIndexType(e,t){return se.resolve(0)}getFieldIndexes(e,t){return se.resolve([])}getNextCollectionGroupToUpdate(e){return se.resolve(null)}getMinOffset(e,t){return se.resolve(_o.min())}getMinOffsetFromCollectionGroup(e,t){return se.resolve(_o.min())}updateCollectionGroup(e,t,r){return se.resolve()}updateIndexEntries(e,t){return se.resolve()}}class _5{constructor(){this.index={}}add(e){const t=e.lastSegment(),r=e.popLast(),s=this.index[t]||new en(vt.comparator),o=!s.has(r);return this.index[t]=s.add(r),o}has(e){const t=e.lastSegment(),r=e.popLast(),s=this.index[t];return s&&s.has(r)}getEntries(e){return(this.index[e]||new en(vt.comparator)).toArray()}}const Tb={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},_I=41943040;class Qn{static withCacheSize(e){return new Qn(e,Qn.DEFAULT_COLLECTION_PERCENTILE,Qn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=r}}Qn.DEFAULT_COLLECTION_PERCENTILE=10,Qn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Qn.DEFAULT=new Qn(_I,Qn.DEFAULT_COLLECTION_PERCENTILE,Qn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Qn.DISABLED=new Qn(-1,0,0);class Wl{constructor(e){this.sr=e}next(){return this.sr+=2,this.sr}static _r(){return new Wl(0)}static ar(){return new Wl(-1)}}const Sb="LruGarbageCollector",w5=1048576;function Cb([n,e],[t,r]){const s=tt(n,t);return s===0?tt(e,r):s}class x5{constructor(e){this.Pr=e,this.buffer=new en(Cb),this.Tr=0}Ir(){return++this.Tr}Er(e){const t=[e,this.Ir()];if(this.buffer.size<this.Pr)this.buffer=this.buffer.add(t);else{const r=this.buffer.last();Cb(t,r)<0&&(this.buffer=this.buffer.delete(r).add(t))}}get maxValue(){return this.buffer.last()[0]}}class E5{constructor(e,t,r){this.garbageCollector=e,this.asyncQueue=t,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Ar(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Ar(e){xe(Sb,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(t){ac(t)?xe(Sb,"Ignoring IndexedDB error during garbage collection: ",t):await oc(t)}await this.Ar(3e5)}))}}class b5{constructor(e,t){this.Vr=e,this.params=t}calculateTargetCount(e,t){return this.Vr.dr(e).next((r=>Math.floor(t/100*r)))}nthSequenceNumber(e,t){if(t===0)return se.resolve(bp.ce);const r=new x5(t);return this.Vr.forEachTarget(e,(s=>r.Er(s.sequenceNumber))).next((()=>this.Vr.mr(e,(s=>r.Er(s))))).next((()=>r.maxValue))}removeTargets(e,t,r){return this.Vr.removeTargets(e,t,r)}removeOrphanedDocuments(e,t){return this.Vr.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(xe("LruGarbageCollector","Garbage collection skipped; disabled"),se.resolve(Tb)):this.getCacheSize(e).next((r=>r<this.params.cacheSizeCollectionThreshold?(xe("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Tb):this.gr(e,t)))}getCacheSize(e){return this.Vr.getCacheSize(e)}gr(e,t){let r,s,o,l,u,f,m;const g=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((v=>(v>this.params.maximumSequenceNumbersToCollect?(xe("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${v}`),s=this.params.maximumSequenceNumbersToCollect):s=v,l=Date.now(),this.nthSequenceNumber(e,s)))).next((v=>(r=v,u=Date.now(),this.removeTargets(e,r,t)))).next((v=>(o=v,f=Date.now(),this.removeOrphanedDocuments(e,r)))).next((v=>(m=Date.now(),bl()<=et.DEBUG&&xe("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${l-g}ms
	Determined least recently used ${s} in `+(u-l)+`ms
	Removed ${o} targets in `+(f-u)+`ms
	Removed ${v} documents in `+(m-f)+`ms
Total Duration: ${m-g}ms`),se.resolve({didRun:!0,sequenceNumbersCollected:s,targetsRemoved:o,documentsRemoved:v}))))}}function T5(n,e){return new b5(n,e)}class S5{constructor(){this.changes=new ja((e=>e.toString()),((e,t)=>e.isEqual(t))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,cn.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const r=this.changes.get(t);return r!==void 0?se.resolve(r):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class C5{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class I5{constructor(e,t,r,s){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=r,this.indexManager=s}getDocument(e,t){let r=null;return this.documentOverlayCache.getOverlay(e,t).next((s=>(r=s,this.remoteDocumentCache.getEntry(e,t)))).next((s=>(r!==null&&wu(r.mutation,s,gr.empty(),It.now()),s)))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next((r=>this.getLocalViewOfDocuments(e,r,nt()).next((()=>r))))}getLocalViewOfDocuments(e,t,r=nt()){const s=ca();return this.populateOverlays(e,s,t).next((()=>this.computeViews(e,t,s,r).next((o=>{let l=au();return o.forEach(((u,f)=>{l=l.insert(u,f.overlayedDocument)})),l}))))}getOverlayedDocuments(e,t){const r=ca();return this.populateOverlays(e,r,t).next((()=>this.computeViews(e,t,r,nt())))}populateOverlays(e,t,r){const s=[];return r.forEach((o=>{t.has(o)||s.push(o)})),this.documentOverlayCache.getOverlays(e,s).next((o=>{o.forEach(((l,u)=>{t.set(l,u)}))}))}computeViews(e,t,r,s){let o=wi();const l=_u(),u=(function(){return _u()})();return t.forEach(((f,m)=>{const g=r.get(m.key);s.has(m.key)&&(g===void 0||g.mutation instanceof ko)?o=o.insert(m.key,m):g!==void 0?(l.set(m.key,g.mutation.getFieldMask()),wu(g.mutation,m,g.mutation.getFieldMask(),It.now())):l.set(m.key,gr.empty())})),this.recalculateAndSaveOverlays(e,o).next((f=>(f.forEach(((m,g)=>l.set(m,g))),t.forEach(((m,g)=>u.set(m,new C5(g,l.get(m)??null)))),u)))}recalculateAndSaveOverlays(e,t){const r=_u();let s=new Ot(((l,u)=>l-u)),o=nt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next((l=>{for(const u of l)u.keys().forEach((f=>{const m=t.get(f);if(m===null)return;let g=r.get(f)||gr.empty();g=u.applyToLocalView(m,g),r.set(f,g);const v=(s.get(u.batchId)||nt()).add(f);s=s.insert(u.batchId,v)}))})).next((()=>{const l=[],u=s.getReverseIterator();for(;u.hasNext();){const f=u.getNext(),m=f.key,g=f.value,v=XC();g.forEach((E=>{if(!o.has(E)){const b=rI(t.get(E),r.get(E));b!==null&&v.set(E,b),o=o.add(E)}})),l.push(this.documentOverlayCache.saveOverlays(e,m,v))}return se.waitFor(l)})).next((()=>r))}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next((r=>this.recalculateAndSaveOverlays(e,r)))}getDocumentsMatchingQuery(e,t,r,s){return N3(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):qC(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,r,s):this.getDocumentsMatchingCollectionQuery(e,t,r,s)}getNextDocuments(e,t,r,s){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,r,s).next((o=>{const l=s-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,r.largestBatchId,s-o.size):se.resolve(ca());let u=Mu,f=o;return l.next((m=>se.forEach(m,((g,v)=>(u<v.largestBatchId&&(u=v.largestBatchId),o.get(g)?se.resolve():this.remoteDocumentCache.getEntry(e,g).next((E=>{f=f.insert(g,E)}))))).next((()=>this.populateOverlays(e,m,o))).next((()=>this.computeViews(e,f,m,nt()))).next((g=>({batchId:u,changes:YC(g)})))))}))}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new je(t)).next((r=>{let s=au();return r.isFoundDocument()&&(s=s.insert(r.key,r)),s}))}getDocumentsMatchingCollectionGroupQuery(e,t,r,s){const o=t.collectionGroup;let l=au();return this.indexManager.getCollectionParents(e,o).next((u=>se.forEach(u,(f=>{const m=(function(v,E){return new lc(E,null,v.explicitOrderBy.slice(),v.filters.slice(),v.limit,v.limitType,v.startAt,v.endAt)})(t,f.child(o));return this.getDocumentsMatchingCollectionQuery(e,m,r,s).next((g=>{g.forEach(((v,E)=>{l=l.insert(v,E)}))}))})).next((()=>l))))}getDocumentsMatchingCollectionQuery(e,t,r,s){let o;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,r.largestBatchId).next((l=>(o=l,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,r,o,s)))).next((l=>{o.forEach(((f,m)=>{const g=m.getKey();l.get(g)===null&&(l=l.insert(g,cn.newInvalidDocument(g)))}));let u=au();return l.forEach(((f,m)=>{const g=o.get(f);g!==void 0&&wu(g.mutation,m,gr.empty(),It.now()),Ip(t,m)&&(u=u.insert(f,m))})),u}))}}class R5{constructor(e){this.serializer=e,this.Nr=new Map,this.Br=new Map}getBundleMetadata(e,t){return se.resolve(this.Nr.get(t))}saveBundleMetadata(e,t){return this.Nr.set(t.id,(function(s){return{id:s.id,version:s.version,createTime:vr(s.createTime)}})(t)),se.resolve()}getNamedQuery(e,t){return se.resolve(this.Br.get(t))}saveNamedQuery(e,t){return this.Br.set(t.name,(function(s){return{name:s.name,query:y5(s.bundledQuery),readTime:vr(s.readTime)}})(t)),se.resolve()}}class N5{constructor(){this.overlays=new Ot(je.comparator),this.Lr=new Map}getOverlay(e,t){return se.resolve(this.overlays.get(t))}getOverlays(e,t){const r=ca();return se.forEach(t,(s=>this.getOverlay(e,s).next((o=>{o!==null&&r.set(s,o)})))).next((()=>r))}saveOverlays(e,t,r){return r.forEach(((s,o)=>{this.bt(e,t,o)})),se.resolve()}removeOverlaysForBatchId(e,t,r){const s=this.Lr.get(r);return s!==void 0&&(s.forEach((o=>this.overlays=this.overlays.remove(o))),this.Lr.delete(r)),se.resolve()}getOverlaysForCollection(e,t,r){const s=ca(),o=t.length+1,l=new je(t.child("")),u=this.overlays.getIteratorFrom(l);for(;u.hasNext();){const f=u.getNext().value,m=f.getKey();if(!t.isPrefixOf(m.path))break;m.path.length===o&&f.largestBatchId>r&&s.set(f.getKey(),f)}return se.resolve(s)}getOverlaysForCollectionGroup(e,t,r,s){let o=new Ot(((m,g)=>m-g));const l=this.overlays.getIterator();for(;l.hasNext();){const m=l.getNext().value;if(m.getKey().getCollectionGroup()===t&&m.largestBatchId>r){let g=o.get(m.largestBatchId);g===null&&(g=ca(),o=o.insert(m.largestBatchId,g)),g.set(m.getKey(),m)}}const u=ca(),f=o.getIterator();for(;f.hasNext()&&(f.getNext().value.forEach(((m,g)=>u.set(m,g))),!(u.size()>=s)););return se.resolve(u)}bt(e,t,r){const s=this.overlays.get(r.key);if(s!==null){const l=this.Lr.get(s.largestBatchId).delete(r.key);this.Lr.set(s.largestBatchId,l)}this.overlays=this.overlays.insert(r.key,new K3(t,r));let o=this.Lr.get(t);o===void 0&&(o=nt(),this.Lr.set(t,o)),this.Lr.set(t,o.add(r.key))}}class A5{constructor(){this.sessionToken=wn.EMPTY_BYTE_STRING}getSessionToken(e){return se.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,se.resolve()}}class m_{constructor(){this.kr=new en(an.Kr),this.qr=new en(an.Ur)}isEmpty(){return this.kr.isEmpty()}addReference(e,t){const r=new an(e,t);this.kr=this.kr.add(r),this.qr=this.qr.add(r)}$r(e,t){e.forEach((r=>this.addReference(r,t)))}removeReference(e,t){this.Wr(new an(e,t))}Qr(e,t){e.forEach((r=>this.removeReference(r,t)))}Gr(e){const t=new je(new vt([])),r=new an(t,e),s=new an(t,e+1),o=[];return this.qr.forEachInRange([r,s],(l=>{this.Wr(l),o.push(l.key)})),o}zr(){this.kr.forEach((e=>this.Wr(e)))}Wr(e){this.kr=this.kr.delete(e),this.qr=this.qr.delete(e)}jr(e){const t=new je(new vt([])),r=new an(t,e),s=new an(t,e+1);let o=nt();return this.qr.forEachInRange([r,s],(l=>{o=o.add(l.key)})),o}containsKey(e){const t=new an(e,0),r=this.kr.firstAfterOrEqual(t);return r!==null&&e.isEqual(r.key)}}class an{constructor(e,t){this.key=e,this.Hr=t}static Kr(e,t){return je.comparator(e.key,t.key)||tt(e.Hr,t.Hr)}static Ur(e,t){return tt(e.Hr,t.Hr)||je.comparator(e.key,t.key)}}class k5{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.Yn=1,this.Jr=new en(an.Kr)}checkEmpty(e){return se.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,r,s){const o=this.Yn;this.Yn++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const l=new G3(o,t,r,s);this.mutationQueue.push(l);for(const u of s)this.Jr=this.Jr.add(new an(u.key,o)),this.indexManager.addToCollectionParentIndex(e,u.key.path.popLast());return se.resolve(l)}lookupMutationBatch(e,t){return se.resolve(this.Zr(t))}getNextMutationBatchAfterBatchId(e,t){const r=t+1,s=this.Xr(r),o=s<0?0:s;return se.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return se.resolve(this.mutationQueue.length===0?i_:this.Yn-1)}getAllMutationBatches(e){return se.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const r=new an(t,0),s=new an(t,Number.POSITIVE_INFINITY),o=[];return this.Jr.forEachInRange([r,s],(l=>{const u=this.Zr(l.Hr);o.push(u)})),se.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new en(tt);return t.forEach((s=>{const o=new an(s,0),l=new an(s,Number.POSITIVE_INFINITY);this.Jr.forEachInRange([o,l],(u=>{r=r.add(u.Hr)}))})),se.resolve(this.Yr(r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,s=r.length+1;let o=r;je.isDocumentKey(o)||(o=o.child(""));const l=new an(new je(o),0);let u=new en(tt);return this.Jr.forEachWhile((f=>{const m=f.key.path;return!!r.isPrefixOf(m)&&(m.length===s&&(u=u.add(f.Hr)),!0)}),l),se.resolve(this.Yr(u))}Yr(e){const t=[];return e.forEach((r=>{const s=this.Zr(r);s!==null&&t.push(s)})),t}removeMutationBatch(e,t){ot(this.ei(t.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Jr;return se.forEach(t.mutations,(s=>{const o=new an(s.key,t.batchId);return r=r.delete(o),this.referenceDelegate.markPotentiallyOrphaned(e,s.key)})).next((()=>{this.Jr=r}))}nr(e){}containsKey(e,t){const r=new an(t,0),s=this.Jr.firstAfterOrEqual(r);return se.resolve(t.isEqual(s&&s.key))}performConsistencyCheck(e){return this.mutationQueue.length,se.resolve()}ei(e,t){return this.Xr(e)}Xr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Zr(e){const t=this.Xr(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class P5{constructor(e){this.ti=e,this.docs=(function(){return new Ot(je.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const r=t.key,s=this.docs.get(r),o=s?s.size:0,l=this.ti(t);return this.docs=this.docs.insert(r,{document:t.mutableCopy(),size:l}),this.size+=l-o,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const r=this.docs.get(t);return se.resolve(r?r.document.mutableCopy():cn.newInvalidDocument(t))}getEntries(e,t){let r=wi();return t.forEach((s=>{const o=this.docs.get(s);r=r.insert(s,o?o.document.mutableCopy():cn.newInvalidDocument(s))})),se.resolve(r)}getDocumentsMatchingQuery(e,t,r,s){let o=wi();const l=t.path,u=new je(l.child("__id-9223372036854775808__")),f=this.docs.getIteratorFrom(u);for(;f.hasNext();){const{key:m,value:{document:g}}=f.getNext();if(!l.isPrefixOf(m.path))break;m.path.length>l.length+1||i3(s3(g),r)<=0||(s.has(g.key)||Ip(t,g))&&(o=o.insert(g.key,g.mutableCopy()))}return se.resolve(o)}getAllFromCollectionGroup(e,t,r,s){De(9500)}ni(e,t){return se.forEach(this.docs,(r=>t(r)))}newChangeBuffer(e){return new j5(this)}getSize(e){return se.resolve(this.size)}}class j5 extends S5{constructor(e){super(),this.Mr=e}applyChanges(e){const t=[];return this.changes.forEach(((r,s)=>{s.isValidDocument()?t.push(this.Mr.addEntry(e,s)):this.Mr.removeEntry(r)})),se.waitFor(t)}getFromCache(e,t){return this.Mr.getEntry(e,t)}getAllFromCache(e,t){return this.Mr.getEntries(e,t)}}class D5{constructor(e){this.persistence=e,this.ri=new ja((t=>l_(t)),c_),this.lastRemoteSnapshotVersion=Fe.min(),this.highestTargetId=0,this.ii=0,this.si=new m_,this.targetCount=0,this.oi=Wl._r()}forEachTarget(e,t){return this.ri.forEach(((r,s)=>t(s))),se.resolve()}getLastRemoteSnapshotVersion(e){return se.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return se.resolve(this.ii)}allocateTargetId(e){return this.highestTargetId=this.oi.next(),se.resolve(this.highestTargetId)}setTargetsMetadata(e,t,r){return r&&(this.lastRemoteSnapshotVersion=r),t>this.ii&&(this.ii=t),se.resolve()}lr(e){this.ri.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.oi=new Wl(t),this.highestTargetId=t),e.sequenceNumber>this.ii&&(this.ii=e.sequenceNumber)}addTargetData(e,t){return this.lr(t),this.targetCount+=1,se.resolve()}updateTargetData(e,t){return this.lr(t),se.resolve()}removeTargetData(e,t){return this.ri.delete(t.target),this.si.Gr(t.targetId),this.targetCount-=1,se.resolve()}removeTargets(e,t,r){let s=0;const o=[];return this.ri.forEach(((l,u)=>{u.sequenceNumber<=t&&r.get(u.targetId)===null&&(this.ri.delete(l),o.push(this.removeMatchingKeysForTargetId(e,u.targetId)),s++)})),se.waitFor(o).next((()=>s))}getTargetCount(e){return se.resolve(this.targetCount)}getTargetData(e,t){const r=this.ri.get(t)||null;return se.resolve(r)}addMatchingKeys(e,t,r){return this.si.$r(t,r),se.resolve()}removeMatchingKeys(e,t,r){this.si.Qr(t,r);const s=this.persistence.referenceDelegate,o=[];return s&&t.forEach((l=>{o.push(s.markPotentiallyOrphaned(e,l))})),se.waitFor(o)}removeMatchingKeysForTargetId(e,t){return this.si.Gr(t),se.resolve()}getMatchingKeysForTargetId(e,t){const r=this.si.jr(t);return se.resolve(r)}containsKey(e,t){return se.resolve(this.si.containsKey(t))}}class wI{constructor(e,t){this._i={},this.overlays={},this.ai=new bp(0),this.ui=!1,this.ui=!0,this.ci=new A5,this.referenceDelegate=e(this),this.li=new D5(this),this.indexManager=new v5,this.remoteDocumentCache=(function(s){return new P5(s)})((r=>this.referenceDelegate.hi(r))),this.serializer=new g5(t),this.Pi=new R5(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.ui=!1,Promise.resolve()}get started(){return this.ui}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new N5,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let r=this._i[e.toKey()];return r||(r=new k5(t,this.referenceDelegate),this._i[e.toKey()]=r),r}getGlobalsCache(){return this.ci}getTargetCache(){return this.li}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Pi}runTransaction(e,t,r){xe("MemoryPersistence","Starting transaction:",e);const s=new O5(this.ai.next());return this.referenceDelegate.Ti(),r(s).next((o=>this.referenceDelegate.Ii(s).next((()=>o)))).toPromise().then((o=>(s.raiseOnCommittedEvent(),o)))}Ei(e,t){return se.or(Object.values(this._i).map((r=>()=>r.containsKey(e,t))))}}class O5 extends a3{constructor(e){super(),this.currentSequenceNumber=e}}class g_{constructor(e){this.persistence=e,this.Ri=new m_,this.Ai=null}static Vi(e){return new g_(e)}get di(){if(this.Ai)return this.Ai;throw De(60996)}addReference(e,t,r){return this.Ri.addReference(r,t),this.di.delete(r.toString()),se.resolve()}removeReference(e,t,r){return this.Ri.removeReference(r,t),this.di.add(r.toString()),se.resolve()}markPotentiallyOrphaned(e,t){return this.di.add(t.toString()),se.resolve()}removeTarget(e,t){this.Ri.Gr(t.targetId).forEach((s=>this.di.add(s.toString())));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next((s=>{s.forEach((o=>this.di.add(o.toString())))})).next((()=>r.removeTargetData(e,t)))}Ti(){this.Ai=new Set}Ii(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return se.forEach(this.di,(r=>{const s=je.fromPath(r);return this.mi(e,s).next((o=>{o||t.removeEntry(s,Fe.min())}))})).next((()=>(this.Ai=null,t.apply(e))))}updateLimboDocument(e,t){return this.mi(e,t).next((r=>{r?this.di.delete(t.toString()):this.di.add(t.toString())}))}hi(e){return 0}mi(e,t){return se.or([()=>se.resolve(this.Ri.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ei(e,t)])}}class Lf{constructor(e,t){this.persistence=e,this.fi=new ja((r=>u3(r.path)),((r,s)=>r.isEqual(s))),this.garbageCollector=T5(this,t)}static Vi(e,t){return new Lf(e,t)}Ti(){}Ii(e){return se.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}dr(e){const t=this.pr(e);return this.persistence.getTargetCache().getTargetCount(e).next((r=>t.next((s=>r+s))))}pr(e){let t=0;return this.mr(e,(r=>{t++})).next((()=>t))}mr(e,t){return se.forEach(this.fi,((r,s)=>this.wr(e,r,s).next((o=>o?se.resolve():t(s)))))}removeTargets(e,t,r){return this.persistence.getTargetCache().removeTargets(e,t,r)}removeOrphanedDocuments(e,t){let r=0;const s=this.persistence.getRemoteDocumentCache(),o=s.newChangeBuffer();return s.ni(e,(l=>this.wr(e,l,t).next((u=>{u||(r++,o.removeEntry(l,Fe.min()))})))).next((()=>o.apply(e))).next((()=>r))}markPotentiallyOrphaned(e,t){return this.fi.set(t,e.currentSequenceNumber),se.resolve()}removeTarget(e,t){const r=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,t,r){return this.fi.set(r,e.currentSequenceNumber),se.resolve()}removeReference(e,t,r){return this.fi.set(r,e.currentSequenceNumber),se.resolve()}updateLimboDocument(e,t){return this.fi.set(t,e.currentSequenceNumber),se.resolve()}hi(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=sf(e.data.value)),t}wr(e,t,r){return se.or([()=>this.persistence.Ei(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const s=this.fi.get(t);return se.resolve(s!==void 0&&s>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}class y_{constructor(e,t,r,s){this.targetId=e,this.fromCache=t,this.Ts=r,this.Is=s}static Es(e,t){let r=nt(),s=nt();for(const o of t.docChanges)switch(o.type){case 0:r=r.add(o.doc.key);break;case 1:s=s.add(o.doc.key)}return new y_(e,t.fromCache,r,s)}}class M5{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class L5{constructor(){this.Rs=!1,this.As=!1,this.Vs=100,this.ds=(function(){return h4()?8:l3(Dn())>0?6:4})()}initialize(e,t){this.fs=e,this.indexManager=t,this.Rs=!0}getDocumentsMatchingQuery(e,t,r,s){const o={result:null};return this.gs(e,t).next((l=>{o.result=l})).next((()=>{if(!o.result)return this.ps(e,t,s,r).next((l=>{o.result=l}))})).next((()=>{if(o.result)return;const l=new M5;return this.ys(e,t,l).next((u=>{if(o.result=u,this.As)return this.ws(e,t,l,u.size)}))})).next((()=>o.result))}ws(e,t,r,s){return r.documentReadCount<this.Vs?(bl()<=et.DEBUG&&xe("QueryEngine","SDK will not create cache indexes for query:",Tl(t),"since it only creates cache indexes for collection contains","more than or equal to",this.Vs,"documents"),se.resolve()):(bl()<=et.DEBUG&&xe("QueryEngine","Query:",Tl(t),"scans",r.documentReadCount,"local documents and returns",s,"documents as results."),r.documentReadCount>this.ds*s?(bl()<=et.DEBUG&&xe("QueryEngine","The SDK decides to create cache indexes for query:",Tl(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Ms(t))):se.resolve())}gs(e,t){if(pb(t))return se.resolve(null);let r=Ms(t);return this.indexManager.getIndexType(e,r).next((s=>s===0?null:(t.limit!==null&&s===1&&(t=zy(t,null,"F"),r=Ms(t)),this.indexManager.getDocumentsMatchingTarget(e,r).next((o=>{const l=nt(...o);return this.fs.getDocuments(e,l).next((u=>this.indexManager.getMinOffset(e,r).next((f=>{const m=this.bs(t,u);return this.Ss(t,m,l,f.readTime)?this.gs(e,zy(t,null,"F")):this.Ds(e,m,t,f)}))))})))))}ps(e,t,r,s){return pb(t)||s.isEqual(Fe.min())?se.resolve(null):this.fs.getDocuments(e,r).next((o=>{const l=this.bs(t,o);return this.Ss(t,l,r,s)?se.resolve(null):(bl()<=et.DEBUG&&xe("QueryEngine","Re-using previous result from %s to execute query: %s",s.toString(),Tl(t)),this.Ds(e,l,t,r3(s,Mu)).next((u=>u)))}))}bs(e,t){let r=new en(KC(e));return t.forEach(((s,o)=>{Ip(e,o)&&(r=r.add(o))})),r}Ss(e,t,r,s){if(e.limit===null)return!1;if(r.size!==t.size)return!0;const o=e.limitType==="F"?t.last():t.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(s)>0)}ys(e,t,r){return bl()<=et.DEBUG&&xe("QueryEngine","Using full collection scan to execute query:",Tl(t)),this.fs.getDocumentsMatchingQuery(e,t,_o.min(),r)}Ds(e,t,r,s){return this.fs.getDocumentsMatchingQuery(e,r,s).next((o=>(t.forEach((l=>{o=o.insert(l.key,l)})),o)))}}const v_="LocalStore",V5=3e8;class F5{constructor(e,t,r,s){this.persistence=e,this.Cs=t,this.serializer=s,this.vs=new Ot(tt),this.Fs=new ja((o=>l_(o)),c_),this.Ms=new Map,this.xs=e.getRemoteDocumentCache(),this.li=e.getTargetCache(),this.Pi=e.getBundleCache(),this.Os(r)}Os(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new I5(this.xs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.xs.setIndexManager(this.indexManager),this.Cs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(t=>e.collect(t,this.vs)))}}function U5(n,e,t,r){return new F5(n,e,t,r)}async function xI(n,e){const t=qe(n);return await t.persistence.runTransaction("Handle user change","readonly",(r=>{let s;return t.mutationQueue.getAllMutationBatches(r).next((o=>(s=o,t.Os(e),t.mutationQueue.getAllMutationBatches(r)))).next((o=>{const l=[],u=[];let f=nt();for(const m of s){l.push(m.batchId);for(const g of m.mutations)f=f.add(g.key)}for(const m of o){u.push(m.batchId);for(const g of m.mutations)f=f.add(g.key)}return t.localDocuments.getDocuments(r,f).next((m=>({Ns:m,removedBatchIds:l,addedBatchIds:u})))}))}))}function $5(n,e){const t=qe(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",(r=>{const s=e.batch.keys(),o=t.xs.newChangeBuffer({trackRemovals:!0});return(function(u,f,m,g){const v=m.batch,E=v.keys();let b=se.resolve();return E.forEach((I=>{b=b.next((()=>g.getEntry(f,I))).next((T=>{const C=m.docVersions.get(I);ot(C!==null,48541),T.version.compareTo(C)<0&&(v.applyToRemoteDocument(T,m),T.isValidDocument()&&(T.setReadTime(m.commitVersion),g.addEntry(T)))}))})),b.next((()=>u.mutationQueue.removeMutationBatch(f,v)))})(t,r,e,o).next((()=>o.apply(r))).next((()=>t.mutationQueue.performConsistencyCheck(r))).next((()=>t.documentOverlayCache.removeOverlaysForBatchId(r,s,e.batch.batchId))).next((()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,(function(u){let f=nt();for(let m=0;m<u.mutationResults.length;++m)u.mutationResults[m].transformResults.length>0&&(f=f.add(u.batch.mutations[m].key));return f})(e)))).next((()=>t.localDocuments.getDocuments(r,s)))}))}function EI(n){const e=qe(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(t=>e.li.getLastRemoteSnapshotVersion(t)))}function B5(n,e){const t=qe(n),r=e.snapshotVersion;let s=t.vs;return t.persistence.runTransaction("Apply remote event","readwrite-primary",(o=>{const l=t.xs.newChangeBuffer({trackRemovals:!0});s=t.vs;const u=[];e.targetChanges.forEach(((g,v)=>{const E=s.get(v);if(!E)return;u.push(t.li.removeMatchingKeys(o,g.removedDocuments,v).next((()=>t.li.addMatchingKeys(o,g.addedDocuments,v))));let b=E.withSequenceNumber(o.currentSequenceNumber);e.targetMismatches.get(v)!==null?b=b.withResumeToken(wn.EMPTY_BYTE_STRING,Fe.min()).withLastLimboFreeSnapshotVersion(Fe.min()):g.resumeToken.approximateByteSize()>0&&(b=b.withResumeToken(g.resumeToken,r)),s=s.insert(v,b),(function(T,C,M){return T.resumeToken.approximateByteSize()===0||C.snapshotVersion.toMicroseconds()-T.snapshotVersion.toMicroseconds()>=V5?!0:M.addedDocuments.size+M.modifiedDocuments.size+M.removedDocuments.size>0})(E,b,g)&&u.push(t.li.updateTargetData(o,b))}));let f=wi(),m=nt();if(e.documentUpdates.forEach((g=>{e.resolvedLimboDocuments.has(g)&&u.push(t.persistence.referenceDelegate.updateLimboDocument(o,g))})),u.push(z5(o,l,e.documentUpdates).next((g=>{f=g.Bs,m=g.Ls}))),!r.isEqual(Fe.min())){const g=t.li.getLastRemoteSnapshotVersion(o).next((v=>t.li.setTargetsMetadata(o,o.currentSequenceNumber,r)));u.push(g)}return se.waitFor(u).next((()=>l.apply(o))).next((()=>t.localDocuments.getLocalViewOfDocuments(o,f,m))).next((()=>f))})).then((o=>(t.vs=s,o)))}function z5(n,e,t){let r=nt(),s=nt();return t.forEach((o=>r=r.add(o))),e.getEntries(n,r).next((o=>{let l=wi();return t.forEach(((u,f)=>{const m=o.get(u);f.isFoundDocument()!==m.isFoundDocument()&&(s=s.add(u)),f.isNoDocument()&&f.version.isEqual(Fe.min())?(e.removeEntry(u,f.readTime),l=l.insert(u,f)):!m.isValidDocument()||f.version.compareTo(m.version)>0||f.version.compareTo(m.version)===0&&m.hasPendingWrites?(e.addEntry(f),l=l.insert(u,f)):xe(v_,"Ignoring outdated watch update for ",u,". Current version:",m.version," Watch version:",f.version)})),{Bs:l,Ls:s}}))}function W5(n,e){const t=qe(n);return t.persistence.runTransaction("Get next mutation batch","readonly",(r=>(e===void 0&&(e=i_),t.mutationQueue.getNextMutationBatchAfterBatchId(r,e))))}function H5(n,e){const t=qe(n);return t.persistence.runTransaction("Allocate target","readwrite",(r=>{let s;return t.li.getTargetData(r,e).next((o=>o?(s=o,se.resolve(s)):t.li.allocateTargetId(r).next((l=>(s=new so(e,l,"TargetPurposeListen",r.currentSequenceNumber),t.li.addTargetData(r,s).next((()=>s)))))))})).then((r=>{const s=t.vs.get(r.targetId);return(s===null||r.snapshotVersion.compareTo(s.snapshotVersion)>0)&&(t.vs=t.vs.insert(r.targetId,r),t.Fs.set(e,r.targetId)),r}))}async function Gy(n,e,t){const r=qe(n),s=r.vs.get(e),o=t?"readwrite":"readwrite-primary";try{t||await r.persistence.runTransaction("Release target",o,(l=>r.persistence.referenceDelegate.removeTarget(l,s)))}catch(l){if(!ac(l))throw l;xe(v_,`Failed to update sequence numbers for target ${e}: ${l}`)}r.vs=r.vs.remove(e),r.Fs.delete(s.target)}function Ib(n,e,t){const r=qe(n);let s=Fe.min(),o=nt();return r.persistence.runTransaction("Execute query","readwrite",(l=>(function(f,m,g){const v=qe(f),E=v.Fs.get(g);return E!==void 0?se.resolve(v.vs.get(E)):v.li.getTargetData(m,g)})(r,l,Ms(e)).next((u=>{if(u)return s=u.lastLimboFreeSnapshotVersion,r.li.getMatchingKeysForTargetId(l,u.targetId).next((f=>{o=f}))})).next((()=>r.Cs.getDocumentsMatchingQuery(l,e,t?s:Fe.min(),t?o:nt()))).next((u=>(q5(r,P3(e),u),{documents:u,ks:o})))))}function q5(n,e,t){let r=n.Ms.get(e)||Fe.min();t.forEach(((s,o)=>{o.readTime.compareTo(r)>0&&(r=o.readTime)})),n.Ms.set(e,r)}class Rb{constructor(){this.activeTargetIds=V3()}Qs(e){this.activeTargetIds=this.activeTargetIds.add(e)}Gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Ws(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class G5{constructor(){this.vo=new Rb,this.Fo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,r){}addLocalQueryTarget(e,t=!0){return t&&this.vo.Qs(e),this.Fo[e]||"not-current"}updateQueryState(e,t,r){this.Fo[e]=t}removeLocalQueryTarget(e){this.vo.Gs(e)}isLocalQueryTarget(e){return this.vo.activeTargetIds.has(e)}clearQueryState(e){delete this.Fo[e]}getAllActiveQueryTargets(){return this.vo.activeTargetIds}isActiveQueryTarget(e){return this.vo.activeTargetIds.has(e)}start(){return this.vo=new Rb,Promise.resolve()}handleUserChange(e,t,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class K5{Mo(e){}shutdown(){}}const Nb="ConnectivityMonitor";class Ab{constructor(){this.xo=()=>this.Oo(),this.No=()=>this.Bo(),this.Lo=[],this.ko()}Mo(e){this.Lo.push(e)}shutdown(){window.removeEventListener("online",this.xo),window.removeEventListener("offline",this.No)}ko(){window.addEventListener("online",this.xo),window.addEventListener("offline",this.No)}Oo(){xe(Nb,"Network connectivity changed: AVAILABLE");for(const e of this.Lo)e(0)}Bo(){xe(Nb,"Network connectivity changed: UNAVAILABLE");for(const e of this.Lo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let Bh=null;function Ky(){return Bh===null?Bh=(function(){return 268435456+Math.round(2147483648*Math.random())})():Bh++,"0x"+Bh.toString(16)}const Wg="RestConnection",Q5={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery",ExecutePipeline:"executePipeline"};class Y5{get Ko(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.qo=t+"://"+e.host,this.Uo=`projects/${r}/databases/${s}`,this.$o=this.databaseId.database===kf?`project_id=${r}`:`project_id=${r}&database_id=${s}`}Wo(e,t,r,s,o){const l=Ky(),u=this.Qo(e,t.toUriEncodedString());xe(Wg,`Sending RPC '${e}' ${l}:`,u,r);const f={"google-cloud-resource-prefix":this.Uo,"x-goog-request-params":this.$o};this.Go(f,s,o);const{host:m}=new URL(u),g=Aa(m);return this.zo(e,u,f,r,g).then((v=>(xe(Wg,`Received RPC '${e}' ${l}: `,v),v)),(v=>{throw Ul(Wg,`RPC '${e}' ${l} failed with error: `,v,"url: ",u,"request:",r),v}))}jo(e,t,r,s,o,l){return this.Wo(e,t,r,s,o)}Go(e,t,r){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+ic})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach(((s,o)=>e[o]=s)),r&&r.headers.forEach(((s,o)=>e[o]=s))}Qo(e,t){const r=Q5[e];let s=`${this.qo}/v1/${t}:${r}`;return this.databaseInfo.apiKey&&(s=`${s}?key=${encodeURIComponent(this.databaseInfo.apiKey)}`),s}terminate(){}}class X5{constructor(e){this.Ho=e.Ho,this.Jo=e.Jo}Zo(e){this.Xo=e}Yo(e){this.e_=e}t_(e){this.n_=e}onMessage(e){this.r_=e}close(){this.Jo()}send(e){this.Ho(e)}i_(){this.Xo()}s_(){this.e_()}o_(e){this.n_(e)}__(e){this.r_(e)}}const An="WebChannelConnection",tu=(n,e,t)=>{n.listen(e,(r=>{try{t(r)}catch(s){setTimeout((()=>{throw s}),0)}}))};class Ol extends Y5{constructor(e){super(e),this.a_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}static u_(){if(!Ol.c_){const e=TC();tu(e,bC.STAT_EVENT,(t=>{t.stat===My.PROXY?xe(An,"STAT_EVENT: detected buffering proxy"):t.stat===My.NOPROXY&&xe(An,"STAT_EVENT: detected no buffering proxy")})),Ol.c_=!0}}zo(e,t,r,s,o){const l=Ky();return new Promise(((u,f)=>{const m=new xC;m.setWithCredentials(!0),m.listenOnce(EC.COMPLETE,(()=>{try{switch(m.getLastErrorCode()){case rf.NO_ERROR:const v=m.getResponseJson();xe(An,`XHR for RPC '${e}' ${l} received:`,JSON.stringify(v)),u(v);break;case rf.TIMEOUT:xe(An,`RPC '${e}' ${l} timed out`),f(new ge(te.DEADLINE_EXCEEDED,"Request time out"));break;case rf.HTTP_ERROR:const E=m.getStatus();if(xe(An,`RPC '${e}' ${l} failed with status:`,E,"response text:",m.getResponseText()),E>0){let b=m.getResponseJson();Array.isArray(b)&&(b=b[0]);const I=b?.error;if(I&&I.status&&I.message){const T=(function(M){const D=M.toLowerCase().replace(/_/g,"-");return Object.values(te).indexOf(D)>=0?D:te.UNKNOWN})(I.status);f(new ge(T,I.message))}else f(new ge(te.UNKNOWN,"Server responded with status "+m.getStatus()))}else f(new ge(te.UNAVAILABLE,"Connection failed."));break;default:De(9055,{l_:e,streamId:l,h_:m.getLastErrorCode(),P_:m.getLastError()})}}finally{xe(An,`RPC '${e}' ${l} completed.`)}}));const g=JSON.stringify(s);xe(An,`RPC '${e}' ${l} sending request:`,s),m.send(t,"POST",g,r,15)}))}T_(e,t,r){const s=Ky(),o=[this.qo,"/","google.firestore.v1.Firestore","/",e,"/channel"],l=this.createWebChannelTransport(),u={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},f=this.longPollingOptions.timeoutSeconds;f!==void 0&&(u.longPollingTimeout=Math.round(1e3*f)),this.useFetchStreams&&(u.useFetchStreams=!0),this.Go(u.initMessageHeaders,t,r),u.encodeInitMessageHeaders=!0;const m=o.join("");xe(An,`Creating RPC '${e}' stream ${s}: ${m}`,u);const g=l.createWebChannel(m,u);this.I_(g);let v=!1,E=!1;const b=new X5({Ho:I=>{E?xe(An,`Not sending because RPC '${e}' stream ${s} is closed:`,I):(v||(xe(An,`Opening RPC '${e}' stream ${s} transport.`),g.open(),v=!0),xe(An,`RPC '${e}' stream ${s} sending:`,I),g.send(I))},Jo:()=>g.close()});return tu(g,ou.EventType.OPEN,(()=>{E||(xe(An,`RPC '${e}' stream ${s} transport opened.`),b.i_())})),tu(g,ou.EventType.CLOSE,(()=>{E||(E=!0,xe(An,`RPC '${e}' stream ${s} transport closed`),b.o_(),this.E_(g))})),tu(g,ou.EventType.ERROR,(I=>{E||(E=!0,Ul(An,`RPC '${e}' stream ${s} transport errored. Name:`,I.name,"Message:",I.message),b.o_(new ge(te.UNAVAILABLE,"The operation could not be completed")))})),tu(g,ou.EventType.MESSAGE,(I=>{if(!E){const T=I.data[0];ot(!!T,16349);const C=T,M=C?.error||C[0]?.error;if(M){xe(An,`RPC '${e}' stream ${s} received error:`,M);const D=M.status;let V=(function(Q){const k=qt[Q];if(k!==void 0)return aI(k)})(D),B=M.message;V===void 0&&(V=te.INTERNAL,B="Unknown error status: "+D+" with message "+M.message),E=!0,b.o_(new ge(V,B)),g.close()}else xe(An,`RPC '${e}' stream ${s} received:`,T),b.__(T)}})),Ol.u_(),setTimeout((()=>{b.s_()}),0),b}terminate(){this.a_.forEach((e=>e.close())),this.a_=[]}I_(e){this.a_.push(e)}E_(e){this.a_=this.a_.filter((t=>t===e))}Go(e,t,r){super.Go(e,t,r),this.databaseInfo.apiKey&&(e["x-goog-api-key"]=this.databaseInfo.apiKey)}createWebChannelTransport(){return SC()}}function J5(n){return new Ol(n)}function Hg(){return typeof document<"u"?document:null}function kp(n){return new n5(n,!0)}Ol.c_=!1;class __{constructor(e,t,r=1e3,s=1.5,o=6e4){this.Ci=e,this.timerId=t,this.R_=r,this.A_=s,this.V_=o,this.d_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.d_=0}g_(){this.d_=this.V_}p_(e){this.cancel();const t=Math.floor(this.d_+this.y_()),r=Math.max(0,Date.now()-this.f_),s=Math.max(0,t-r);s>0&&xe("ExponentialBackoff",`Backing off for ${s} ms (base delay: ${this.d_} ms, delay with jitter: ${t} ms, last attempt: ${r} ms ago)`),this.m_=this.Ci.enqueueAfterDelay(this.timerId,s,(()=>(this.f_=Date.now(),e()))),this.d_*=this.A_,this.d_<this.R_&&(this.d_=this.R_),this.d_>this.V_&&(this.d_=this.V_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.d_}}const kb="PersistentStream";class bI{constructor(e,t,r,s,o,l,u,f){this.Ci=e,this.b_=r,this.S_=s,this.connection=o,this.authCredentialsProvider=l,this.appCheckCredentialsProvider=u,this.listener=f,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new __(e,t)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Ci.enqueueAfterDelay(this.b_,6e4,(()=>this.k_())))}K_(e){this.q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,t){this.q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():t&&t.code===te.RESOURCE_EXHAUSTED?(_i(t.toString()),_i("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):t&&t.code===te.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.W_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.t_(t)}W_(){}auth(){this.state=1;const e=this.Q_(this.D_),t=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([r,s])=>{this.D_===t&&this.G_(r,s)}),(r=>{e((()=>{const s=new ge(te.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(s)}))}))}G_(e,t){const r=this.Q_(this.D_);this.stream=this.j_(e,t),this.stream.Zo((()=>{r((()=>this.listener.Zo()))})),this.stream.Yo((()=>{r((()=>(this.state=2,this.v_=this.Ci.enqueueAfterDelay(this.S_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.Yo())))})),this.stream.t_((s=>{r((()=>this.z_(s)))})),this.stream.onMessage((s=>{r((()=>++this.F_==1?this.H_(s):this.onNext(s)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return xe(kb,`close with error: ${e}`),this.stream=null,this.close(4,e)}Q_(e){return t=>{this.Ci.enqueueAndForget((()=>this.D_===e?t():(xe(kb,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class Z5 extends bI{constructor(e,t,r,s,o,l){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,r,s,l),this.serializer=o}j_(e,t){return this.connection.T_("Listen",e,t)}H_(e){return this.onNext(e)}onNext(e){this.M_.reset();const t=o5(this.serializer,e),r=(function(o){if(!("targetChange"in o))return Fe.min();const l=o.targetChange;return l.targetIds&&l.targetIds.length?Fe.min():l.readTime?vr(l.readTime):Fe.min()})(e);return this.listener.J_(t,r)}Z_(e){const t={};t.database=qy(this.serializer),t.addTarget=(function(o,l){let u;const f=l.target;if(u=$y(f)?{documents:l5(o,f)}:{query:c5(o,f).ft},u.targetId=l.targetId,l.resumeToken.approximateByteSize()>0){u.resumeToken=uI(o,l.resumeToken);const m=Wy(o,l.expectedCount);m!==null&&(u.expectedCount=m)}else if(l.snapshotVersion.compareTo(Fe.min())>0){u.readTime=Of(o,l.snapshotVersion.toTimestamp());const m=Wy(o,l.expectedCount);m!==null&&(u.expectedCount=m)}return u})(this.serializer,e);const r=d5(this.serializer,e);r&&(t.labels=r),this.K_(t)}X_(e){const t={};t.database=qy(this.serializer),t.removeTarget=e,this.K_(t)}}class e6 extends bI{constructor(e,t,r,s,o,l){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,r,s,l),this.serializer=o}get Y_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}W_(){this.Y_&&this.ea([])}j_(e,t){return this.connection.T_("Write",e,t)}H_(e){return ot(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,ot(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){ot(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const t=a5(e.writeResults,e.commitTime),r=vr(e.commitTime);return this.listener.na(r,t)}ra(){const e={};e.database=qy(this.serializer),this.K_(e)}ea(e){const t={streamToken:this.lastStreamToken,writes:e.map((r=>pI(this.serializer,r)))};this.K_(t)}}class t6{}class n6 extends t6{constructor(e,t,r,s){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=r,this.serializer=s,this.ia=!1}sa(){if(this.ia)throw new ge(te.FAILED_PRECONDITION,"The client has already been terminated.")}Wo(e,t,r,s){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([o,l])=>this.connection.Wo(e,Hy(t,r),s,o,l))).catch((o=>{throw o.name==="FirebaseError"?(o.code===te.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new ge(te.UNKNOWN,o.toString())}))}jo(e,t,r,s,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([l,u])=>this.connection.jo(e,Hy(t,r),s,l,u,o))).catch((l=>{throw l.name==="FirebaseError"?(l.code===te.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new ge(te.UNKNOWN,l.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}function r6(n,e,t,r){return new n6(n,e,t,r)}class s6{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(_i(t),this.aa=!1):xe("OnlineStateTracker",t)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const Ea="RemoteStore";class i6{constructor(e,t,r,s,o){this.localStore=e,this.datastore=t,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.Ra=[],this.Aa=o,this.Aa.Mo((l=>{r.enqueueAndForget((async()=>{Da(this)&&(xe(Ea,"Restarting streams for network reachability change."),await(async function(f){const m=qe(f);m.Ea.add(4),await fd(m),m.Va.set("Unknown"),m.Ea.delete(4),await Pp(m)})(this))}))})),this.Va=new s6(r,s)}}async function Pp(n){if(Da(n))for(const e of n.Ra)await e(!0)}async function fd(n){for(const e of n.Ra)await e(!1)}function TI(n,e){const t=qe(n);t.Ia.has(e.targetId)||(t.Ia.set(e.targetId,e),b_(t)?E_(t):cc(t).O_()&&x_(t,e))}function w_(n,e){const t=qe(n),r=cc(t);t.Ia.delete(e),r.O_()&&SI(t,e),t.Ia.size===0&&(r.O_()?r.L_():Da(t)&&t.Va.set("Unknown"))}function x_(n,e){if(n.da.$e(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Fe.min())>0){const t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}cc(n).Z_(e)}function SI(n,e){n.da.$e(e),cc(n).X_(e)}function E_(n){n.da=new J3({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),At:e=>n.Ia.get(e)||null,ht:()=>n.datastore.serializer.databaseId}),cc(n).start(),n.Va.ua()}function b_(n){return Da(n)&&!cc(n).x_()&&n.Ia.size>0}function Da(n){return qe(n).Ea.size===0}function CI(n){n.da=void 0}async function o6(n){n.Va.set("Online")}async function a6(n){n.Ia.forEach(((e,t)=>{x_(n,e)}))}async function l6(n,e){CI(n),b_(n)?(n.Va.ha(e),E_(n)):n.Va.set("Unknown")}async function c6(n,e,t){if(n.Va.set("Online"),e instanceof cI&&e.state===2&&e.cause)try{await(async function(s,o){const l=o.cause;for(const u of o.targetIds)s.Ia.has(u)&&(await s.remoteSyncer.rejectListen(u,l),s.Ia.delete(u),s.da.removeTarget(u))})(n,e)}catch(r){xe(Ea,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await Vf(n,r)}else if(e instanceof lf?n.da.Xe(e):e instanceof lI?n.da.st(e):n.da.tt(e),!t.isEqual(Fe.min()))try{const r=await EI(n.localStore);t.compareTo(r)>=0&&await(function(o,l){const u=o.da.Tt(l);return u.targetChanges.forEach(((f,m)=>{if(f.resumeToken.approximateByteSize()>0){const g=o.Ia.get(m);g&&o.Ia.set(m,g.withResumeToken(f.resumeToken,l))}})),u.targetMismatches.forEach(((f,m)=>{const g=o.Ia.get(f);if(!g)return;o.Ia.set(f,g.withResumeToken(wn.EMPTY_BYTE_STRING,g.snapshotVersion)),SI(o,f);const v=new so(g.target,f,m,g.sequenceNumber);x_(o,v)})),o.remoteSyncer.applyRemoteEvent(u)})(n,t)}catch(r){xe(Ea,"Failed to raise snapshot:",r),await Vf(n,r)}}async function Vf(n,e,t){if(!ac(e))throw e;n.Ea.add(1),await fd(n),n.Va.set("Offline"),t||(t=()=>EI(n.localStore)),n.asyncQueue.enqueueRetryable((async()=>{xe(Ea,"Retrying IndexedDB access"),await t(),n.Ea.delete(1),await Pp(n)}))}function II(n,e){return e().catch((t=>Vf(n,t,e)))}async function jp(n){const e=qe(n),t=bo(e);let r=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:i_;for(;u6(e);)try{const s=await W5(e.localStore,r);if(s===null){e.Ta.length===0&&t.L_();break}r=s.batchId,d6(e,s)}catch(s){await Vf(e,s)}RI(e)&&NI(e)}function u6(n){return Da(n)&&n.Ta.length<10}function d6(n,e){n.Ta.push(e);const t=bo(n);t.O_()&&t.Y_&&t.ea(e.mutations)}function RI(n){return Da(n)&&!bo(n).x_()&&n.Ta.length>0}function NI(n){bo(n).start()}async function h6(n){bo(n).ra()}async function f6(n){const e=bo(n);for(const t of n.Ta)e.ea(t.mutations)}async function p6(n,e,t){const r=n.Ta.shift(),s=h_.from(r,e,t);await II(n,(()=>n.remoteSyncer.applySuccessfulWrite(s))),await jp(n)}async function m6(n,e){e&&bo(n).Y_&&await(async function(r,s){if((function(l){return oI(l)&&l!==te.ABORTED})(s.code)){const o=r.Ta.shift();bo(r).B_(),await II(r,(()=>r.remoteSyncer.rejectFailedWrite(o.batchId,s))),await jp(r)}})(n,e),RI(n)&&NI(n)}async function Pb(n,e){const t=qe(n);t.asyncQueue.verifyOperationInProgress(),xe(Ea,"RemoteStore received new credentials");const r=Da(t);t.Ea.add(3),await fd(t),r&&t.Va.set("Unknown"),await t.remoteSyncer.handleCredentialChange(e),t.Ea.delete(3),await Pp(t)}async function g6(n,e){const t=qe(n);e?(t.Ea.delete(2),await Pp(t)):e||(t.Ea.add(2),await fd(t),t.Va.set("Unknown"))}function cc(n){return n.ma||(n.ma=(function(t,r,s){const o=qe(t);return o.sa(),new Z5(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,s)})(n.datastore,n.asyncQueue,{Zo:o6.bind(null,n),Yo:a6.bind(null,n),t_:l6.bind(null,n),J_:c6.bind(null,n)}),n.Ra.push((async e=>{e?(n.ma.B_(),b_(n)?E_(n):n.Va.set("Unknown")):(await n.ma.stop(),CI(n))}))),n.ma}function bo(n){return n.fa||(n.fa=(function(t,r,s){const o=qe(t);return o.sa(),new e6(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,s)})(n.datastore,n.asyncQueue,{Zo:()=>Promise.resolve(),Yo:h6.bind(null,n),t_:m6.bind(null,n),ta:f6.bind(null,n),na:p6.bind(null,n)}),n.Ra.push((async e=>{e?(n.fa.B_(),await jp(n)):(await n.fa.stop(),n.Ta.length>0&&(xe(Ea,`Stopping write stream with ${n.Ta.length} pending writes`),n.Ta=[]))}))),n.fa}class T_{constructor(e,t,r,s,o){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=r,this.op=s,this.removalCallback=o,this.deferred=new Os,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((l=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,t,r,s,o){const l=Date.now()+r,u=new T_(e,t,l,s,o);return u.start(r),u}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ge(te.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function S_(n,e){if(_i("AsyncQueue",`${e}: ${n}`),ac(n))return new ge(te.UNAVAILABLE,`${e}: ${n}`);throw n}class Ml{static emptySet(e){return new Ml(e.comparator)}constructor(e){this.comparator=e?(t,r)=>e(t,r)||je.comparator(t.key,r.key):(t,r)=>je.comparator(t.key,r.key),this.keyedMap=au(),this.sortedSet=new Ot(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((t,r)=>(e(t),!1)))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof Ml)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;t.hasNext();){const s=t.getNext().key,o=r.getNext().key;if(!s.isEqual(o))return!1}return!0}toString(){const e=[];return this.forEach((t=>{e.push(t.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){const r=new Ml;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=t,r}}class jb{constructor(){this.ga=new Ot(je.comparator)}track(e){const t=e.doc.key,r=this.ga.get(t);r?e.type!==0&&r.type===3?this.ga=this.ga.insert(t,e):e.type===3&&r.type!==1?this.ga=this.ga.insert(t,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.ga=this.ga.insert(t,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.ga=this.ga.insert(t,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.ga=this.ga.remove(t):e.type===1&&r.type===2?this.ga=this.ga.insert(t,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.ga=this.ga.insert(t,{type:2,doc:e.doc}):De(63341,{Vt:e,pa:r}):this.ga=this.ga.insert(t,e)}ya(){const e=[];return this.ga.inorderTraversal(((t,r)=>{e.push(r)})),e}}class Hl{constructor(e,t,r,s,o,l,u,f,m){this.query=e,this.docs=t,this.oldDocs=r,this.docChanges=s,this.mutatedKeys=o,this.fromCache=l,this.syncStateChanged=u,this.excludesMetadataChanges=f,this.hasCachedResults=m}static fromInitialDocuments(e,t,r,s,o){const l=[];return t.forEach((u=>{l.push({type:0,doc:u})})),new Hl(e,t,Ml.emptySet(t),l,r,s,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Cp(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,r=e.docChanges;if(t.length!==r.length)return!1;for(let s=0;s<t.length;s++)if(t[s].type!==r[s].type||!t[s].doc.isEqual(r[s].doc))return!1;return!0}}class y6{constructor(){this.wa=void 0,this.ba=[]}Sa(){return this.ba.some((e=>e.Da()))}}class v6{constructor(){this.queries=Db(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(t,r){const s=qe(t),o=s.queries;s.queries=Db(),o.forEach(((l,u)=>{for(const f of u.ba)f.onError(r)}))})(this,new ge(te.ABORTED,"Firestore shutting down"))}}function Db(){return new ja((n=>GC(n)),Cp)}async function C_(n,e){const t=qe(n);let r=3;const s=e.query;let o=t.queries.get(s);o?!o.Sa()&&e.Da()&&(r=2):(o=new y6,r=e.Da()?0:1);try{switch(r){case 0:o.wa=await t.onListen(s,!0);break;case 1:o.wa=await t.onListen(s,!1);break;case 2:await t.onFirstRemoteStoreListen(s)}}catch(l){const u=S_(l,`Initialization of query '${Tl(e.query)}' failed`);return void e.onError(u)}t.queries.set(s,o),o.ba.push(e),e.va(t.onlineState),o.wa&&e.Fa(o.wa)&&R_(t)}async function I_(n,e){const t=qe(n),r=e.query;let s=3;const o=t.queries.get(r);if(o){const l=o.ba.indexOf(e);l>=0&&(o.ba.splice(l,1),o.ba.length===0?s=e.Da()?0:1:!o.Sa()&&e.Da()&&(s=2))}switch(s){case 0:return t.queries.delete(r),t.onUnlisten(r,!0);case 1:return t.queries.delete(r),t.onUnlisten(r,!1);case 2:return t.onLastRemoteStoreUnlisten(r);default:return}}function _6(n,e){const t=qe(n);let r=!1;for(const s of e){const o=s.query,l=t.queries.get(o);if(l){for(const u of l.ba)u.Fa(s)&&(r=!0);l.wa=s}}r&&R_(t)}function w6(n,e,t){const r=qe(n),s=r.queries.get(e);if(s)for(const o of s.ba)o.onError(t);r.queries.delete(e)}function R_(n){n.Ca.forEach((e=>{e.next()}))}var Qy,Ob;(Ob=Qy||(Qy={})).Ma="default",Ob.Cache="cache";class N_{constructor(e,t,r){this.query=e,this.xa=t,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(e){if(!this.options.includeMetadataChanges){const r=[];for(const s of e.docChanges)s.type!==3&&r.push(s);e=new Hl(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),t=!0):this.La(e,this.onlineState)&&(this.ka(e),t=!0),this.Na=e,t}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let t=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),t=!0),t}La(e,t){if(!e.fromCache||!this.Da())return!0;const r=t!=="Offline";return(!this.options.Ka||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const t=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}ka(e){e=Hl.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==Qy.Cache}}class AI{constructor(e){this.key=e}}class kI{constructor(e){this.key=e}}class x6{constructor(e,t){this.query=e,this.Za=t,this.Xa=null,this.hasCachedResults=!1,this.current=!1,this.Ya=nt(),this.mutatedKeys=nt(),this.eu=KC(e),this.tu=new Ml(this.eu)}get nu(){return this.Za}ru(e,t){const r=t?t.iu:new jb,s=t?t.tu:this.tu;let o=t?t.mutatedKeys:this.mutatedKeys,l=s,u=!1;const f=this.query.limitType==="F"&&s.size===this.query.limit?s.last():null,m=this.query.limitType==="L"&&s.size===this.query.limit?s.first():null;if(e.inorderTraversal(((g,v)=>{const E=s.get(g),b=Ip(this.query,v)?v:null,I=!!E&&this.mutatedKeys.has(E.key),T=!!b&&(b.hasLocalMutations||this.mutatedKeys.has(b.key)&&b.hasCommittedMutations);let C=!1;E&&b?E.data.isEqual(b.data)?I!==T&&(r.track({type:3,doc:b}),C=!0):this.su(E,b)||(r.track({type:2,doc:b}),C=!0,(f&&this.eu(b,f)>0||m&&this.eu(b,m)<0)&&(u=!0)):!E&&b?(r.track({type:0,doc:b}),C=!0):E&&!b&&(r.track({type:1,doc:E}),C=!0,(f||m)&&(u=!0)),C&&(b?(l=l.add(b),o=T?o.add(g):o.delete(g)):(l=l.delete(g),o=o.delete(g)))})),this.query.limit!==null)for(;l.size>this.query.limit;){const g=this.query.limitType==="F"?l.last():l.first();l=l.delete(g.key),o=o.delete(g.key),r.track({type:1,doc:g})}return{tu:l,iu:r,Ss:u,mutatedKeys:o}}su(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,r,s){const o=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const l=e.iu.ya();l.sort(((g,v)=>(function(b,I){const T=C=>{switch(C){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return De(20277,{Vt:C})}};return T(b)-T(I)})(g.type,v.type)||this.eu(g.doc,v.doc))),this.ou(r),s=s??!1;const u=t&&!s?this._u():[],f=this.Ya.size===0&&this.current&&!s?1:0,m=f!==this.Xa;return this.Xa=f,l.length!==0||m?{snapshot:new Hl(this.query,e.tu,o,l,e.mutatedKeys,f===0,m,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:u}:{au:u}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new jb,mutatedKeys:this.mutatedKeys,Ss:!1},!1)):{au:[]}}uu(e){return!this.Za.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((t=>this.Za=this.Za.add(t))),e.modifiedDocuments.forEach((t=>{})),e.removedDocuments.forEach((t=>this.Za=this.Za.delete(t))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Ya;this.Ya=nt(),this.tu.forEach((r=>{this.uu(r.key)&&(this.Ya=this.Ya.add(r.key))}));const t=[];return e.forEach((r=>{this.Ya.has(r)||t.push(new kI(r))})),this.Ya.forEach((r=>{e.has(r)||t.push(new AI(r))})),t}cu(e){this.Za=e.ks,this.Ya=nt();const t=this.ru(e.documents);return this.applyChanges(t,!0)}lu(){return Hl.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Xa===0,this.hasCachedResults)}}const A_="SyncEngine";class E6{constructor(e,t,r){this.query=e,this.targetId=t,this.view=r}}class b6{constructor(e){this.key=e,this.hu=!1}}class T6{constructor(e,t,r,s,o,l){this.localStore=e,this.remoteStore=t,this.eventManager=r,this.sharedClientState=s,this.currentUser=o,this.maxConcurrentLimboResolutions=l,this.Pu={},this.Tu=new ja((u=>GC(u)),Cp),this.Iu=new Map,this.Eu=new Set,this.Ru=new Ot(je.comparator),this.Au=new Map,this.Vu=new m_,this.du={},this.mu=new Map,this.fu=Wl.ar(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function S6(n,e,t=!0){const r=LI(n);let s;const o=r.Tu.get(e);return o?(r.sharedClientState.addLocalQueryTarget(o.targetId),s=o.view.lu()):s=await PI(r,e,t,!0),s}async function C6(n,e){const t=LI(n);await PI(t,e,!0,!1)}async function PI(n,e,t,r){const s=await H5(n.localStore,Ms(e)),o=s.targetId,l=n.sharedClientState.addLocalQueryTarget(o,t);let u;return r&&(u=await I6(n,e,o,l==="current",s.resumeToken)),n.isPrimaryClient&&t&&TI(n.remoteStore,s),u}async function I6(n,e,t,r,s){n.pu=(v,E,b)=>(async function(T,C,M,D){let V=C.view.ru(M);V.Ss&&(V=await Ib(T.localStore,C.query,!1).then((({documents:k})=>C.view.ru(k,V))));const B=D&&D.targetChanges.get(C.targetId),H=D&&D.targetMismatches.get(C.targetId)!=null,Q=C.view.applyChanges(V,T.isPrimaryClient,B,H);return Lb(T,C.targetId,Q.au),Q.snapshot})(n,v,E,b);const o=await Ib(n.localStore,e,!0),l=new x6(e,o.ks),u=l.ru(o.documents),f=hd.createSynthesizedTargetChangeForCurrentChange(t,r&&n.onlineState!=="Offline",s),m=l.applyChanges(u,n.isPrimaryClient,f);Lb(n,t,m.au);const g=new E6(e,t,l);return n.Tu.set(e,g),n.Iu.has(t)?n.Iu.get(t).push(e):n.Iu.set(t,[e]),m.snapshot}async function R6(n,e,t){const r=qe(n),s=r.Tu.get(e),o=r.Iu.get(s.targetId);if(o.length>1)return r.Iu.set(s.targetId,o.filter((l=>!Cp(l,e)))),void r.Tu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(s.targetId),r.sharedClientState.isActiveQueryTarget(s.targetId)||await Gy(r.localStore,s.targetId,!1).then((()=>{r.sharedClientState.clearQueryState(s.targetId),t&&w_(r.remoteStore,s.targetId),Yy(r,s.targetId)})).catch(oc)):(Yy(r,s.targetId),await Gy(r.localStore,s.targetId,!0))}async function N6(n,e){const t=qe(n),r=t.Tu.get(e),s=t.Iu.get(r.targetId);t.isPrimaryClient&&s.length===1&&(t.sharedClientState.removeLocalQueryTarget(r.targetId),w_(t.remoteStore,r.targetId))}async function A6(n,e,t){const r=L6(n);try{const s=await(function(l,u){const f=qe(l),m=It.now(),g=u.reduce(((b,I)=>b.add(I.key)),nt());let v,E;return f.persistence.runTransaction("Locally write mutations","readwrite",(b=>{let I=wi(),T=nt();return f.xs.getEntries(b,g).next((C=>{I=C,I.forEach(((M,D)=>{D.isValidDocument()||(T=T.add(M))}))})).next((()=>f.localDocuments.getOverlayedDocuments(b,I))).next((C=>{v=C;const M=[];for(const D of u){const V=q3(D,v.get(D.key).overlayedDocument);V!=null&&M.push(new ko(D.key,V,FC(V.value.mapValue),jn.exists(!0)))}return f.mutationQueue.addMutationBatch(b,m,M,u)})).next((C=>{E=C;const M=C.applyToLocalDocumentSet(v,T);return f.documentOverlayCache.saveOverlays(b,C.batchId,M)}))})).then((()=>({batchId:E.batchId,changes:YC(v)})))})(r.localStore,e);r.sharedClientState.addPendingMutation(s.batchId),(function(l,u,f){let m=l.du[l.currentUser.toKey()];m||(m=new Ot(tt)),m=m.insert(u,f),l.du[l.currentUser.toKey()]=m})(r,s.batchId,t),await pd(r,s.changes),await jp(r.remoteStore)}catch(s){const o=S_(s,"Failed to persist write");t.reject(o)}}async function jI(n,e){const t=qe(n);try{const r=await B5(t.localStore,e);e.targetChanges.forEach(((s,o)=>{const l=t.Au.get(o);l&&(ot(s.addedDocuments.size+s.modifiedDocuments.size+s.removedDocuments.size<=1,22616),s.addedDocuments.size>0?l.hu=!0:s.modifiedDocuments.size>0?ot(l.hu,14607):s.removedDocuments.size>0&&(ot(l.hu,42227),l.hu=!1))})),await pd(t,r,e)}catch(r){await oc(r)}}function Mb(n,e,t){const r=qe(n);if(r.isPrimaryClient&&t===0||!r.isPrimaryClient&&t===1){const s=[];r.Tu.forEach(((o,l)=>{const u=l.view.va(e);u.snapshot&&s.push(u.snapshot)})),(function(l,u){const f=qe(l);f.onlineState=u;let m=!1;f.queries.forEach(((g,v)=>{for(const E of v.ba)E.va(u)&&(m=!0)})),m&&R_(f)})(r.eventManager,e),s.length&&r.Pu.J_(s),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function k6(n,e,t){const r=qe(n);r.sharedClientState.updateQueryState(e,"rejected",t);const s=r.Au.get(e),o=s&&s.key;if(o){let l=new Ot(je.comparator);l=l.insert(o,cn.newNoDocument(o,Fe.min()));const u=nt().add(o),f=new Ap(Fe.min(),new Map,new Ot(tt),l,u);await jI(r,f),r.Ru=r.Ru.remove(o),r.Au.delete(e),k_(r)}else await Gy(r.localStore,e,!1).then((()=>Yy(r,e,t))).catch(oc)}async function P6(n,e){const t=qe(n),r=e.batch.batchId;try{const s=await $5(t.localStore,e);OI(t,r,null),DI(t,r),t.sharedClientState.updateMutationState(r,"acknowledged"),await pd(t,s)}catch(s){await oc(s)}}async function j6(n,e,t){const r=qe(n);try{const s=await(function(l,u){const f=qe(l);return f.persistence.runTransaction("Reject batch","readwrite-primary",(m=>{let g;return f.mutationQueue.lookupMutationBatch(m,u).next((v=>(ot(v!==null,37113),g=v.keys(),f.mutationQueue.removeMutationBatch(m,v)))).next((()=>f.mutationQueue.performConsistencyCheck(m))).next((()=>f.documentOverlayCache.removeOverlaysForBatchId(m,g,u))).next((()=>f.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(m,g))).next((()=>f.localDocuments.getDocuments(m,g)))}))})(r.localStore,e);OI(r,e,t),DI(r,e),r.sharedClientState.updateMutationState(e,"rejected",t),await pd(r,s)}catch(s){await oc(s)}}function DI(n,e){(n.mu.get(e)||[]).forEach((t=>{t.resolve()})),n.mu.delete(e)}function OI(n,e,t){const r=qe(n);let s=r.du[r.currentUser.toKey()];if(s){const o=s.get(e);o&&(t?o.reject(t):o.resolve(),s=s.remove(e)),r.du[r.currentUser.toKey()]=s}}function Yy(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const r of n.Iu.get(e))n.Tu.delete(r),t&&n.Pu.yu(r,t);n.Iu.delete(e),n.isPrimaryClient&&n.Vu.Gr(e).forEach((r=>{n.Vu.containsKey(r)||MI(n,r)}))}function MI(n,e){n.Eu.delete(e.path.canonicalString());const t=n.Ru.get(e);t!==null&&(w_(n.remoteStore,t),n.Ru=n.Ru.remove(e),n.Au.delete(t),k_(n))}function Lb(n,e,t){for(const r of t)r instanceof AI?(n.Vu.addReference(r.key,e),D6(n,r)):r instanceof kI?(xe(A_,"Document no longer in limbo: "+r.key),n.Vu.removeReference(r.key,e),n.Vu.containsKey(r.key)||MI(n,r.key)):De(19791,{wu:r})}function D6(n,e){const t=e.key,r=t.path.canonicalString();n.Ru.get(t)||n.Eu.has(r)||(xe(A_,"New document in limbo: "+t),n.Eu.add(r),k_(n))}function k_(n){for(;n.Eu.size>0&&n.Ru.size<n.maxConcurrentLimboResolutions;){const e=n.Eu.values().next().value;n.Eu.delete(e);const t=new je(vt.fromString(e)),r=n.fu.next();n.Au.set(r,new b6(t)),n.Ru=n.Ru.insert(t,r),TI(n.remoteStore,new so(Ms(Sp(t.path)),r,"TargetPurposeLimboResolution",bp.ce))}}async function pd(n,e,t){const r=qe(n),s=[],o=[],l=[];r.Tu.isEmpty()||(r.Tu.forEach(((u,f)=>{l.push(r.pu(f,e,t).then((m=>{if((m||t)&&r.isPrimaryClient){const g=m?!m.fromCache:t?.targetChanges.get(f.targetId)?.current;r.sharedClientState.updateQueryState(f.targetId,g?"current":"not-current")}if(m){s.push(m);const g=y_.Es(f.targetId,m);o.push(g)}})))})),await Promise.all(l),r.Pu.J_(s),await(async function(f,m){const g=qe(f);try{await g.persistence.runTransaction("notifyLocalViewChanges","readwrite",(v=>se.forEach(m,(E=>se.forEach(E.Ts,(b=>g.persistence.referenceDelegate.addReference(v,E.targetId,b))).next((()=>se.forEach(E.Is,(b=>g.persistence.referenceDelegate.removeReference(v,E.targetId,b)))))))))}catch(v){if(!ac(v))throw v;xe(v_,"Failed to update sequence numbers: "+v)}for(const v of m){const E=v.targetId;if(!v.fromCache){const b=g.vs.get(E),I=b.snapshotVersion,T=b.withLastLimboFreeSnapshotVersion(I);g.vs=g.vs.insert(E,T)}}})(r.localStore,o))}async function O6(n,e){const t=qe(n);if(!t.currentUser.isEqual(e)){xe(A_,"User change. New user:",e.toKey());const r=await xI(t.localStore,e);t.currentUser=e,(function(o,l){o.mu.forEach((u=>{u.forEach((f=>{f.reject(new ge(te.CANCELLED,l))}))})),o.mu.clear()})(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await pd(t,r.Ns)}}function M6(n,e){const t=qe(n),r=t.Au.get(e);if(r&&r.hu)return nt().add(r.key);{let s=nt();const o=t.Iu.get(e);if(!o)return s;for(const l of o){const u=t.Tu.get(l);s=s.unionWith(u.view.nu)}return s}}function LI(n){const e=qe(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=jI.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=M6.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=k6.bind(null,e),e.Pu.J_=_6.bind(null,e.eventManager),e.Pu.yu=w6.bind(null,e.eventManager),e}function L6(n){const e=qe(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=P6.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=j6.bind(null,e),e}class Ff{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=kp(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,t){return null}Mu(e,t){return null}vu(e){return U5(this.persistence,new L5,e.initialUser,this.serializer)}Cu(e){return new wI(g_.Vi,this.serializer)}Du(e){return new G5}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Ff.provider={build:()=>new Ff};class V6 extends Ff{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,t){ot(this.persistence.referenceDelegate instanceof Lf,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new E5(r,e.asyncQueue,t)}Cu(e){const t=this.cacheSizeBytes!==void 0?Qn.withCacheSize(this.cacheSizeBytes):Qn.DEFAULT;return new wI((r=>Lf.Vi(r,t)),this.serializer)}}class Xy{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>Mb(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=O6.bind(null,this.syncEngine),await g6(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new v6})()}createDatastore(e){const t=kp(e.databaseInfo.databaseId),r=J5(e.databaseInfo);return r6(e.authCredentials,e.appCheckCredentials,r,t)}createRemoteStore(e){return(function(r,s,o,l,u){return new i6(r,s,o,l,u)})(this.localStore,this.datastore,e.asyncQueue,(t=>Mb(this.syncEngine,t,0)),(function(){return Ab.v()?new Ab:new K5})())}createSyncEngine(e,t){return(function(s,o,l,u,f,m,g){const v=new T6(s,o,l,u,f,m);return g&&(v.gu=!0),v})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){await(async function(t){const r=qe(t);xe(Ea,"RemoteStore shutting down."),r.Ea.add(5),await fd(r),r.Aa.shutdown(),r.Va.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}Xy.provider={build:()=>new Xy};class P_{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):_i("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,t){setTimeout((()=>{this.muted||e(t)}),0)}}let F6=class{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastTransactionError=null,this.writtenDocs=new Set}async lookup(e){if(this.ensureCommitNotCalled(),this.mutations.length>0)throw this.lastTransactionError=new ge(te.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes."),this.lastTransactionError;const t=await(async function(s,o){const l=qe(s),u={documents:o.map((v=>Mf(l.serializer,v)))},f=await l.jo("BatchGetDocuments",l.serializer.databaseId,vt.emptyPath(),u,o.length),m=new Map;f.forEach((v=>{const E=i5(l.serializer,v);m.set(E.key.toString(),E)}));const g=[];return o.forEach((v=>{const E=m.get(v.toString());ot(!!E,55234,{key:v}),g.push(E)})),g})(this.datastore,e);return t.forEach((r=>this.recordVersion(r))),t}set(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(r){this.lastTransactionError=r}this.writtenDocs.add(e.toString())}delete(e){this.write(new d_(e,this.precondition(e))),this.writtenDocs.add(e.toString())}async commit(){if(this.ensureCommitNotCalled(),this.lastTransactionError)throw this.lastTransactionError;const e=this.readVersions;this.mutations.forEach((t=>{e.delete(t.key.toString())})),e.forEach(((t,r)=>{const s=je.fromPath(r);this.mutations.push(new iI(s,this.precondition(s)))})),await(async function(r,s){const o=qe(r),l={writes:s.map((u=>pI(o.serializer,u)))};await o.Wo("Commit",o.serializer.databaseId,vt.emptyPath(),l)})(this.datastore,this.mutations),this.committed=!0}recordVersion(e){let t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw De(50498,{Gu:e.constructor.name});t=Fe.min()}const r=this.readVersions.get(e.key.toString());if(r){if(!t.isEqual(r))throw new ge(te.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)}precondition(e){const t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?t.isEqual(Fe.min())?jn.exists(!1):jn.updateTime(t):jn.none()}preconditionForUpdate(e){const t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(Fe.min()))throw new ge(te.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return jn.updateTime(t)}return jn.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}};class U6{constructor(e,t,r,s,o){this.asyncQueue=e,this.datastore=t,this.options=r,this.updateFunction=s,this.deferred=o,this.zu=r.maxAttempts,this.M_=new __(this.asyncQueue,"transaction_retry")}ju(){this.zu-=1,this.Hu()}Hu(){this.M_.p_((async()=>{const e=new F6(this.datastore),t=this.Ju(e);t&&t.then((r=>{this.asyncQueue.enqueueAndForget((()=>e.commit().then((()=>{this.deferred.resolve(r)})).catch((s=>{this.Zu(s)}))))})).catch((r=>{this.Zu(r)}))}))}Ju(e){try{const t=this.updateFunction(e);return!ud(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(t){return this.deferred.reject(t),null}}Zu(e){this.zu>0&&this.Xu(e)?(this.zu-=1,this.asyncQueue.enqueueAndForget((()=>(this.Hu(),Promise.resolve())))):this.deferred.reject(e)}Xu(e){if(e?.name==="FirebaseError"){const t=e.code;return t==="aborted"||t==="failed-precondition"||t==="already-exists"||!oI(t)}return!1}}const To="FirestoreClient";class $6{constructor(e,t,r,s,o){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=r,this._databaseInfo=s,this.user=kn.UNAUTHENTICATED,this.clientId=s_.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=o,this.authCredentials.start(r,(async l=>{xe(To,"Received user=",l.uid),await this.authCredentialListener(l),this.user=l})),this.appCheckCredentials.start(r,(l=>(xe(To,"Received new app check token=",l),this.appCheckCredentialListener(l,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this._databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Os;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const r=S_(t,"Failed to shutdown persistence");e.reject(r)}})),e.promise}}async function qg(n,e){n.asyncQueue.verifyOperationInProgress(),xe(To,"Initializing OfflineComponentProvider");const t=n.configuration;await e.initialize(t);let r=t.initialUser;n.setCredentialChangeListener((async s=>{r.isEqual(s)||(await xI(e.localStore,s),r=s)})),e.persistence.setDatabaseDeletedListener((()=>n.terminate())),n._offlineComponents=e}async function Vb(n,e){n.asyncQueue.verifyOperationInProgress();const t=await B6(n);xe(To,"Initializing OnlineComponentProvider"),await e.initialize(t,n.configuration),n.setCredentialChangeListener((r=>Pb(e.remoteStore,r))),n.setAppCheckTokenChangeListener(((r,s)=>Pb(e.remoteStore,s))),n._onlineComponents=e}async function B6(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){xe(To,"Using user provided OfflineComponentProvider");try{await qg(n,n._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!(function(s){return s.name==="FirebaseError"?s.code===te.FAILED_PRECONDITION||s.code===te.UNIMPLEMENTED:!(typeof DOMException<"u"&&s instanceof DOMException)||s.code===22||s.code===20||s.code===11})(t))throw t;Ul("Error using user provided cache. Falling back to memory cache: "+t),await qg(n,new Ff)}}else xe(To,"Using default OfflineComponentProvider"),await qg(n,new V6(void 0));return n._offlineComponents}async function j_(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(xe(To,"Using user provided OnlineComponentProvider"),await Vb(n,n._uninitializedComponentsProvider._online)):(xe(To,"Using default OnlineComponentProvider"),await Vb(n,new Xy))),n._onlineComponents}function z6(n){return j_(n).then((e=>e.syncEngine))}function W6(n){return j_(n).then((e=>e.datastore))}async function Uf(n){const e=await j_(n),t=e.eventManager;return t.onListen=S6.bind(null,e.syncEngine),t.onUnlisten=R6.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=C6.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=N6.bind(null,e.syncEngine),t}function H6(n,e,t,r){const s=new P_(r),o=new N_(e,s,t);return n.asyncQueue.enqueueAndForget((async()=>C_(await Uf(n),o))),()=>{s.Nu(),n.asyncQueue.enqueueAndForget((async()=>I_(await Uf(n),o)))}}function q6(n,e,t={}){const r=new Os;return n.asyncQueue.enqueueAndForget((async()=>(function(o,l,u,f,m){const g=new P_({next:E=>{g.Nu(),l.enqueueAndForget((()=>I_(o,v)));const b=E.docs.has(u);!b&&E.fromCache?m.reject(new ge(te.UNAVAILABLE,"Failed to get document because the client is offline.")):b&&E.fromCache&&f&&f.source==="server"?m.reject(new ge(te.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):m.resolve(E)},error:E=>m.reject(E)}),v=new N_(Sp(u.path),g,{includeMetadataChanges:!0,Ka:!0});return C_(o,v)})(await Uf(n),n.asyncQueue,e,t,r))),r.promise}function G6(n,e,t={}){const r=new Os;return n.asyncQueue.enqueueAndForget((async()=>(function(o,l,u,f,m){const g=new P_({next:E=>{g.Nu(),l.enqueueAndForget((()=>I_(o,v))),E.fromCache&&f.source==="server"?m.reject(new ge(te.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):m.resolve(E)},error:E=>m.reject(E)}),v=new N_(u,g,{includeMetadataChanges:!0,Ka:!0});return C_(o,v)})(await Uf(n),n.asyncQueue,e,t,r))),r.promise}function K6(n,e){const t=new Os;return n.asyncQueue.enqueueAndForget((async()=>A6(await z6(n),e,t))),t.promise}function Q6(n,e,t){const r=new Os;return n.asyncQueue.enqueueAndForget((async()=>{const s=await W6(n);new U6(n.asyncQueue,s,t,e,r).ju()})),r.promise}function VI(n){const e={};return n.timeoutSeconds!==void 0&&(e.timeoutSeconds=n.timeoutSeconds),e}const Y6="ComponentProvider",Fb=new Map;function X6(n,e,t,r,s){return new f3(n,e,t,s.host,s.ssl,s.experimentalForceLongPolling,s.experimentalAutoDetectLongPolling,VI(s.experimentalLongPollingOptions),s.useFetchStreams,s.isUsingEmulator,r)}const FI="firestore.googleapis.com",Ub=!0;class $b{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new ge(te.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=FI,this.ssl=Ub}else this.host=e.host,this.ssl=e.ssl??Ub;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=_I;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<w5)throw new ge(te.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}n3("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=VI(e.experimentalLongPollingOptions??{}),(function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new ge(te.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new ge(te.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new ge(te.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(r,s){return r.timeoutSeconds===s.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Dp{constructor(e,t,r,s){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=r,this._app=s,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new $b({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ge(te.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new ge(te.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new $b(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(r){if(!r)return new qF;switch(r.type){case"firstParty":return new YF(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new ge(te.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(t){const r=Fb.get(t);r&&(xe(Y6,"Removing Datastore"),Fb.delete(t),r.terminate())})(this),Promise.resolve()}}function J6(n,e,t,r={}){n=Xn(n,Dp);const s=Aa(e),o=n._getSettings(),l={...o,emulatorOptions:n._getEmulatorOptions()},u=`${e}:${t}`;s&&(Wv(`https://${u}`),Hv("Firestore",!0)),o.host!==FI&&o.host!==u&&Ul("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const f={...o,host:u,ssl:s,emulatorOptions:r};if(!ya(f,l)&&(n._setSettings(f),r.mockUserToken)){let m,g;if(typeof r.mockUserToken=="string")m=r.mockUserToken,g=kn.MOCK_USER;else{m=jS(r.mockUserToken,n._app?.options.projectId);const v=r.mockUserToken.sub||r.mockUserToken.user_id;if(!v)throw new ge(te.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");g=new kn(v)}n._authCredentials=new GF(new IC(m,g))}}class Po{constructor(e,t,r){this.converter=t,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Po(this.firestore,e,this._query)}}class Dt{constructor(e,t,r){this.converter=t,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new ho(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Dt(this.firestore,e,this._key)}toJSON(){return{type:Dt._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,t,r){if(cd(t,Dt._jsonSchema))return new Dt(e,r||null,new je(vt.fromString(t.referencePath)))}}Dt._jsonSchemaVersion="firestore/documentReference/1.0",Dt._jsonSchema={type:Qt("string",Dt._jsonSchemaVersion),referencePath:Qt("string")};class ho extends Po{constructor(e,t,r){super(e,t,Sp(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Dt(this.firestore,null,new je(e))}withConverter(e){return new ho(this.firestore,e,this._path)}}function As(n,e,...t){if(n=Ft(n),RC("collection","path",e),n instanceof Dp){const r=vt.fromString(e,...t);return eb(r),new ho(n,null,r)}{if(!(n instanceof Dt||n instanceof ho))throw new ge(te.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(vt.fromString(e,...t));return eb(r),new ho(n.firestore,null,r)}}function un(n,e,...t){if(n=Ft(n),arguments.length===1&&(e=s_.newId()),RC("doc","path",e),n instanceof Dp){const r=vt.fromString(e,...t);return ZE(r),new Dt(n,null,new je(r))}{if(!(n instanceof Dt||n instanceof ho))throw new ge(te.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(vt.fromString(e,...t));return ZE(r),new Dt(n.firestore,n instanceof ho?n.converter:null,new je(r))}}const Bb="AsyncQueue";class zb{constructor(e=Promise.resolve()){this.Yu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new __(this,"async_queue_retry"),this._c=()=>{const r=Hg();r&&xe(Bb,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=e;const t=Hg();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const t=Hg();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const t=new Os;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise))).then((()=>t.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Yu.push(e),this.lc())))}async lc(){if(this.Yu.length!==0){try{await this.Yu[0](),this.Yu.shift(),this.M_.reset()}catch(e){if(!ac(e))throw e;xe(Bb,"Operation failed with retryable error: "+e)}this.Yu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const t=this.ac.then((()=>(this.rc=!0,e().catch((r=>{throw this.nc=r,this.rc=!1,_i("INTERNAL UNHANDLED ERROR: ",Wb(r)),r})).then((r=>(this.rc=!1,r))))));return this.ac=t,t}enqueueAfterDelay(e,t,r){this.uc(),this.oc.indexOf(e)>-1&&(t=0);const s=T_.createAndSchedule(this,e,t,r,(o=>this.hc(o)));return this.tc.push(s),s}uc(){this.nc&&De(47125,{Pc:Wb(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const t of this.tc)if(t.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((t,r)=>t.targetTimeMs-r.targetTimeMs));for(const t of this.tc)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.Tc()}))}Rc(e){this.oc.push(e)}hc(e){const t=this.tc.indexOf(e);this.tc.splice(t,1)}}function Wb(n){let e=n.message||"";return n.stack&&(e=n.stack.includes(n.message)?n.stack:n.message+`
`+n.stack),e}class xi extends Dp{constructor(e,t,r,s){super(e,t,r,s),this.type="firestore",this._queue=new zb,this._persistenceKey=s?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new zb(e),this._firestoreClient=void 0,await e}}}function Z6(n,e){const t=typeof n=="object"?n:Kv(),r=typeof n=="string"?n:kf,s=yp(t,"firestore").getImmediate({identifier:r});if(!s._initialized){const o=AS("firestore");o&&J6(s,...o)}return s}function md(n){if(n._terminated)throw new ge(te.FAILED_PRECONDITION,"The client has already been terminated.");return n._firestoreClient||eU(n),n._firestoreClient}function eU(n){const e=n._freezeSettings(),t=X6(n._databaseId,n._app?.options.appId||"",n._persistenceKey,n._app?.options.apiKey,e);n._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(n._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),n._firestoreClient=new $6(n._authCredentials,n._appCheckCredentials,n._queue,t,n._componentsProvider&&(function(s){const o=s?._online.build();return{_offline:s?._offline.build(o),_online:o}})(n._componentsProvider))}class mr{constructor(e){this._byteString=e}static fromBase64String(e){try{return new mr(wn.fromBase64String(e))}catch(t){throw new ge(te.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new mr(wn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:mr._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(cd(e,mr._jsonSchema))return mr.fromBase64String(e.bytes)}}mr._jsonSchemaVersion="firestore/bytes/1.0",mr._jsonSchema={type:Qt("string",mr._jsonSchemaVersion),bytes:Qt("string")};class Op{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new ge(te.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new vn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class Mp{constructor(e){this._methodName=e}}class Ls{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new ge(te.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new ge(te.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return tt(this._lat,e._lat)||tt(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Ls._jsonSchemaVersion}}static fromJSON(e){if(cd(e,Ls._jsonSchema))return new Ls(e.latitude,e.longitude)}}Ls._jsonSchemaVersion="firestore/geoPoint/1.0",Ls._jsonSchema={type:Qt("string",Ls._jsonSchemaVersion),latitude:Qt("number"),longitude:Qt("number")};class Qr{constructor(e){this._values=(e||[]).map((t=>t))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(r,s){if(r.length!==s.length)return!1;for(let o=0;o<r.length;++o)if(r[o]!==s[o])return!1;return!0})(this._values,e._values)}toJSON(){return{type:Qr._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(cd(e,Qr._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((t=>typeof t=="number")))return new Qr(e.vectorValues);throw new ge(te.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Qr._jsonSchemaVersion="firestore/vectorValue/1.0",Qr._jsonSchema={type:Qt("string",Qr._jsonSchemaVersion),vectorValues:Qt("object")};const tU=/^__.*__$/;class nU{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return this.fieldMask!==null?new ko(e,this.data,this.fieldMask,t,this.fieldTransforms):new dd(e,this.data,t,this.fieldTransforms)}}class UI{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return new ko(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function $I(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw De(40011,{dataSource:n})}}class D_{constructor(e,t,r,s,o,l){this.settings=e,this.databaseId=t,this.serializer=r,this.ignoreUndefinedProperties=s,o===void 0&&this.validatePath(),this.fieldTransforms=o||[],this.fieldMask=l||[]}get path(){return this.settings.path}get dataSource(){return this.settings.dataSource}contextWith(e){return new D_({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}childContextForField(e){const t=this.path?.child(e),r=this.contextWith({path:t,arrayElement:!1});return r.validatePathSegment(e),r}childContextForFieldPath(e){const t=this.path?.child(e),r=this.contextWith({path:t,arrayElement:!1});return r.validatePath(),r}childContextForArray(e){return this.contextWith({path:void 0,arrayElement:!0})}createError(e){return $f(e,this.settings.methodName,this.settings.hasConverter||!1,this.path,this.settings.targetDoc)}contains(e){return this.fieldMask.find((t=>e.isPrefixOf(t)))!==void 0||this.fieldTransforms.find((t=>e.isPrefixOf(t.field)))!==void 0}validatePath(){if(this.path)for(let e=0;e<this.path.length;e++)this.validatePathSegment(this.path.get(e))}validatePathSegment(e){if(e.length===0)throw this.createError("Document fields must not be empty");if($I(this.dataSource)&&tU.test(e))throw this.createError('Document fields cannot begin and end with "__"')}}class rU{constructor(e,t,r){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=r||kp(e)}createContext(e,t,r,s=!1){return new D_({dataSource:e,methodName:t,targetDoc:r,path:vn.emptyPath(),arrayElement:!1,hasConverter:s},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function gd(n){const e=n._freezeSettings(),t=kp(n._databaseId);return new rU(n._databaseId,!!e.ignoreUndefinedProperties,t)}function O_(n,e,t,r,s,o={}){const l=n.createContext(o.merge||o.mergeFields?2:0,e,t,s);L_("Data must be an object, but it was:",l,r);const u=WI(r,l);let f,m;if(o.merge)f=new gr(l.fieldMask),m=l.fieldTransforms;else if(o.mergeFields){const g=[];for(const v of o.mergeFields){const E=ba(e,v,t);if(!l.contains(E))throw new ge(te.INVALID_ARGUMENT,`Field '${E}' is specified in your field mask but missing from your input data.`);GI(g,E)||g.push(E)}f=new gr(g),m=l.fieldTransforms.filter((v=>f.covers(v.field)))}else f=null,m=l.fieldTransforms;return new nU(new Ln(u),f,m)}class Lp extends Mp{_toFieldTransform(e){if(e.dataSource!==2)throw e.dataSource===1?e.createError(`${this._methodName}() can only appear at the top level of your update data`):e.createError(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Lp}}class M_ extends Mp{_toFieldTransform(e){return new B3(e.path,new $u)}isEqual(e){return e instanceof M_}}function BI(n,e,t,r){const s=n.createContext(1,e,t);L_("Data must be an object, but it was:",s,r);const o=[],l=Ln.empty();Ao(r,((f,m)=>{const g=qI(e,f,t);m=Ft(m);const v=s.childContextForFieldPath(g);if(m instanceof Lp)o.push(g);else{const E=yd(m,v);E!=null&&(o.push(g),l.set(g,E))}}));const u=new gr(o);return new UI(l,u,s.fieldTransforms)}function zI(n,e,t,r,s,o){const l=n.createContext(1,e,t),u=[ba(e,r,t)],f=[s];if(o.length%2!=0)throw new ge(te.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let E=0;E<o.length;E+=2)u.push(ba(e,o[E])),f.push(o[E+1]);const m=[],g=Ln.empty();for(let E=u.length-1;E>=0;--E)if(!GI(m,u[E])){const b=u[E];let I=f[E];I=Ft(I);const T=l.childContextForFieldPath(b);if(I instanceof Lp)m.push(b);else{const C=yd(I,T);C!=null&&(m.push(b),g.set(b,C))}}const v=new gr(m);return new UI(g,v,l.fieldTransforms)}function sU(n,e,t,r=!1){return yd(t,n.createContext(r?4:3,e))}function yd(n,e){if(HI(n=Ft(n)))return L_("Unsupported field value:",e,n),WI(n,e);if(n instanceof Mp)return(function(r,s){if(!$I(s.dataSource))throw s.createError(`${r._methodName}() can only be used with update() and set()`);if(!s.path)throw s.createError(`${r._methodName}() is not currently supported inside arrays`);const o=r._toFieldTransform(s);o&&s.fieldTransforms.push(o)})(n,e),null;if(n===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.arrayElement&&e.dataSource!==4)throw e.createError("Nested arrays are not supported");return(function(r,s){const o=[];let l=0;for(const u of r){let f=yd(u,s.childContextForArray(l));f==null&&(f={nullValue:"NULL_VALUE"}),o.push(f),l++}return{arrayValue:{values:o}}})(n,e)}return(function(r,s){if((r=Ft(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return F3(s.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const o=It.fromDate(r);return{timestampValue:Of(s.serializer,o)}}if(r instanceof It){const o=new It(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Of(s.serializer,o)}}if(r instanceof Ls)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof mr)return{bytesValue:uI(s.serializer,r._byteString)};if(r instanceof Dt){const o=s.databaseId,l=r.firestore._databaseId;if(!l.isEqual(o))throw s.createError(`Document reference is for database ${l.projectId}/${l.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:p_(r.firestore._databaseId||s.databaseId,r._key.path)}}if(r instanceof Qr)return(function(l,u){const f=l instanceof Qr?l.toArray():l;return{mapValue:{fields:{[LC]:{stringValue:VC},[Pf]:{arrayValue:{values:f.map((g=>{if(typeof g!="number")throw u.createError("VectorValues must only contain numeric values.");return u_(u.serializer,g)}))}}}}}})(r,s);if(vI(r))return r._toProto(s.serializer);throw s.createError(`Unsupported field value: ${Ep(r)}`)})(n,e)}function WI(n,e){const t={};return kC(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Ao(n,((r,s)=>{const o=yd(s,e.childContextForField(r));o!=null&&(t[r]=o)})),{mapValue:{fields:t}}}function HI(n){return!(typeof n!="object"||n===null||n instanceof Array||n instanceof Date||n instanceof It||n instanceof Ls||n instanceof mr||n instanceof Dt||n instanceof Mp||n instanceof Qr||vI(n))}function L_(n,e,t){if(!HI(t)||!NC(t)){const r=Ep(t);throw r==="an object"?e.createError(n+" a custom object"):e.createError(n+" "+r)}}function ba(n,e,t){if((e=Ft(e))instanceof Op)return e._internalPath;if(typeof e=="string")return qI(n,e);throw $f("Field path arguments must be of type string or ",n,!1,void 0,t)}const iU=new RegExp("[~\\*/\\[\\]]");function qI(n,e,t){if(e.search(iU)>=0)throw $f(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new Op(...e.split("."))._internalPath}catch{throw $f(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function $f(n,e,t,r,s){const o=r&&!r.isEmpty(),l=s!==void 0;let u=`Function ${e}() called with invalid data`;t&&(u+=" (via `toFirestore()`)"),u+=". ";let f="";return(o||l)&&(f+=" (found",o&&(f+=` in field ${r}`),l&&(f+=` in document ${s}`),f+=")"),new ge(te.INVALID_ARGUMENT,u+n+f)}function GI(n,e){return n.some((t=>t.isEqual(e)))}class KI{convertValue(e,t="none"){switch(Eo(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Bt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(xo(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw De(62114,{value:e})}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const r={};return Ao(e,((s,o)=>{r[s]=this.convertValue(o,t)})),r}convertVectorValue(e){const t=e.fields?.[Pf].arrayValue?.values?.map((r=>Bt(r.doubleValue)));return new Qr(t)}convertGeoPoint(e){return new Ls(Bt(e.latitude),Bt(e.longitude))}convertArray(e,t){return(e.values||[]).map((r=>this.convertValue(r,t)))}convertServerTimestamp(e,t){switch(t){case"previous":const r=Tp(e);return r==null?null:this.convertValue(r,t);case"estimate":return this.convertTimestamp(Lu(e));default:return null}}convertTimestamp(e){const t=wo(e);return new It(t.seconds,t.nanos)}convertDocumentKey(e,t){const r=vt.fromString(e);ot(yI(r),9688,{name:e});const s=new Vu(r.get(1),r.get(3)),o=new je(r.popFirst(5));return s.isEqual(t)||_i(`Document ${o} contains a document reference within a different database (${s.projectId}/${s.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),o}}class Vp extends KI{constructor(e){super(),this.firestore=e}convertBytes(e){return new mr(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Dt(this.firestore,null,t)}}function Yn(){return new M_("serverTimestamp")}const Hb="@firebase/firestore",qb="4.10.0";function Gb(n){return(function(t,r){if(typeof t!="object"||t===null)return!1;const s=t;for(const o of r)if(o in s&&typeof s[o]=="function")return!0;return!1})(n,["next","error","complete"])}class Bf{constructor(e,t,r,s,o){this._firestore=e,this._userDataWriter=t,this._key=r,this._document=s,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new Dt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new oU(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}_fieldsProto(){return this._document?.data.clone().value.mapValue.fields??void 0}get(e){if(this._document){const t=this._document.data.field(ba("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}}class oU extends Bf{data(){return super.data()}}function QI(n){if(n.limitType==="L"&&n.explicitOrderBy.length===0)throw new ge(te.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class V_{}class YI extends V_{}function Fp(n,e,...t){let r=[];e instanceof V_&&r.push(e),r=r.concat(t),(function(o){const l=o.filter((f=>f instanceof U_)).length,u=o.filter((f=>f instanceof Up)).length;if(l>1||l>0&&u>0)throw new ge(te.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(r);for(const s of r)n=s._apply(n);return n}class Up extends YI{constructor(e,t,r){super(),this._field=e,this._op=t,this._value=r,this.type="where"}static _create(e,t,r){return new Up(e,t,r)}_apply(e){const t=this._parse(e);return XI(e._query,t),new Po(e.firestore,e.converter,By(e._query,t))}_parse(e){const t=gd(e.firestore);return(function(o,l,u,f,m,g,v){let E;if(m.isKeyField()){if(g==="array-contains"||g==="array-contains-any")throw new ge(te.INVALID_ARGUMENT,`Invalid Query. You can't perform '${g}' queries on documentId().`);if(g==="in"||g==="not-in"){Qb(v,g);const I=[];for(const T of v)I.push(Kb(f,o,T));E={arrayValue:{values:I}}}else E=Kb(f,o,v)}else g!=="in"&&g!=="not-in"&&g!=="array-contains-any"||Qb(v,g),E=sU(u,l,v,g==="in"||g==="not-in");return Kt.create(m,g,E)})(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value)}}function F_(n,e,t){const r=e,s=ba("where",n);return Up._create(s,r,t)}class U_ extends V_{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new U_(e,t)}_parse(e){const t=this._queryConstraints.map((r=>r._parse(e))).filter((r=>r.getFilters().length>0));return t.length===1?t[0]:Zr.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return t.getFilters().length===0?e:((function(s,o){let l=s;const u=o.getFlattenedFilters();for(const f of u)XI(l,f),l=By(l,f)})(e._query,t),new Po(e.firestore,e.converter,By(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class $_ extends YI{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new $_(e,t)}_apply(e){const t=(function(s,o,l){if(s.startAt!==null)throw new ge(te.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(s.endAt!==null)throw new ge(te.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Uu(o,l)})(e._query,this._field,this._direction);return new Po(e.firestore,e.converter,k3(e._query,t))}}function aU(n,e="asc"){const t=e,r=ba("orderBy",n);return $_._create(r,t)}function Kb(n,e,t){if(typeof(t=Ft(t))=="string"){if(t==="")throw new ge(te.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!qC(e)&&t.indexOf("/")!==-1)throw new ge(te.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const r=e.path.child(vt.fromString(t));if(!je.isDocumentKey(r))throw new ge(te.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return lb(n,new je(r))}if(t instanceof Dt)return lb(n,t._key);throw new ge(te.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Ep(t)}.`)}function Qb(n,e){if(!Array.isArray(n)||n.length===0)throw new ge(te.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function XI(n,e){const t=(function(s,o){for(const l of s)for(const u of l.getFlattenedFilters())if(o.indexOf(u.op)>=0)return u.op;return null})(n.filters,(function(s){switch(s){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(t!==null)throw t===e.op?new ge(te.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new ge(te.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}function B_(n,e,t){let r;return r=n?t&&(t.merge||t.mergeFields)?n.toFirestore(e,t):n.toFirestore(e):e,r}class lU extends KI{constructor(e){super(),this.firestore=e}convertBytes(e){return new mr(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Dt(this.firestore,null,t)}}class Nl{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class fo extends Bf{constructor(e,t,r,s,o,l){super(e,t,r,s,l),this._firestore=e,this._firestoreImpl=e,this.metadata=o}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new cf(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const r=this._document.data.field(ba("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,t.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new ge(te.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,t={};return t.type=fo._jsonSchemaVersion,t.bundle="",t.bundleSource="DocumentSnapshot",t.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?t:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),t.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),t)}}fo._jsonSchemaVersion="firestore/documentSnapshot/1.0",fo._jsonSchema={type:Qt("string",fo._jsonSchemaVersion),bundleSource:Qt("string","DocumentSnapshot"),bundleName:Qt("string"),bundle:Qt("string")};class cf extends fo{data(e={}){return super.data(e)}}class da{constructor(e,t,r,s){this._firestore=e,this._userDataWriter=t,this._snapshot=s,this.metadata=new Nl(s.hasPendingWrites,s.fromCache),this.query=r}get docs(){const e=[];return this.forEach((t=>e.push(t))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach((r=>{e.call(t,new cf(this._firestore,this._userDataWriter,r.key,r,new Nl(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new ge(te.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=(function(s,o){if(s._snapshot.oldDocs.isEmpty()){let l=0;return s._snapshot.docChanges.map((u=>{const f=new cf(s._firestore,s._userDataWriter,u.doc.key,u.doc,new Nl(s._snapshot.mutatedKeys.has(u.doc.key),s._snapshot.fromCache),s.query.converter);return u.doc,{type:"added",doc:f,oldIndex:-1,newIndex:l++}}))}{let l=s._snapshot.oldDocs;return s._snapshot.docChanges.filter((u=>o||u.type!==3)).map((u=>{const f=new cf(s._firestore,s._userDataWriter,u.doc.key,u.doc,new Nl(s._snapshot.mutatedKeys.has(u.doc.key),s._snapshot.fromCache),s.query.converter);let m=-1,g=-1;return u.type!==0&&(m=l.indexOf(u.doc.key),l=l.delete(u.doc.key)),u.type!==1&&(l=l.add(u.doc),g=l.indexOf(u.doc.key)),{type:cU(u.type),doc:f,oldIndex:m,newIndex:g}}))}})(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new ge(te.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=da._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=s_.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const t=[],r=[],s=[];return this.docs.forEach((o=>{o._document!==null&&(t.push(o._document),r.push(this._userDataWriter.convertObjectMap(o._document.data.value.mapValue.fields,"previous")),s.push(o.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function cU(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return De(61501,{type:n})}}da._jsonSchemaVersion="firestore/querySnapshot/1.0",da._jsonSchema={type:Qt("string",da._jsonSchemaVersion),bundleSource:Qt("string","QuerySnapshot"),bundleName:Qt("string"),bundle:Qt("string")};const uU={maxAttempts:5};function cu(n,e){if((n=Ft(n)).firestore!==e)throw new ge(te.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return n}class dU{constructor(e,t){this._firestore=e,this._transaction=t,this._dataReader=gd(e)}get(e){const t=cu(e,this._firestore),r=new lU(this._firestore);return this._transaction.lookup([t._key]).then((s=>{if(!s||s.length!==1)return De(24041);const o=s[0];if(o.isFoundDocument())return new Bf(this._firestore,r,o.key,o,t.converter);if(o.isNoDocument())return new Bf(this._firestore,r,t._key,null,t.converter);throw De(18433,{doc:o})}))}set(e,t,r){const s=cu(e,this._firestore),o=B_(s.converter,t,r),l=O_(this._dataReader,"Transaction.set",s._key,o,s.converter!==null,r);return this._transaction.set(s._key,l),this}update(e,t,r,...s){const o=cu(e,this._firestore);let l;return l=typeof(t=Ft(t))=="string"||t instanceof Op?zI(this._dataReader,"Transaction.update",o._key,t,r,s):BI(this._dataReader,"Transaction.update",o._key,t),this._transaction.update(o._key,l),this}delete(e){const t=cu(e,this._firestore);return this._transaction.delete(t._key),this}}class hU extends dU{constructor(e,t){super(e,t),this._firestore=e}get(e){const t=cu(e,this._firestore),r=new Vp(this._firestore);return super.get(e).then((s=>new fo(this._firestore,r,t._key,s._document,new Nl(!1,!1),t.converter)))}}function fU(n,e,t){n=Xn(n,xi);const r={...uU,...t};(function(l){if(l.maxAttempts<1)throw new ge(te.INVALID_ARGUMENT,"Max attempts must be at least 1")})(r);const s=md(n);return Q6(s,(o=>e(new hU(n,o))),r)}function zf(n){n=Xn(n,Dt);const e=Xn(n.firestore,xi),t=md(e);return q6(t,n._key).then((r=>ZI(e,n,r)))}function JI(n){n=Xn(n,Po);const e=Xn(n.firestore,xi),t=md(e),r=new Vp(e);return QI(n._query),G6(t,n._query).then((s=>new da(e,r,n,s)))}function Wf(n,e,t){n=Xn(n,Dt);const r=Xn(n.firestore,xi),s=B_(n.converter,e,t),o=gd(r);return W_(r,[O_(o,"setDoc",n._key,s,n.converter!==null,t).toMutation(n._key,jn.none())])}function ua(n,e,t,...r){n=Xn(n,Dt);const s=Xn(n.firestore,xi),o=gd(s);let l;return l=typeof(e=Ft(e))=="string"||e instanceof Op?zI(o,"updateDoc",n._key,e,t,r):BI(o,"updateDoc",n._key,e),W_(s,[l.toMutation(n._key,jn.exists(!0))])}function Hf(n,e){const t=Xn(n.firestore,xi),r=un(n),s=B_(n.converter,e),o=gd(n.firestore);return W_(t,[O_(o,"addDoc",r._key,s,n.converter!==null,{}).toMutation(r._key,jn.exists(!1))]).then((()=>r))}function z_(n,...e){n=Ft(n);let t={includeMetadataChanges:!1,source:"default"},r=0;typeof e[r]!="object"||Gb(e[r])||(t=e[r++]);const s={includeMetadataChanges:t.includeMetadataChanges,source:t.source};if(Gb(e[r])){const m=e[r];e[r]=m.next?.bind(m),e[r+1]=m.error?.bind(m),e[r+2]=m.complete?.bind(m)}let o,l,u;if(n instanceof Dt)l=Xn(n.firestore,xi),u=Sp(n._key.path),o={next:m=>{e[r]&&e[r](ZI(l,n,m))},error:e[r+1],complete:e[r+2]};else{const m=Xn(n,Po);l=Xn(m.firestore,xi),u=m._query;const g=new Vp(l);o={next:v=>{e[r]&&e[r](new da(l,g,m,v))},error:e[r+1],complete:e[r+2]},QI(n._query)}const f=md(l);return H6(f,u,s,o)}function W_(n,e){const t=md(n);return K6(t,e)}function ZI(n,e,t){const r=t.docs.get(e._key),s=new Vp(n);return new fo(n,s,e._key,r,new Nl(t.hasPendingWrites,t.fromCache),e.converter)}(function(e,t=!0){HF(ka),va(new vo("firestore",((r,{instanceIdentifier:s,options:o})=>{const l=r.getProvider("app").getImmediate(),u=new xi(new KF(r.getProvider("auth-internal")),new XF(l,r.getProvider("app-check-internal")),p3(l,s),l);return o={useFetchStreams:t,...o},u._setSettings(o),u}),"PUBLIC").setMultipleInstances(!0)),Ps(Hb,qb,e),Ps(Hb,qb,"esm2020")})();const eR="firebasestorage.googleapis.com",pU="storageBucket",mU=120*1e3,gU=600*1e3;class Hs extends Ws{constructor(e,t,r=0){super(Gg(e),`Firebase Storage: ${t} (${Gg(e)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,Hs.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return Gg(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var Bs;(function(n){n.UNKNOWN="unknown",n.OBJECT_NOT_FOUND="object-not-found",n.BUCKET_NOT_FOUND="bucket-not-found",n.PROJECT_NOT_FOUND="project-not-found",n.QUOTA_EXCEEDED="quota-exceeded",n.UNAUTHENTICATED="unauthenticated",n.UNAUTHORIZED="unauthorized",n.UNAUTHORIZED_APP="unauthorized-app",n.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",n.INVALID_CHECKSUM="invalid-checksum",n.CANCELED="canceled",n.INVALID_EVENT_NAME="invalid-event-name",n.INVALID_URL="invalid-url",n.INVALID_DEFAULT_BUCKET="invalid-default-bucket",n.NO_DEFAULT_BUCKET="no-default-bucket",n.CANNOT_SLICE_BLOB="cannot-slice-blob",n.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",n.NO_DOWNLOAD_URL="no-download-url",n.INVALID_ARGUMENT="invalid-argument",n.INVALID_ARGUMENT_COUNT="invalid-argument-count",n.APP_DELETED="app-deleted",n.INVALID_ROOT_OPERATION="invalid-root-operation",n.INVALID_FORMAT="invalid-format",n.INTERNAL_ERROR="internal-error",n.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(Bs||(Bs={}));function Gg(n){return"storage/"+n}function yU(){const n="An unknown error occurred, please check the error payload for server response.";return new Hs(Bs.UNKNOWN,n)}function vU(){return new Hs(Bs.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function _U(){return new Hs(Bs.CANCELED,"User canceled the upload/download.")}function wU(n){return new Hs(Bs.INVALID_URL,"Invalid URL '"+n+"'.")}function xU(n){return new Hs(Bs.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+n+"'.")}function Yb(n){return new Hs(Bs.INVALID_ARGUMENT,n)}function tR(){return new Hs(Bs.APP_DELETED,"The Firebase app was deleted.")}function EU(n){return new Hs(Bs.INVALID_ROOT_OPERATION,"The operation '"+n+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}class Kr{constructor(e,t){this.bucket=e,this.path_=t}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,t){let r;try{r=Kr.makeFromUrl(e,t)}catch{return new Kr(e,"")}if(r.path==="")return r;throw xU(e)}static makeFromUrl(e,t){let r=null;const s="([A-Za-z0-9.\\-_]+)";function o(B){B.path.charAt(B.path.length-1)==="/"&&(B.path_=B.path_.slice(0,-1))}const l="(/(.*))?$",u=new RegExp("^gs://"+s+l,"i"),f={bucket:1,path:3};function m(B){B.path_=decodeURIComponent(B.path)}const g="v[A-Za-z0-9_]+",v=t.replace(/[.]/g,"\\."),E="(/([^?#]*).*)?$",b=new RegExp(`^https?://${v}/${g}/b/${s}/o${E}`,"i"),I={bucket:1,path:3},T=t===eR?"(?:storage.googleapis.com|storage.cloud.google.com)":t,C="([^?#]*)",M=new RegExp(`^https?://${T}/${s}/${C}`,"i"),V=[{regex:u,indices:f,postModify:o},{regex:b,indices:I,postModify:m},{regex:M,indices:{bucket:1,path:2},postModify:m}];for(let B=0;B<V.length;B++){const H=V[B],Q=H.regex.exec(e);if(Q){const k=Q[H.indices.bucket];let R=Q[H.indices.path];R||(R=""),r=new Kr(k,R),H.postModify(r);break}}if(r==null)throw wU(e);return r}}class bU{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}function TU(n,e,t){let r=1,s=null,o=null,l=!1,u=0;function f(){return u===2}let m=!1;function g(...C){m||(m=!0,e.apply(null,C))}function v(C){s=setTimeout(()=>{s=null,n(b,f())},C)}function E(){o&&clearTimeout(o)}function b(C,...M){if(m){E();return}if(C){E(),g.call(null,C,...M);return}if(f()||l){E(),g.call(null,C,...M);return}r<64&&(r*=2);let V;u===1?(u=2,V=0):V=(r+Math.random())*1e3,v(V)}let I=!1;function T(C){I||(I=!0,E(),!m&&(s!==null?(C||(u=2),clearTimeout(s),v(0)):C||(u=1)))}return v(0),o=setTimeout(()=>{l=!0,T(!0)},t),T}function SU(n){n(!1)}function CU(n){return n!==void 0}function Xb(n,e,t,r){if(r<e)throw Yb(`Invalid value for '${n}'. Expected ${e} or greater.`);if(r>t)throw Yb(`Invalid value for '${n}'. Expected ${t} or less.`)}function IU(n){const e=encodeURIComponent;let t="?";for(const r in n)if(n.hasOwnProperty(r)){const s=e(r)+"="+e(n[r]);t=t+s+"&"}return t=t.slice(0,-1),t}var qf;(function(n){n[n.NO_ERROR=0]="NO_ERROR",n[n.NETWORK_ERROR=1]="NETWORK_ERROR",n[n.ABORT=2]="ABORT"})(qf||(qf={}));function RU(n,e){const t=n>=500&&n<600,s=[408,429].indexOf(n)!==-1,o=e.indexOf(n)!==-1;return t||s||o}class NU{constructor(e,t,r,s,o,l,u,f,m,g,v,E=!0,b=!1){this.url_=e,this.method_=t,this.headers_=r,this.body_=s,this.successCodes_=o,this.additionalRetryCodes_=l,this.callback_=u,this.errorCallback_=f,this.timeout_=m,this.progressCallback_=g,this.connectionFactory_=v,this.retry=E,this.isUsingEmulator=b,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((I,T)=>{this.resolve_=I,this.reject_=T,this.start_()})}start_(){const e=(r,s)=>{if(s){r(!1,new zh(!1,null,!0));return}const o=this.connectionFactory_();this.pendingConnection_=o;const l=u=>{const f=u.loaded,m=u.lengthComputable?u.total:-1;this.progressCallback_!==null&&this.progressCallback_(f,m)};this.progressCallback_!==null&&o.addUploadProgressListener(l),o.send(this.url_,this.method_,this.isUsingEmulator,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&o.removeUploadProgressListener(l),this.pendingConnection_=null;const u=o.getErrorCode()===qf.NO_ERROR,f=o.getStatus();if(!u||RU(f,this.additionalRetryCodes_)&&this.retry){const g=o.getErrorCode()===qf.ABORT;r(!1,new zh(!1,null,g));return}const m=this.successCodes_.indexOf(f)!==-1;r(!0,new zh(m,o))})},t=(r,s)=>{const o=this.resolve_,l=this.reject_,u=s.connection;if(s.wasSuccessCode)try{const f=this.callback_(u,u.getResponse());CU(f)?o(f):o()}catch(f){l(f)}else if(u!==null){const f=yU();f.serverResponse=u.getErrorText(),this.errorCallback_?l(this.errorCallback_(u,f)):l(f)}else if(s.canceled){const f=this.appDelete_?tR():_U();l(f)}else{const f=vU();l(f)}};this.canceled_?t(!1,new zh(!1,null,!0)):this.backoffId_=TU(e,t,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&SU(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class zh{constructor(e,t,r){this.wasSuccessCode=e,this.connection=t,this.canceled=!!r}}function AU(n,e){e!==null&&e.length>0&&(n.Authorization="Firebase "+e)}function kU(n,e){n["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function PU(n,e){e&&(n["X-Firebase-GMPID"]=e)}function jU(n,e){e!==null&&(n["X-Firebase-AppCheck"]=e)}function DU(n,e,t,r,s,o,l=!0,u=!1){const f=IU(n.urlParams),m=n.url+f,g=Object.assign({},n.headers);return PU(g,e),AU(g,t),kU(g,o),jU(g,r),new NU(m,n.method,g,n.body,n.successCodes,n.additionalRetryCodes,n.handler,n.errorHandler,n.timeout,n.progressCallback,s,l,u)}function OU(n){if(n.length===0)return null;const e=n.lastIndexOf("/");return e===-1?"":n.slice(0,e)}function MU(n){const e=n.lastIndexOf("/",n.length-2);return e===-1?n:n.slice(e+1)}class Gf{constructor(e,t){this._service=e,t instanceof Kr?this._location=t:this._location=Kr.makeFromUrl(t,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,t){return new Gf(e,t)}get root(){const e=new Kr(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return MU(this._location.path)}get storage(){return this._service}get parent(){const e=OU(this._location.path);if(e===null)return null;const t=new Kr(this._location.bucket,e);return new Gf(this._service,t)}_throwIfRoot(e){if(this._location.path==="")throw EU(e)}}function Jb(n,e){const t=e?.[pU];return t==null?null:Kr.makeFromBucketSpec(t,n)}function LU(n,e,t,r={}){n.host=`${e}:${t}`;const s=Aa(e);s&&(Wv(`https://${n.host}/b`),Hv("Storage",!0)),n._isUsingEmulator=!0,n._protocol=s?"https":"http";const{mockUserToken:o}=r;o&&(n._overrideAuthToken=typeof o=="string"?o:jS(o,n.app.options.projectId))}class VU{constructor(e,t,r,s,o,l=!1){this.app=e,this._authProvider=t,this._appCheckProvider=r,this._url=s,this._firebaseVersion=o,this._isUsingEmulator=l,this._bucket=null,this._host=eR,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=mU,this._maxUploadRetryTime=gU,this._requests=new Set,s!=null?this._bucket=Kr.makeFromBucketSpec(s,this._host):this._bucket=Jb(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=Kr.makeFromBucketSpec(this._url,e):this._bucket=Jb(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){Xb("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){Xb("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const t=await e.getToken();if(t!==null)return t.accessToken}return null}async _getAppCheckToken(){if(pr(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new Gf(this,e)}_makeRequest(e,t,r,s,o=!0){if(this._deleted)return new bU(tR());{const l=DU(e,this._appId,r,s,t,this._firebaseVersion,o,this._isUsingEmulator);return this._requests.add(l),l.getPromise().then(()=>this._requests.delete(l),()=>this._requests.delete(l)),l}}async makeRequestWithTokens(e,t){const[r,s]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,t,r,s).getPromise()}}const Zb="@firebase/storage",eT="0.14.0";const nR="storage";function FU(n=Kv(),e){n=Ft(n);const r=yp(n,nR).getImmediate({identifier:e}),s=AS("storage");return s&&UU(r,...s),r}function UU(n,e,t,r={}){LU(n,e,t,r)}function $U(n,{instanceIdentifier:e}){const t=n.getProvider("app").getImmediate(),r=n.getProvider("auth-internal"),s=n.getProvider("app-check-internal");return new VU(t,r,s,e,ka)}function BU(){va(new vo(nR,$U,"PUBLIC").setMultipleInstances(!0)),Ps(Zb,eT,""),Ps(Zb,eT,"esm2020")}BU();const zU={apiKey:"AIzaSyARGmsZ2fToisCnQhgVZnD2f3T0utjK9fY",authDomain:"mechradii.firebaseapp.com",projectId:"mechradii",storageBucket:"mechradii.firebasestorage.app",messagingSenderId:"42007571888",appId:"1:42007571888:web:a580dcc308b1e8d18b7a75",measurementId:"G-8JDJ9NGZEL"},H_=MS(zU),kt=zF(H_),wt=Z6(H_);FU(H_);var WU=w.createContext(void 0);function q_(n){const e=w.useContext(WU);return n||e||"ltr"}var Kg=0;function G_(){w.useEffect(()=>{const n=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",n[0]??tT()),document.body.insertAdjacentElement("beforeend",n[1]??tT()),Kg++,()=>{Kg===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(e=>e.remove()),Kg--}},[])}function tT(){const n=document.createElement("span");return n.setAttribute("data-radix-focus-guard",""),n.tabIndex=0,n.style.outline="none",n.style.opacity="0",n.style.position="fixed",n.style.pointerEvents="none",n}var Qg="focusScope.autoFocusOnMount",Yg="focusScope.autoFocusOnUnmount",nT={bubbles:!1,cancelable:!0},HU="FocusScope",$p=w.forwardRef((n,e)=>{const{loop:t=!1,trapped:r=!1,onMountAutoFocus:s,onUnmountAutoFocus:o,...l}=n,[u,f]=w.useState(null),m=Vn(s),g=Vn(o),v=w.useRef(null),E=ct(e,T=>f(T)),b=w.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;w.useEffect(()=>{if(r){let T=function(V){if(b.paused||!u)return;const B=V.target;u.contains(B)?v.current=B:Xi(v.current,{select:!0})},C=function(V){if(b.paused||!u)return;const B=V.relatedTarget;B!==null&&(u.contains(B)||Xi(v.current,{select:!0}))},M=function(V){if(document.activeElement===document.body)for(const H of V)H.removedNodes.length>0&&Xi(u)};document.addEventListener("focusin",T),document.addEventListener("focusout",C);const D=new MutationObserver(M);return u&&D.observe(u,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",T),document.removeEventListener("focusout",C),D.disconnect()}}},[r,u,b.paused]),w.useEffect(()=>{if(u){sT.add(b);const T=document.activeElement;if(!u.contains(T)){const M=new CustomEvent(Qg,nT);u.addEventListener(Qg,m),u.dispatchEvent(M),M.defaultPrevented||(qU(XU(rR(u)),{select:!0}),document.activeElement===T&&Xi(u))}return()=>{u.removeEventListener(Qg,m),setTimeout(()=>{const M=new CustomEvent(Yg,nT);u.addEventListener(Yg,g),u.dispatchEvent(M),M.defaultPrevented||Xi(T??document.body,{select:!0}),u.removeEventListener(Yg,g),sT.remove(b)},0)}}},[u,m,g,b]);const I=w.useCallback(T=>{if(!t&&!r||b.paused)return;const C=T.key==="Tab"&&!T.altKey&&!T.ctrlKey&&!T.metaKey,M=document.activeElement;if(C&&M){const D=T.currentTarget,[V,B]=GU(D);V&&B?!T.shiftKey&&M===B?(T.preventDefault(),t&&Xi(V,{select:!0})):T.shiftKey&&M===V&&(T.preventDefault(),t&&Xi(B,{select:!0})):M===D&&T.preventDefault()}},[t,r,b.paused]);return d.jsx(Be.div,{tabIndex:-1,...l,ref:E,onKeyDown:I})});$p.displayName=HU;function qU(n,{select:e=!1}={}){const t=document.activeElement;for(const r of n)if(Xi(r,{select:e}),document.activeElement!==t)return}function GU(n){const e=rR(n),t=rT(e,n),r=rT(e.reverse(),n);return[t,r]}function rR(n){const e=[],t=document.createTreeWalker(n,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const s=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||s?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;t.nextNode();)e.push(t.currentNode);return e}function rT(n,e){for(const t of n)if(!KU(t,{upTo:e}))return t}function KU(n,{upTo:e}){if(getComputedStyle(n).visibility==="hidden")return!0;for(;n;){if(e!==void 0&&n===e)return!1;if(getComputedStyle(n).display==="none")return!0;n=n.parentElement}return!1}function QU(n){return n instanceof HTMLInputElement&&"select"in n}function Xi(n,{select:e=!1}={}){if(n&&n.focus){const t=document.activeElement;n.focus({preventScroll:!0}),n!==t&&QU(n)&&e&&n.select()}}var sT=YU();function YU(){let n=[];return{add(e){const t=n[0];e!==t&&t?.pause(),n=iT(n,e),n.unshift(e)},remove(e){n=iT(n,e),n[0]?.resume()}}}function iT(n,e){const t=[...n],r=t.indexOf(e);return r!==-1&&t.splice(r,1),t}function XU(n){return n.filter(e=>e.tagName!=="A")}var Xg="rovingFocusGroup.onEntryFocus",JU={bubbles:!1,cancelable:!0},vd="RovingFocusGroup",[Jy,sR,ZU]=ip(vd),[e9,iR]=es(vd,[ZU]),[t9,n9]=e9(vd),oR=w.forwardRef((n,e)=>d.jsx(Jy.Provider,{scope:n.__scopeRovingFocusGroup,children:d.jsx(Jy.Slot,{scope:n.__scopeRovingFocusGroup,children:d.jsx(r9,{...n,ref:e})})}));oR.displayName=vd;var r9=w.forwardRef((n,e)=>{const{__scopeRovingFocusGroup:t,orientation:r,loop:s=!1,dir:o,currentTabStopId:l,defaultCurrentTabStopId:u,onCurrentTabStopIdChange:f,onEntryFocus:m,preventScrollOnEntryFocus:g=!1,...v}=n,E=w.useRef(null),b=ct(e,E),I=q_(o),[T,C]=fa({prop:l,defaultProp:u??null,onChange:f,caller:vd}),[M,D]=w.useState(!1),V=Vn(m),B=sR(t),H=w.useRef(!1),[Q,k]=w.useState(0);return w.useEffect(()=>{const R=E.current;if(R)return R.addEventListener(Xg,V),()=>R.removeEventListener(Xg,V)},[V]),d.jsx(t9,{scope:t,orientation:r,dir:I,loop:s,currentTabStopId:T,onItemFocus:w.useCallback(R=>C(R),[C]),onItemShiftTab:w.useCallback(()=>D(!0),[]),onFocusableItemAdd:w.useCallback(()=>k(R=>R+1),[]),onFocusableItemRemove:w.useCallback(()=>k(R=>R-1),[]),children:d.jsx(Be.div,{tabIndex:M||Q===0?-1:0,"data-orientation":r,...v,ref:b,style:{outline:"none",...n.style},onMouseDown:ve(n.onMouseDown,()=>{H.current=!0}),onFocus:ve(n.onFocus,R=>{const N=!H.current;if(R.target===R.currentTarget&&N&&!M){const j=new CustomEvent(Xg,JU);if(R.currentTarget.dispatchEvent(j),!j.defaultPrevented){const L=B().filter(de=>de.focusable),F=L.find(de=>de.active),O=L.find(de=>de.id===T),Ee=[F,O,...L].filter(Boolean).map(de=>de.ref.current);cR(Ee,g)}}H.current=!1}),onBlur:ve(n.onBlur,()=>D(!1))})})}),aR="RovingFocusGroupItem",lR=w.forwardRef((n,e)=>{const{__scopeRovingFocusGroup:t,focusable:r=!0,active:s=!1,tabStopId:o,children:l,...u}=n,f=fi(),m=o||f,g=n9(aR,t),v=g.currentTabStopId===m,E=sR(t),{onFocusableItemAdd:b,onFocusableItemRemove:I,currentTabStopId:T}=g;return w.useEffect(()=>{if(r)return b(),()=>I()},[r,b,I]),d.jsx(Jy.ItemSlot,{scope:t,id:m,focusable:r,active:s,children:d.jsx(Be.span,{tabIndex:v?0:-1,"data-orientation":g.orientation,...u,ref:e,onMouseDown:ve(n.onMouseDown,C=>{r?g.onItemFocus(m):C.preventDefault()}),onFocus:ve(n.onFocus,()=>g.onItemFocus(m)),onKeyDown:ve(n.onKeyDown,C=>{if(C.key==="Tab"&&C.shiftKey){g.onItemShiftTab();return}if(C.target!==C.currentTarget)return;const M=o9(C,g.orientation,g.dir);if(M!==void 0){if(C.metaKey||C.ctrlKey||C.altKey||C.shiftKey)return;C.preventDefault();let V=E().filter(B=>B.focusable).map(B=>B.ref.current);if(M==="last")V.reverse();else if(M==="prev"||M==="next"){M==="prev"&&V.reverse();const B=V.indexOf(C.currentTarget);V=g.loop?a9(V,B+1):V.slice(B+1)}setTimeout(()=>cR(V))}}),children:typeof l=="function"?l({isCurrentTabStop:v,hasTabStop:T!=null}):l})})});lR.displayName=aR;var s9={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function i9(n,e){return e!=="rtl"?n:n==="ArrowLeft"?"ArrowRight":n==="ArrowRight"?"ArrowLeft":n}function o9(n,e,t){const r=i9(n.key,t);if(!(e==="vertical"&&["ArrowLeft","ArrowRight"].includes(r))&&!(e==="horizontal"&&["ArrowUp","ArrowDown"].includes(r)))return s9[r]}function cR(n,e=!1){const t=document.activeElement;for(const r of n)if(r===t||(r.focus({preventScroll:e}),document.activeElement!==t))return}function a9(n,e){return n.map((t,r)=>n[(e+r)%n.length])}var l9=oR,c9=lR,u9=function(n){if(typeof document>"u")return null;var e=Array.isArray(n)?n[0]:n;return e.ownerDocument.body},wl=new WeakMap,Wh=new WeakMap,Hh={},Jg=0,uR=function(n){return n&&(n.host||uR(n.parentNode))},d9=function(n,e){return e.map(function(t){if(n.contains(t))return t;var r=uR(t);return r&&n.contains(r)?r:(console.error("aria-hidden",t,"in not contained inside",n,". Doing nothing"),null)}).filter(function(t){return!!t})},h9=function(n,e,t,r){var s=d9(e,Array.isArray(n)?n:[n]);Hh[t]||(Hh[t]=new WeakMap);var o=Hh[t],l=[],u=new Set,f=new Set(s),m=function(v){!v||u.has(v)||(u.add(v),m(v.parentNode))};s.forEach(m);var g=function(v){!v||f.has(v)||Array.prototype.forEach.call(v.children,function(E){if(u.has(E))g(E);else try{var b=E.getAttribute(r),I=b!==null&&b!=="false",T=(wl.get(E)||0)+1,C=(o.get(E)||0)+1;wl.set(E,T),o.set(E,C),l.push(E),T===1&&I&&Wh.set(E,!0),C===1&&E.setAttribute(t,"true"),I||E.setAttribute(r,"true")}catch(M){console.error("aria-hidden: cannot operate on ",E,M)}})};return g(e),u.clear(),Jg++,function(){l.forEach(function(v){var E=wl.get(v)-1,b=o.get(v)-1;wl.set(v,E),o.set(v,b),E||(Wh.has(v)||v.removeAttribute(r),Wh.delete(v)),b||v.removeAttribute(t)}),Jg--,Jg||(wl=new WeakMap,wl=new WeakMap,Wh=new WeakMap,Hh={})}},K_=function(n,e,t){t===void 0&&(t="data-aria-hidden");var r=Array.from(Array.isArray(n)?n:[n]),s=u9(n);return s?(r.push.apply(r,Array.from(s.querySelectorAll("[aria-live]"))),h9(r,s,t,"aria-hidden")):function(){return null}},Rs=function(){return Rs=Object.assign||function(e){for(var t,r=1,s=arguments.length;r<s;r++){t=arguments[r];for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])}return e},Rs.apply(this,arguments)};function dR(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(n);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(n,r[s])&&(t[r[s]]=n[r[s]]);return t}function f9(n,e,t){if(t||arguments.length===2)for(var r=0,s=e.length,o;r<s;r++)(o||!(r in e))&&(o||(o=Array.prototype.slice.call(e,0,r)),o[r]=e[r]);return n.concat(o||Array.prototype.slice.call(e))}var uf="right-scroll-bar-position",df="width-before-scroll-bar",p9="with-scroll-bars-hidden",m9="--removed-body-scroll-bar-size";function Zg(n,e){return typeof n=="function"?n(e):n&&(n.current=e),n}function g9(n,e){var t=w.useState(function(){return{value:n,callback:e,facade:{get current(){return t.value},set current(r){var s=t.value;s!==r&&(t.value=r,t.callback(r,s))}}}})[0];return t.callback=e,t.facade}var y9=typeof window<"u"?w.useLayoutEffect:w.useEffect,oT=new WeakMap;function v9(n,e){var t=g9(null,function(r){return n.forEach(function(s){return Zg(s,r)})});return y9(function(){var r=oT.get(t);if(r){var s=new Set(r),o=new Set(n),l=t.current;s.forEach(function(u){o.has(u)||Zg(u,null)}),o.forEach(function(u){s.has(u)||Zg(u,l)})}oT.set(t,n)},[n]),t}function _9(n){return n}function w9(n,e){e===void 0&&(e=_9);var t=[],r=!1,s={read:function(){if(r)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return t.length?t[t.length-1]:n},useMedium:function(o){var l=e(o,r);return t.push(l),function(){t=t.filter(function(u){return u!==l})}},assignSyncMedium:function(o){for(r=!0;t.length;){var l=t;t=[],l.forEach(o)}t={push:function(u){return o(u)},filter:function(){return t}}},assignMedium:function(o){r=!0;var l=[];if(t.length){var u=t;t=[],u.forEach(o),l=t}var f=function(){var g=l;l=[],g.forEach(o)},m=function(){return Promise.resolve().then(f)};m(),t={push:function(g){l.push(g),m()},filter:function(g){return l=l.filter(g),t}}}};return s}function x9(n){n===void 0&&(n={});var e=w9(null);return e.options=Rs({async:!0,ssr:!1},n),e}var hR=function(n){var e=n.sideCar,t=dR(n,["sideCar"]);if(!e)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var r=e.read();if(!r)throw new Error("Sidecar medium not found");return w.createElement(r,Rs({},t))};hR.isSideCarExport=!0;function E9(n,e){return n.useMedium(e),hR}var fR=x9(),ey=function(){},Bp=w.forwardRef(function(n,e){var t=w.useRef(null),r=w.useState({onScrollCapture:ey,onWheelCapture:ey,onTouchMoveCapture:ey}),s=r[0],o=r[1],l=n.forwardProps,u=n.children,f=n.className,m=n.removeScrollBar,g=n.enabled,v=n.shards,E=n.sideCar,b=n.noRelative,I=n.noIsolation,T=n.inert,C=n.allowPinchZoom,M=n.as,D=M===void 0?"div":M,V=n.gapMode,B=dR(n,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),H=E,Q=v9([t,e]),k=Rs(Rs({},B),s);return w.createElement(w.Fragment,null,g&&w.createElement(H,{sideCar:fR,removeScrollBar:m,shards:v,noRelative:b,noIsolation:I,inert:T,setCallbacks:o,allowPinchZoom:!!C,lockRef:t,gapMode:V}),l?w.cloneElement(w.Children.only(u),Rs(Rs({},k),{ref:Q})):w.createElement(D,Rs({},k,{className:f,ref:Q}),u))});Bp.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};Bp.classNames={fullWidth:df,zeroRight:uf};var b9=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function T9(){if(!document)return null;var n=document.createElement("style");n.type="text/css";var e=b9();return e&&n.setAttribute("nonce",e),n}function S9(n,e){n.styleSheet?n.styleSheet.cssText=e:n.appendChild(document.createTextNode(e))}function C9(n){var e=document.head||document.getElementsByTagName("head")[0];e.appendChild(n)}var I9=function(){var n=0,e=null;return{add:function(t){n==0&&(e=T9())&&(S9(e,t),C9(e)),n++},remove:function(){n--,!n&&e&&(e.parentNode&&e.parentNode.removeChild(e),e=null)}}},R9=function(){var n=I9();return function(e,t){w.useEffect(function(){return n.add(e),function(){n.remove()}},[e&&t])}},pR=function(){var n=R9(),e=function(t){var r=t.styles,s=t.dynamic;return n(r,s),null};return e},N9={left:0,top:0,right:0,gap:0},ty=function(n){return parseInt(n||"",10)||0},A9=function(n){var e=window.getComputedStyle(document.body),t=e[n==="padding"?"paddingLeft":"marginLeft"],r=e[n==="padding"?"paddingTop":"marginTop"],s=e[n==="padding"?"paddingRight":"marginRight"];return[ty(t),ty(r),ty(s)]},k9=function(n){if(n===void 0&&(n="margin"),typeof window>"u")return N9;var e=A9(n),t=document.documentElement.clientWidth,r=window.innerWidth;return{left:e[0],top:e[1],right:e[2],gap:Math.max(0,r-t+e[2]-e[0])}},P9=pR(),Ll="data-scroll-locked",j9=function(n,e,t,r){var s=n.left,o=n.top,l=n.right,u=n.gap;return t===void 0&&(t="margin"),`
  .`.concat(p9,` {
   overflow: hidden `).concat(r,`;
   padding-right: `).concat(u,"px ").concat(r,`;
  }
  body[`).concat(Ll,`] {
    overflow: hidden `).concat(r,`;
    overscroll-behavior: contain;
    `).concat([e&&"position: relative ".concat(r,";"),t==="margin"&&`
    padding-left: `.concat(s,`px;
    padding-top: `).concat(o,`px;
    padding-right: `).concat(l,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(u,"px ").concat(r,`;
    `),t==="padding"&&"padding-right: ".concat(u,"px ").concat(r,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(uf,` {
    right: `).concat(u,"px ").concat(r,`;
  }
  
  .`).concat(df,` {
    margin-right: `).concat(u,"px ").concat(r,`;
  }
  
  .`).concat(uf," .").concat(uf,` {
    right: 0 `).concat(r,`;
  }
  
  .`).concat(df," .").concat(df,` {
    margin-right: 0 `).concat(r,`;
  }
  
  body[`).concat(Ll,`] {
    `).concat(m9,": ").concat(u,`px;
  }
`)},aT=function(){var n=parseInt(document.body.getAttribute(Ll)||"0",10);return isFinite(n)?n:0},D9=function(){w.useEffect(function(){return document.body.setAttribute(Ll,(aT()+1).toString()),function(){var n=aT()-1;n<=0?document.body.removeAttribute(Ll):document.body.setAttribute(Ll,n.toString())}},[])},O9=function(n){var e=n.noRelative,t=n.noImportant,r=n.gapMode,s=r===void 0?"margin":r;D9();var o=w.useMemo(function(){return k9(s)},[s]);return w.createElement(P9,{styles:j9(o,!e,s,t?"":"!important")})},Zy=!1;if(typeof window<"u")try{var qh=Object.defineProperty({},"passive",{get:function(){return Zy=!0,!0}});window.addEventListener("test",qh,qh),window.removeEventListener("test",qh,qh)}catch{Zy=!1}var xl=Zy?{passive:!1}:!1,M9=function(n){return n.tagName==="TEXTAREA"},mR=function(n,e){if(!(n instanceof Element))return!1;var t=window.getComputedStyle(n);return t[e]!=="hidden"&&!(t.overflowY===t.overflowX&&!M9(n)&&t[e]==="visible")},L9=function(n){return mR(n,"overflowY")},V9=function(n){return mR(n,"overflowX")},lT=function(n,e){var t=e.ownerDocument,r=e;do{typeof ShadowRoot<"u"&&r instanceof ShadowRoot&&(r=r.host);var s=gR(n,r);if(s){var o=yR(n,r),l=o[1],u=o[2];if(l>u)return!0}r=r.parentNode}while(r&&r!==t.body);return!1},F9=function(n){var e=n.scrollTop,t=n.scrollHeight,r=n.clientHeight;return[e,t,r]},U9=function(n){var e=n.scrollLeft,t=n.scrollWidth,r=n.clientWidth;return[e,t,r]},gR=function(n,e){return n==="v"?L9(e):V9(e)},yR=function(n,e){return n==="v"?F9(e):U9(e)},$9=function(n,e){return n==="h"&&e==="rtl"?-1:1},B9=function(n,e,t,r,s){var o=$9(n,window.getComputedStyle(e).direction),l=o*r,u=t.target,f=e.contains(u),m=!1,g=l>0,v=0,E=0;do{if(!u)break;var b=yR(n,u),I=b[0],T=b[1],C=b[2],M=T-C-o*I;(I||M)&&gR(n,u)&&(v+=M,E+=I);var D=u.parentNode;u=D&&D.nodeType===Node.DOCUMENT_FRAGMENT_NODE?D.host:D}while(!f&&u!==document.body||f&&(e.contains(u)||e===u));return(g&&Math.abs(v)<1||!g&&Math.abs(E)<1)&&(m=!0),m},Gh=function(n){return"changedTouches"in n?[n.changedTouches[0].clientX,n.changedTouches[0].clientY]:[0,0]},cT=function(n){return[n.deltaX,n.deltaY]},uT=function(n){return n&&"current"in n?n.current:n},z9=function(n,e){return n[0]===e[0]&&n[1]===e[1]},W9=function(n){return`
  .block-interactivity-`.concat(n,` {pointer-events: none;}
  .allow-interactivity-`).concat(n,` {pointer-events: all;}
`)},H9=0,El=[];function q9(n){var e=w.useRef([]),t=w.useRef([0,0]),r=w.useRef(),s=w.useState(H9++)[0],o=w.useState(pR)[0],l=w.useRef(n);w.useEffect(function(){l.current=n},[n]),w.useEffect(function(){if(n.inert){document.body.classList.add("block-interactivity-".concat(s));var T=f9([n.lockRef.current],(n.shards||[]).map(uT),!0).filter(Boolean);return T.forEach(function(C){return C.classList.add("allow-interactivity-".concat(s))}),function(){document.body.classList.remove("block-interactivity-".concat(s)),T.forEach(function(C){return C.classList.remove("allow-interactivity-".concat(s))})}}},[n.inert,n.lockRef.current,n.shards]);var u=w.useCallback(function(T,C){if("touches"in T&&T.touches.length===2||T.type==="wheel"&&T.ctrlKey)return!l.current.allowPinchZoom;var M=Gh(T),D=t.current,V="deltaX"in T?T.deltaX:D[0]-M[0],B="deltaY"in T?T.deltaY:D[1]-M[1],H,Q=T.target,k=Math.abs(V)>Math.abs(B)?"h":"v";if("touches"in T&&k==="h"&&Q.type==="range")return!1;var R=lT(k,Q);if(!R)return!0;if(R?H=k:(H=k==="v"?"h":"v",R=lT(k,Q)),!R)return!1;if(!r.current&&"changedTouches"in T&&(V||B)&&(r.current=H),!H)return!0;var N=r.current||H;return B9(N,C,T,N==="h"?V:B)},[]),f=w.useCallback(function(T){var C=T;if(!(!El.length||El[El.length-1]!==o)){var M="deltaY"in C?cT(C):Gh(C),D=e.current.filter(function(H){return H.name===C.type&&(H.target===C.target||C.target===H.shadowParent)&&z9(H.delta,M)})[0];if(D&&D.should){C.cancelable&&C.preventDefault();return}if(!D){var V=(l.current.shards||[]).map(uT).filter(Boolean).filter(function(H){return H.contains(C.target)}),B=V.length>0?u(C,V[0]):!l.current.noIsolation;B&&C.cancelable&&C.preventDefault()}}},[]),m=w.useCallback(function(T,C,M,D){var V={name:T,delta:C,target:M,should:D,shadowParent:G9(M)};e.current.push(V),setTimeout(function(){e.current=e.current.filter(function(B){return B!==V})},1)},[]),g=w.useCallback(function(T){t.current=Gh(T),r.current=void 0},[]),v=w.useCallback(function(T){m(T.type,cT(T),T.target,u(T,n.lockRef.current))},[]),E=w.useCallback(function(T){m(T.type,Gh(T),T.target,u(T,n.lockRef.current))},[]);w.useEffect(function(){return El.push(o),n.setCallbacks({onScrollCapture:v,onWheelCapture:v,onTouchMoveCapture:E}),document.addEventListener("wheel",f,xl),document.addEventListener("touchmove",f,xl),document.addEventListener("touchstart",g,xl),function(){El=El.filter(function(T){return T!==o}),document.removeEventListener("wheel",f,xl),document.removeEventListener("touchmove",f,xl),document.removeEventListener("touchstart",g,xl)}},[]);var b=n.removeScrollBar,I=n.inert;return w.createElement(w.Fragment,null,I?w.createElement(o,{styles:W9(s)}):null,b?w.createElement(O9,{noRelative:n.noRelative,gapMode:n.gapMode}):null)}function G9(n){for(var e=null;n!==null;)n instanceof ShadowRoot&&(e=n.host,n=n.host),n=n.parentNode;return e}const K9=E9(fR,q9);var zp=w.forwardRef(function(n,e){return w.createElement(Bp,Rs({},n,{ref:e,sideCar:K9}))});zp.classNames=Bp.classNames;var ev=["Enter"," "],Q9=["ArrowDown","PageUp","Home"],vR=["ArrowUp","PageDown","End"],Y9=[...Q9,...vR],X9={ltr:[...ev,"ArrowRight"],rtl:[...ev,"ArrowLeft"]},J9={ltr:["ArrowLeft"],rtl:["ArrowRight"]},_d="Menu",[Wu,Z9,e$]=ip(_d),[Oa,_R]=es(_d,[e$,nc,iR]),Wp=nc(),wR=iR(),[t$,Ma]=Oa(_d),[n$,wd]=Oa(_d),xR=n=>{const{__scopeMenu:e,open:t=!1,children:r,dir:s,onOpenChange:o,modal:l=!0}=n,u=Wp(e),[f,m]=w.useState(null),g=w.useRef(!1),v=Vn(o),E=q_(s);return w.useEffect(()=>{const b=()=>{g.current=!0,document.addEventListener("pointerdown",I,{capture:!0,once:!0}),document.addEventListener("pointermove",I,{capture:!0,once:!0})},I=()=>g.current=!1;return document.addEventListener("keydown",b,{capture:!0}),()=>{document.removeEventListener("keydown",b,{capture:!0}),document.removeEventListener("pointerdown",I,{capture:!0}),document.removeEventListener("pointermove",I,{capture:!0})}},[]),d.jsx(K1,{...u,children:d.jsx(t$,{scope:e,open:t,onOpenChange:v,content:f,onContentChange:m,children:d.jsx(n$,{scope:e,onClose:w.useCallback(()=>v(!1),[v]),isUsingKeyboardRef:g,dir:E,modal:l,children:r})})})};xR.displayName=_d;var r$="MenuAnchor",Q_=w.forwardRef((n,e)=>{const{__scopeMenu:t,...r}=n,s=Wp(t);return d.jsx(Dv,{...s,...r,ref:e})});Q_.displayName=r$;var Y_="MenuPortal",[s$,ER]=Oa(Y_,{forceMount:void 0}),bR=n=>{const{__scopeMenu:e,forceMount:t,children:r,container:s}=n,o=Ma(Y_,e);return d.jsx(s$,{scope:e,forceMount:t,children:d.jsx(ts,{present:t||o.open,children:d.jsx(Qu,{asChild:!0,container:s,children:r})})})};bR.displayName=Y_;var Dr="MenuContent",[i$,X_]=Oa(Dr),TR=w.forwardRef((n,e)=>{const t=ER(Dr,n.__scopeMenu),{forceMount:r=t.forceMount,...s}=n,o=Ma(Dr,n.__scopeMenu),l=wd(Dr,n.__scopeMenu);return d.jsx(Wu.Provider,{scope:n.__scopeMenu,children:d.jsx(ts,{present:r||o.open,children:d.jsx(Wu.Slot,{scope:n.__scopeMenu,children:l.modal?d.jsx(o$,{...s,ref:e}):d.jsx(a$,{...s,ref:e})})})})}),o$=w.forwardRef((n,e)=>{const t=Ma(Dr,n.__scopeMenu),r=w.useRef(null),s=ct(e,r);return w.useEffect(()=>{const o=r.current;if(o)return K_(o)},[]),d.jsx(J_,{...n,ref:s,trapFocus:t.open,disableOutsidePointerEvents:t.open,disableOutsideScroll:!0,onFocusOutside:ve(n.onFocusOutside,o=>o.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>t.onOpenChange(!1)})}),a$=w.forwardRef((n,e)=>{const t=Ma(Dr,n.__scopeMenu);return d.jsx(J_,{...n,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>t.onOpenChange(!1)})}),l$=ha("MenuContent.ScrollLock"),J_=w.forwardRef((n,e)=>{const{__scopeMenu:t,loop:r=!1,trapFocus:s,onOpenAutoFocus:o,onCloseAutoFocus:l,disableOutsidePointerEvents:u,onEntryFocus:f,onEscapeKeyDown:m,onPointerDownOutside:g,onFocusOutside:v,onInteractOutside:E,onDismiss:b,disableOutsideScroll:I,...T}=n,C=Ma(Dr,t),M=wd(Dr,t),D=Wp(t),V=wR(t),B=Z9(t),[H,Q]=w.useState(null),k=w.useRef(null),R=ct(e,k,C.onContentChange),N=w.useRef(0),j=w.useRef(""),L=w.useRef(0),F=w.useRef(null),O=w.useRef("right"),ne=w.useRef(0),Ee=I?zp:w.Fragment,de=I?{as:l$,allowPinchZoom:!0}:void 0,ye=q=>{const ie=j.current+q,z=B().filter(re=>!re.disabled),X=document.activeElement,fe=z.find(re=>re.ref.current===X)?.textValue,me=z.map(re=>re.textValue),Re=w$(me,ie,fe),ke=z.find(re=>re.textValue===Re)?.ref.current;(function re(Se){j.current=Se,window.clearTimeout(N.current),Se!==""&&(N.current=window.setTimeout(()=>re(""),1e3))})(ie),ke&&setTimeout(()=>ke.focus())};w.useEffect(()=>()=>window.clearTimeout(N.current),[]),G_();const Z=w.useCallback(q=>O.current===F.current?.side&&E$(q,F.current?.area),[]);return d.jsx(i$,{scope:t,searchRef:j,onItemEnter:w.useCallback(q=>{Z(q)&&q.preventDefault()},[Z]),onItemLeave:w.useCallback(q=>{Z(q)||(k.current?.focus(),Q(null))},[Z]),onTriggerLeave:w.useCallback(q=>{Z(q)&&q.preventDefault()},[Z]),pointerGraceTimerRef:L,onPointerGraceIntentChange:w.useCallback(q=>{F.current=q},[]),children:d.jsx(Ee,{...de,children:d.jsx($p,{asChild:!0,trapped:s,onMountAutoFocus:ve(o,q=>{q.preventDefault(),k.current?.focus({preventScroll:!0})}),onUnmountAutoFocus:l,children:d.jsx(Jl,{asChild:!0,disableOutsidePointerEvents:u,onEscapeKeyDown:m,onPointerDownOutside:g,onFocusOutside:v,onInteractOutside:E,onDismiss:b,children:d.jsx(l9,{asChild:!0,...V,dir:M.dir,orientation:"vertical",loop:r,currentTabStopId:H,onCurrentTabStopIdChange:Q,onEntryFocus:ve(f,q=>{M.isUsingKeyboardRef.current||q.preventDefault()}),preventScrollOnEntryFocus:!0,children:d.jsx(Ov,{role:"menu","aria-orientation":"vertical","data-state":UR(C.open),"data-radix-menu-content":"",dir:M.dir,...D,...T,ref:R,style:{outline:"none",...T.style},onKeyDown:ve(T.onKeyDown,q=>{const z=q.target.closest("[data-radix-menu-content]")===q.currentTarget,X=q.ctrlKey||q.altKey||q.metaKey,fe=q.key.length===1;z&&(q.key==="Tab"&&q.preventDefault(),!X&&fe&&ye(q.key));const me=k.current;if(q.target!==me||!Y9.includes(q.key))return;q.preventDefault();const ke=B().filter(re=>!re.disabled).map(re=>re.ref.current);vR.includes(q.key)&&ke.reverse(),v$(ke)}),onBlur:ve(n.onBlur,q=>{q.currentTarget.contains(q.target)||(window.clearTimeout(N.current),j.current="")}),onPointerMove:ve(n.onPointerMove,Hu(q=>{const ie=q.target,z=ne.current!==q.clientX;if(q.currentTarget.contains(ie)&&z){const X=q.clientX>ne.current?"right":"left";O.current=X,ne.current=q.clientX}}))})})})})})})});TR.displayName=Dr;var c$="MenuGroup",Z_=w.forwardRef((n,e)=>{const{__scopeMenu:t,...r}=n;return d.jsx(Be.div,{role:"group",...r,ref:e})});Z_.displayName=c$;var u$="MenuLabel",SR=w.forwardRef((n,e)=>{const{__scopeMenu:t,...r}=n;return d.jsx(Be.div,{...r,ref:e})});SR.displayName=u$;var Kf="MenuItem",dT="menu.itemSelect",Hp=w.forwardRef((n,e)=>{const{disabled:t=!1,onSelect:r,...s}=n,o=w.useRef(null),l=wd(Kf,n.__scopeMenu),u=X_(Kf,n.__scopeMenu),f=ct(e,o),m=w.useRef(!1),g=()=>{const v=o.current;if(!t&&v){const E=new CustomEvent(dT,{bubbles:!0,cancelable:!0});v.addEventListener(dT,b=>r?.(b),{once:!0}),mv(v,E),E.defaultPrevented?m.current=!1:l.onClose()}};return d.jsx(CR,{...s,ref:f,disabled:t,onClick:ve(n.onClick,g),onPointerDown:v=>{n.onPointerDown?.(v),m.current=!0},onPointerUp:ve(n.onPointerUp,v=>{m.current||v.currentTarget?.click()}),onKeyDown:ve(n.onKeyDown,v=>{const E=u.searchRef.current!=="";t||E&&v.key===" "||ev.includes(v.key)&&(v.currentTarget.click(),v.preventDefault())})})});Hp.displayName=Kf;var CR=w.forwardRef((n,e)=>{const{__scopeMenu:t,disabled:r=!1,textValue:s,...o}=n,l=X_(Kf,t),u=wR(t),f=w.useRef(null),m=ct(e,f),[g,v]=w.useState(!1),[E,b]=w.useState("");return w.useEffect(()=>{const I=f.current;I&&b((I.textContent??"").trim())},[o.children]),d.jsx(Wu.ItemSlot,{scope:t,disabled:r,textValue:s??E,children:d.jsx(c9,{asChild:!0,...u,focusable:!r,children:d.jsx(Be.div,{role:"menuitem","data-highlighted":g?"":void 0,"aria-disabled":r||void 0,"data-disabled":r?"":void 0,...o,ref:m,onPointerMove:ve(n.onPointerMove,Hu(I=>{r?l.onItemLeave(I):(l.onItemEnter(I),I.defaultPrevented||I.currentTarget.focus({preventScroll:!0}))})),onPointerLeave:ve(n.onPointerLeave,Hu(I=>l.onItemLeave(I))),onFocus:ve(n.onFocus,()=>v(!0)),onBlur:ve(n.onBlur,()=>v(!1))})})})}),d$="MenuCheckboxItem",IR=w.forwardRef((n,e)=>{const{checked:t=!1,onCheckedChange:r,...s}=n;return d.jsx(PR,{scope:n.__scopeMenu,checked:t,children:d.jsx(Hp,{role:"menuitemcheckbox","aria-checked":Qf(t)?"mixed":t,...s,ref:e,"data-state":tw(t),onSelect:ve(s.onSelect,()=>r?.(Qf(t)?!0:!t),{checkForDefaultPrevented:!1})})})});IR.displayName=d$;var RR="MenuRadioGroup",[h$,f$]=Oa(RR,{value:void 0,onValueChange:()=>{}}),NR=w.forwardRef((n,e)=>{const{value:t,onValueChange:r,...s}=n,o=Vn(r);return d.jsx(h$,{scope:n.__scopeMenu,value:t,onValueChange:o,children:d.jsx(Z_,{...s,ref:e})})});NR.displayName=RR;var AR="MenuRadioItem",kR=w.forwardRef((n,e)=>{const{value:t,...r}=n,s=f$(AR,n.__scopeMenu),o=t===s.value;return d.jsx(PR,{scope:n.__scopeMenu,checked:o,children:d.jsx(Hp,{role:"menuitemradio","aria-checked":o,...r,ref:e,"data-state":tw(o),onSelect:ve(r.onSelect,()=>s.onValueChange?.(t),{checkForDefaultPrevented:!1})})})});kR.displayName=AR;var ew="MenuItemIndicator",[PR,p$]=Oa(ew,{checked:!1}),jR=w.forwardRef((n,e)=>{const{__scopeMenu:t,forceMount:r,...s}=n,o=p$(ew,t);return d.jsx(ts,{present:r||Qf(o.checked)||o.checked===!0,children:d.jsx(Be.span,{...s,ref:e,"data-state":tw(o.checked)})})});jR.displayName=ew;var m$="MenuSeparator",DR=w.forwardRef((n,e)=>{const{__scopeMenu:t,...r}=n;return d.jsx(Be.div,{role:"separator","aria-orientation":"horizontal",...r,ref:e})});DR.displayName=m$;var g$="MenuArrow",OR=w.forwardRef((n,e)=>{const{__scopeMenu:t,...r}=n,s=Wp(t);return d.jsx(Mv,{...s,...r,ref:e})});OR.displayName=g$;var y$="MenuSub",[g7,MR]=Oa(y$),uu="MenuSubTrigger",LR=w.forwardRef((n,e)=>{const t=Ma(uu,n.__scopeMenu),r=wd(uu,n.__scopeMenu),s=MR(uu,n.__scopeMenu),o=X_(uu,n.__scopeMenu),l=w.useRef(null),{pointerGraceTimerRef:u,onPointerGraceIntentChange:f}=o,m={__scopeMenu:n.__scopeMenu},g=w.useCallback(()=>{l.current&&window.clearTimeout(l.current),l.current=null},[]);return w.useEffect(()=>g,[g]),w.useEffect(()=>{const v=u.current;return()=>{window.clearTimeout(v),f(null)}},[u,f]),d.jsx(Q_,{asChild:!0,...m,children:d.jsx(CR,{id:s.triggerId,"aria-haspopup":"menu","aria-expanded":t.open,"aria-controls":s.contentId,"data-state":UR(t.open),...n,ref:sp(e,s.onTriggerChange),onClick:v=>{n.onClick?.(v),!(n.disabled||v.defaultPrevented)&&(v.currentTarget.focus(),t.open||t.onOpenChange(!0))},onPointerMove:ve(n.onPointerMove,Hu(v=>{o.onItemEnter(v),!v.defaultPrevented&&!n.disabled&&!t.open&&!l.current&&(o.onPointerGraceIntentChange(null),l.current=window.setTimeout(()=>{t.onOpenChange(!0),g()},100))})),onPointerLeave:ve(n.onPointerLeave,Hu(v=>{g();const E=t.content?.getBoundingClientRect();if(E){const b=t.content?.dataset.side,I=b==="right",T=I?-5:5,C=E[I?"left":"right"],M=E[I?"right":"left"];o.onPointerGraceIntentChange({area:[{x:v.clientX+T,y:v.clientY},{x:C,y:E.top},{x:M,y:E.top},{x:M,y:E.bottom},{x:C,y:E.bottom}],side:b}),window.clearTimeout(u.current),u.current=window.setTimeout(()=>o.onPointerGraceIntentChange(null),300)}else{if(o.onTriggerLeave(v),v.defaultPrevented)return;o.onPointerGraceIntentChange(null)}})),onKeyDown:ve(n.onKeyDown,v=>{const E=o.searchRef.current!=="";n.disabled||E&&v.key===" "||X9[r.dir].includes(v.key)&&(t.onOpenChange(!0),t.content?.focus(),v.preventDefault())})})})});LR.displayName=uu;var VR="MenuSubContent",FR=w.forwardRef((n,e)=>{const t=ER(Dr,n.__scopeMenu),{forceMount:r=t.forceMount,...s}=n,o=Ma(Dr,n.__scopeMenu),l=wd(Dr,n.__scopeMenu),u=MR(VR,n.__scopeMenu),f=w.useRef(null),m=ct(e,f);return d.jsx(Wu.Provider,{scope:n.__scopeMenu,children:d.jsx(ts,{present:r||o.open,children:d.jsx(Wu.Slot,{scope:n.__scopeMenu,children:d.jsx(J_,{id:u.contentId,"aria-labelledby":u.triggerId,...s,ref:m,align:"start",side:l.dir==="rtl"?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:g=>{l.isUsingKeyboardRef.current&&f.current?.focus(),g.preventDefault()},onCloseAutoFocus:g=>g.preventDefault(),onFocusOutside:ve(n.onFocusOutside,g=>{g.target!==u.trigger&&o.onOpenChange(!1)}),onEscapeKeyDown:ve(n.onEscapeKeyDown,g=>{l.onClose(),g.preventDefault()}),onKeyDown:ve(n.onKeyDown,g=>{const v=g.currentTarget.contains(g.target),E=J9[l.dir].includes(g.key);v&&E&&(o.onOpenChange(!1),u.trigger?.focus(),g.preventDefault())})})})})})});FR.displayName=VR;function UR(n){return n?"open":"closed"}function Qf(n){return n==="indeterminate"}function tw(n){return Qf(n)?"indeterminate":n?"checked":"unchecked"}function v$(n){const e=document.activeElement;for(const t of n)if(t===e||(t.focus(),document.activeElement!==e))return}function _$(n,e){return n.map((t,r)=>n[(e+r)%n.length])}function w$(n,e,t){const s=e.length>1&&Array.from(e).every(m=>m===e[0])?e[0]:e,o=t?n.indexOf(t):-1;let l=_$(n,Math.max(o,0));s.length===1&&(l=l.filter(m=>m!==t));const f=l.find(m=>m.toLowerCase().startsWith(s.toLowerCase()));return f!==t?f:void 0}function x$(n,e){const{x:t,y:r}=n;let s=!1;for(let o=0,l=e.length-1;o<e.length;l=o++){const u=e[o],f=e[l],m=u.x,g=u.y,v=f.x,E=f.y;g>r!=E>r&&t<(v-m)*(r-g)/(E-g)+m&&(s=!s)}return s}function E$(n,e){if(!e)return!1;const t={x:n.clientX,y:n.clientY};return x$(t,e)}function Hu(n){return e=>e.pointerType==="mouse"?n(e):void 0}var b$=xR,T$=Q_,S$=bR,C$=TR,I$=Z_,R$=SR,N$=Hp,A$=IR,k$=NR,P$=kR,j$=jR,D$=DR,O$=OR,M$=LR,L$=FR,qp="DropdownMenu",[V$]=es(qp,[_R]),Fn=_R(),[F$,$R]=V$(qp),BR=n=>{const{__scopeDropdownMenu:e,children:t,dir:r,open:s,defaultOpen:o,onOpenChange:l,modal:u=!0}=n,f=Fn(e),m=w.useRef(null),[g,v]=fa({prop:s,defaultProp:o??!1,onChange:l,caller:qp});return d.jsx(F$,{scope:e,triggerId:fi(),triggerRef:m,contentId:fi(),open:g,onOpenChange:v,onOpenToggle:w.useCallback(()=>v(E=>!E),[v]),modal:u,children:d.jsx(b$,{...f,open:g,onOpenChange:v,dir:r,modal:u,children:t})})};BR.displayName=qp;var zR="DropdownMenuTrigger",WR=w.forwardRef((n,e)=>{const{__scopeDropdownMenu:t,disabled:r=!1,...s}=n,o=$R(zR,t),l=Fn(t);return d.jsx(T$,{asChild:!0,...l,children:d.jsx(Be.button,{type:"button",id:o.triggerId,"aria-haspopup":"menu","aria-expanded":o.open,"aria-controls":o.open?o.contentId:void 0,"data-state":o.open?"open":"closed","data-disabled":r?"":void 0,disabled:r,...s,ref:sp(e,o.triggerRef),onPointerDown:ve(n.onPointerDown,u=>{!r&&u.button===0&&u.ctrlKey===!1&&(o.onOpenToggle(),o.open||u.preventDefault())}),onKeyDown:ve(n.onKeyDown,u=>{r||(["Enter"," "].includes(u.key)&&o.onOpenToggle(),u.key==="ArrowDown"&&o.onOpenChange(!0),["Enter"," ","ArrowDown"].includes(u.key)&&u.preventDefault())})})})});WR.displayName=zR;var U$="DropdownMenuPortal",HR=n=>{const{__scopeDropdownMenu:e,...t}=n,r=Fn(e);return d.jsx(S$,{...r,...t})};HR.displayName=U$;var qR="DropdownMenuContent",GR=w.forwardRef((n,e)=>{const{__scopeDropdownMenu:t,...r}=n,s=$R(qR,t),o=Fn(t),l=w.useRef(!1);return d.jsx(C$,{id:s.contentId,"aria-labelledby":s.triggerId,...o,...r,ref:e,onCloseAutoFocus:ve(n.onCloseAutoFocus,u=>{l.current||s.triggerRef.current?.focus(),l.current=!1,u.preventDefault()}),onInteractOutside:ve(n.onInteractOutside,u=>{const f=u.detail.originalEvent,m=f.button===0&&f.ctrlKey===!0,g=f.button===2||m;(!s.modal||g)&&(l.current=!0)}),style:{...n.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});GR.displayName=qR;var $$="DropdownMenuGroup",B$=w.forwardRef((n,e)=>{const{__scopeDropdownMenu:t,...r}=n,s=Fn(t);return d.jsx(I$,{...s,...r,ref:e})});B$.displayName=$$;var z$="DropdownMenuLabel",KR=w.forwardRef((n,e)=>{const{__scopeDropdownMenu:t,...r}=n,s=Fn(t);return d.jsx(R$,{...s,...r,ref:e})});KR.displayName=z$;var W$="DropdownMenuItem",QR=w.forwardRef((n,e)=>{const{__scopeDropdownMenu:t,...r}=n,s=Fn(t);return d.jsx(N$,{...s,...r,ref:e})});QR.displayName=W$;var H$="DropdownMenuCheckboxItem",YR=w.forwardRef((n,e)=>{const{__scopeDropdownMenu:t,...r}=n,s=Fn(t);return d.jsx(A$,{...s,...r,ref:e})});YR.displayName=H$;var q$="DropdownMenuRadioGroup",G$=w.forwardRef((n,e)=>{const{__scopeDropdownMenu:t,...r}=n,s=Fn(t);return d.jsx(k$,{...s,...r,ref:e})});G$.displayName=q$;var K$="DropdownMenuRadioItem",XR=w.forwardRef((n,e)=>{const{__scopeDropdownMenu:t,...r}=n,s=Fn(t);return d.jsx(P$,{...s,...r,ref:e})});XR.displayName=K$;var Q$="DropdownMenuItemIndicator",JR=w.forwardRef((n,e)=>{const{__scopeDropdownMenu:t,...r}=n,s=Fn(t);return d.jsx(j$,{...s,...r,ref:e})});JR.displayName=Q$;var Y$="DropdownMenuSeparator",ZR=w.forwardRef((n,e)=>{const{__scopeDropdownMenu:t,...r}=n,s=Fn(t);return d.jsx(D$,{...s,...r,ref:e})});ZR.displayName=Y$;var X$="DropdownMenuArrow",J$=w.forwardRef((n,e)=>{const{__scopeDropdownMenu:t,...r}=n,s=Fn(t);return d.jsx(O$,{...s,...r,ref:e})});J$.displayName=X$;var Z$="DropdownMenuSubTrigger",eN=w.forwardRef((n,e)=>{const{__scopeDropdownMenu:t,...r}=n,s=Fn(t);return d.jsx(M$,{...s,...r,ref:e})});eN.displayName=Z$;var eB="DropdownMenuSubContent",tN=w.forwardRef((n,e)=>{const{__scopeDropdownMenu:t,...r}=n,s=Fn(t);return d.jsx(L$,{...s,...r,ref:e,style:{...n.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});tN.displayName=eB;var tB=BR,nB=WR,rB=HR,nN=GR,rN=KR,sN=QR,iN=YR,oN=XR,aN=JR,lN=ZR,cN=eN,uN=tN;const sB=tB,iB=nB,oB=w.forwardRef(({className:n,inset:e,children:t,...r},s)=>d.jsxs(cN,{ref:s,className:He("flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none data-[state=open]:bg-accent focus:bg-accent",e&&"pl-8",n),...r,children:[t,d.jsx(i2,{className:"ml-auto h-4 w-4"})]}));oB.displayName=cN.displayName;const aB=w.forwardRef(({className:n,...e},t)=>d.jsx(uN,{ref:t,className:He("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",n),...e}));aB.displayName=uN.displayName;const dN=w.forwardRef(({className:n,sideOffset:e=4,...t},r)=>d.jsx(rB,{children:d.jsx(nN,{ref:r,sideOffset:e,className:He("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",n),...t})}));dN.displayName=nN.displayName;const tv=w.forwardRef(({className:n,inset:e,...t},r)=>d.jsx(sN,{ref:r,className:He("relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none transition-colors data-[disabled]:pointer-events-none data-[disabled]:opacity-50 focus:bg-accent focus:text-accent-foreground",e&&"pl-8",n),...t}));tv.displayName=sN.displayName;const lB=w.forwardRef(({className:n,children:e,checked:t,...r},s)=>d.jsxs(iN,{ref:s,className:He("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors data-[disabled]:pointer-events-none data-[disabled]:opacity-50 focus:bg-accent focus:text-accent-foreground",n),checked:t,...r,children:[d.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:d.jsx(aN,{children:d.jsx(_v,{className:"h-4 w-4"})})}),e]}));lB.displayName=iN.displayName;const cB=w.forwardRef(({className:n,children:e,...t},r)=>d.jsxs(oN,{ref:r,className:He("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors data-[disabled]:pointer-events-none data-[disabled]:opacity-50 focus:bg-accent focus:text-accent-foreground",n),...t,children:[d.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:d.jsx(aN,{children:d.jsx(c2,{className:"h-2 w-2 fill-current"})})}),e]}));cB.displayName=oN.displayName;const uB=w.forwardRef(({className:n,inset:e,...t},r)=>d.jsx(rN,{ref:r,className:He("px-2 py-1.5 text-sm font-semibold",e&&"pl-8",n),...t}));uB.displayName=rN.displayName;const dB=w.forwardRef(({className:n,...e},t)=>d.jsx(lN,{ref:t,className:He("-mx-1 my-1 h-px bg-muted",n),...e}));dB.displayName=lN.displayName;const Ei=()=>{const[n,e]=w.useState(!1),[t,r]=w.useState(null),s=Ti();w.useEffect(()=>{const l=_p(kt,u=>{r(u)});return()=>l()},[]);const o=async()=>{try{await PV(kt),Pe.success("Signed out successfully"),s("/")}catch{Pe.error("Error signing out")}};return d.jsx("nav",{className:"fixed top-0 left-0 right-0 z-50 bg-background/80 backdrop-blur-xl border-b border-border",children:d.jsxs("div",{className:"container mx-auto px-4",children:[d.jsxs("div",{className:"flex items-center justify-between h-16",children:[d.jsxs(yt,{to:"/",className:"flex items-center gap-2",children:[d.jsx("div",{className:"w-10 h-10 rounded-full overflow-hidden border-2 border-primary/20 bg-primary/10",children:d.jsx("img",{src:"/mechanic-icon.jpg",alt:"Logo",className:"w-full h-full object-cover"})}),d.jsx("span",{className:"text-xl font-bold",children:"MechRadii"})]}),d.jsxs("div",{className:"hidden md:flex items-center gap-6",children:[d.jsx(yt,{to:"/mechanics",className:"text-muted-foreground hover:text-foreground transition-colors",children:"Find Mechanics"}),d.jsx(yt,{to:"/how-it-works",className:"text-muted-foreground hover:text-foreground transition-colors",children:"How It Works"}),d.jsx(yt,{to:"/register-mechanic",className:"text-muted-foreground hover:text-foreground transition-colors",children:"Become a Mechanic"})]}),d.jsx("div",{className:"hidden md:flex items-center gap-3",children:t?d.jsxs(sB,{children:[d.jsx(iB,{asChild:!0,children:d.jsx($e,{variant:"ghost",size:"icon",className:"rounded-full",children:d.jsx(jr,{className:"h-5 w-5"})})}),d.jsxs(dN,{align:"end",className:"w-48",children:[d.jsxs(tv,{onClick:()=>s("/account"),className:"cursor-pointer",children:[d.jsx(jr,{className:"mr-2 h-4 w-4"}),"My Account"]}),d.jsxs(tv,{onClick:o,className:"cursor-pointer",children:[d.jsx(F0,{className:"mr-2 h-4 w-4"}),"Sign Out"]})]})]}):d.jsxs(d.Fragment,{children:[d.jsx(yt,{to:"/login",children:d.jsx($e,{variant:"ghost",children:"Log In"})}),d.jsx(yt,{to:"/signup",children:d.jsx($e,{variant:"default",children:"Sign Up"})})]})}),d.jsx("button",{className:"md:hidden p-2",onClick:()=>e(!n),children:n?d.jsx(bv,{className:"h-6 w-6"}):d.jsx(u2,{className:"h-6 w-6"})})]}),n&&d.jsx("div",{className:"md:hidden py-4 border-t border-border animate-fade-in",children:d.jsxs("div",{className:"flex flex-col gap-4",children:[d.jsx(yt,{to:"/mechanics",className:"text-muted-foreground hover:text-foreground transition-colors",children:"Find Mechanics"}),d.jsx(yt,{to:"/how-it-works",className:"text-muted-foreground hover:text-foreground transition-colors",children:"How It Works"}),d.jsx(yt,{to:"/register-mechanic",className:"text-muted-foreground hover:text-foreground transition-colors",children:"Become a Mechanic"}),d.jsx("div",{className:"flex gap-3 pt-4",children:t?d.jsxs($e,{variant:"outline",className:"w-full",onClick:o,children:[d.jsx(F0,{className:"mr-2 h-4 w-4"}),"Sign Out"]}):d.jsxs(d.Fragment,{children:[d.jsx(yt,{to:"/login",className:"flex-1",children:d.jsx($e,{variant:"outline",className:"w-full",children:"Log In"})}),d.jsx(yt,{to:"/signup",className:"flex-1",children:d.jsx($e,{className:"w-full",children:"Sign Up"})})]})})]})})]})})},hB=()=>d.jsxs("section",{className:"relative min-h-screen flex items-center pt-16 overflow-hidden",children:[d.jsx("div",{className:"absolute inset-0 bg-[radial-gradient(ellipse_at_top_right,_hsl(32_95%_55%_/_0.1)_0%,_transparent_50%)]"}),d.jsx("div",{className:"absolute inset-0 bg-[radial-gradient(ellipse_at_bottom_left,_hsl(222_47%_20%)_0%,_transparent_50%)]"}),d.jsx("div",{className:"absolute top-1/4 right-1/4 w-96 h-96 bg-primary/5 rounded-full blur-3xl animate-pulse-slow"}),d.jsx("div",{className:"absolute bottom-1/4 left-1/4 w-64 h-64 bg-primary/10 rounded-full blur-2xl animate-float"}),d.jsx("div",{className:"container mx-auto px-4 relative z-10",children:d.jsxs("div",{className:"grid lg:grid-cols-2 gap-12 items-center",children:[d.jsxs("div",{className:"space-y-8",children:[d.jsxs("div",{className:"inline-flex items-center gap-2 px-4 py-2 rounded-full bg-primary/10 border border-primary/20",children:[d.jsx("span",{className:"w-2 h-2 rounded-full bg-success animate-pulse"}),d.jsx("span",{className:"text-sm text-muted-foreground",children:"24/7 Emergency Assistance"})]}),d.jsxs("h1",{className:"text-5xl md:text-6xl lg:text-7xl font-extrabold leading-tight",children:["Get Help ",d.jsx("span",{className:"text-gradient",children:"Fast"})," When You ",d.jsx("br",{}),d.jsx("span",{className:"text-gradient",children:"Break Down"})]}),d.jsx("p",{className:"text-xl text-muted-foreground max-w-lg",children:"Connect with verified mechanics near you in minutes. No more waiting, no more stress. Just reliable roadside assistance when you need it most."}),d.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[d.jsx(yt,{to:"/mechanics",children:d.jsxs($e,{variant:"hero",size:"xl",children:[d.jsx(Fs,{className:"h-5 w-5"}),"Find Mechanics Near Me"]})}),d.jsx(yt,{to:"/register-mechanic",children:d.jsx($e,{variant:"heroOutline",size:"xl",children:"Join as Mechanic"})})]}),d.jsxs("div",{className:"flex flex-wrap gap-8 pt-8",children:[d.jsxs("div",{className:"space-y-1",children:[d.jsx("p",{className:"text-3xl font-bold text-gradient",children:"500+"}),d.jsx("p",{className:"text-sm text-muted-foreground",children:"Verified Mechanics"})]}),d.jsxs("div",{className:"space-y-1",children:[d.jsx("p",{className:"text-3xl font-bold text-gradient",children:"15 min"}),d.jsx("p",{className:"text-sm text-muted-foreground",children:"Avg. Response Time"})]}),d.jsxs("div",{className:"space-y-1",children:[d.jsx("p",{className:"text-3xl font-bold text-gradient",children:"4.8"}),d.jsx("p",{className:"text-sm text-muted-foreground",children:"Customer Rating"})]})]})]}),d.jsx("div",{className:"relative lg:pl-12",children:d.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[d.jsx(Kh,{icon:d.jsx(Fs,{className:"h-6 w-6"}),title:"Location Based",description:"Find mechanics within your radius instantly",delay:"0"}),d.jsx(Kh,{icon:d.jsx(Xu,{className:"h-6 w-6"}),title:"Quick Response",description:"Get help in minutes, not hours",delay:"100"}),d.jsx(Kh,{icon:d.jsx(dy,{className:"h-6 w-6"}),title:"Verified Pros",description:"All mechanics are background checked",delay:"200"}),d.jsx(Kh,{icon:d.jsx(pa,{className:"h-6 w-6"}),title:"Rated & Reviewed",description:"Choose based on real customer feedback",delay:"300"})]})})]})})]}),Kh=({icon:n,title:e,description:t,delay:r})=>d.jsxs("div",{className:"p-6 rounded-2xl bg-card border border-border card-glow hover:border-primary/50 transition-all duration-300 hover:-translate-y-1",style:{animationDelay:`${r}ms`},children:[d.jsx("div",{className:"p-3 rounded-xl bg-primary/10 text-primary w-fit mb-4",children:n}),d.jsx("h3",{className:"font-semibold mb-2",children:e}),d.jsx("p",{className:"text-sm text-muted-foreground",children:t})]}),fB=lp("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function Eu({className:n,variant:e,...t}){return d.jsx("div",{className:He(fB({variant:e}),n),...t})}var Gp="Dialog",[hN]=es(Gp),[pB,ns]=hN(Gp),fN=n=>{const{__scopeDialog:e,children:t,open:r,defaultOpen:s,onOpenChange:o,modal:l=!0}=n,u=w.useRef(null),f=w.useRef(null),[m,g]=fa({prop:r,defaultProp:s??!1,onChange:o,caller:Gp});return d.jsx(pB,{scope:e,triggerRef:u,contentRef:f,contentId:fi(),titleId:fi(),descriptionId:fi(),open:m,onOpenChange:g,onOpenToggle:w.useCallback(()=>g(v=>!v),[g]),modal:l,children:t})};fN.displayName=Gp;var pN="DialogTrigger",mN=w.forwardRef((n,e)=>{const{__scopeDialog:t,...r}=n,s=ns(pN,t),o=ct(e,s.triggerRef);return d.jsx(Be.button,{type:"button","aria-haspopup":"dialog","aria-expanded":s.open,"aria-controls":s.contentId,"data-state":sw(s.open),...r,ref:o,onClick:ve(n.onClick,s.onOpenToggle)})});mN.displayName=pN;var nw="DialogPortal",[mB,gN]=hN(nw,{forceMount:void 0}),yN=n=>{const{__scopeDialog:e,forceMount:t,children:r,container:s}=n,o=ns(nw,e);return d.jsx(mB,{scope:e,forceMount:t,children:w.Children.map(r,l=>d.jsx(ts,{present:t||o.open,children:d.jsx(Qu,{asChild:!0,container:s,children:l})}))})};yN.displayName=nw;var Yf="DialogOverlay",vN=w.forwardRef((n,e)=>{const t=gN(Yf,n.__scopeDialog),{forceMount:r=t.forceMount,...s}=n,o=ns(Yf,n.__scopeDialog);return o.modal?d.jsx(ts,{present:r||o.open,children:d.jsx(yB,{...s,ref:e})}):null});vN.displayName=Yf;var gB=ha("DialogOverlay.RemoveScroll"),yB=w.forwardRef((n,e)=>{const{__scopeDialog:t,...r}=n,s=ns(Yf,t);return d.jsx(zp,{as:gB,allowPinchZoom:!0,shards:[s.contentRef],children:d.jsx(Be.div,{"data-state":sw(s.open),...r,ref:e,style:{pointerEvents:"auto",...r.style}})})}),Ta="DialogContent",_N=w.forwardRef((n,e)=>{const t=gN(Ta,n.__scopeDialog),{forceMount:r=t.forceMount,...s}=n,o=ns(Ta,n.__scopeDialog);return d.jsx(ts,{present:r||o.open,children:o.modal?d.jsx(vB,{...s,ref:e}):d.jsx(_B,{...s,ref:e})})});_N.displayName=Ta;var vB=w.forwardRef((n,e)=>{const t=ns(Ta,n.__scopeDialog),r=w.useRef(null),s=ct(e,t.contentRef,r);return w.useEffect(()=>{const o=r.current;if(o)return K_(o)},[]),d.jsx(wN,{...n,ref:s,trapFocus:t.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:ve(n.onCloseAutoFocus,o=>{o.preventDefault(),t.triggerRef.current?.focus()}),onPointerDownOutside:ve(n.onPointerDownOutside,o=>{const l=o.detail.originalEvent,u=l.button===0&&l.ctrlKey===!0;(l.button===2||u)&&o.preventDefault()}),onFocusOutside:ve(n.onFocusOutside,o=>o.preventDefault())})}),_B=w.forwardRef((n,e)=>{const t=ns(Ta,n.__scopeDialog),r=w.useRef(!1),s=w.useRef(!1);return d.jsx(wN,{...n,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:o=>{n.onCloseAutoFocus?.(o),o.defaultPrevented||(r.current||t.triggerRef.current?.focus(),o.preventDefault()),r.current=!1,s.current=!1},onInteractOutside:o=>{n.onInteractOutside?.(o),o.defaultPrevented||(r.current=!0,o.detail.originalEvent.type==="pointerdown"&&(s.current=!0));const l=o.target;t.triggerRef.current?.contains(l)&&o.preventDefault(),o.detail.originalEvent.type==="focusin"&&s.current&&o.preventDefault()}})}),wN=w.forwardRef((n,e)=>{const{__scopeDialog:t,trapFocus:r,onOpenAutoFocus:s,onCloseAutoFocus:o,...l}=n,u=ns(Ta,t),f=w.useRef(null),m=ct(e,f);return G_(),d.jsxs(d.Fragment,{children:[d.jsx($p,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:s,onUnmountAutoFocus:o,children:d.jsx(Jl,{role:"dialog",id:u.contentId,"aria-describedby":u.descriptionId,"aria-labelledby":u.titleId,"data-state":sw(u.open),...l,ref:m,onDismiss:()=>u.onOpenChange(!1)})}),d.jsxs(d.Fragment,{children:[d.jsx(wB,{titleId:u.titleId}),d.jsx(EB,{contentRef:f,descriptionId:u.descriptionId})]})]})}),rw="DialogTitle",xN=w.forwardRef((n,e)=>{const{__scopeDialog:t,...r}=n,s=ns(rw,t);return d.jsx(Be.h2,{id:s.titleId,...r,ref:e})});xN.displayName=rw;var EN="DialogDescription",bN=w.forwardRef((n,e)=>{const{__scopeDialog:t,...r}=n,s=ns(EN,t);return d.jsx(Be.p,{id:s.descriptionId,...r,ref:e})});bN.displayName=EN;var TN="DialogClose",SN=w.forwardRef((n,e)=>{const{__scopeDialog:t,...r}=n,s=ns(TN,t);return d.jsx(Be.button,{type:"button",...r,ref:e,onClick:ve(n.onClick,()=>s.onOpenChange(!1))})});SN.displayName=TN;function sw(n){return n?"open":"closed"}var CN="DialogTitleWarning",[y7,IN]=uP(CN,{contentName:Ta,titleName:rw,docsSlug:"dialog"}),wB=({titleId:n})=>{const e=IN(CN),t=`\`${e.contentName}\` requires a \`${e.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${e.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${e.docsSlug}`;return w.useEffect(()=>{n&&(document.getElementById(n)||console.error(t))},[t,n]),null},xB="DialogDescriptionWarning",EB=({contentRef:n,descriptionId:e})=>{const r=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${IN(xB).contentName}}.`;return w.useEffect(()=>{const s=n.current?.getAttribute("aria-describedby");e&&s&&(document.getElementById(e)||console.warn(r))},[r,n,e]),null},bB=fN,TB=mN,SB=yN,RN=vN,NN=_N,AN=xN,kN=bN,CB=SN;const Kp=bB,iw=TB,IB=SB,PN=w.forwardRef(({className:n,...e},t)=>d.jsx(RN,{ref:t,className:He("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",n),...e}));PN.displayName=RN.displayName;const xd=w.forwardRef(({className:n,children:e,...t},r)=>d.jsxs(IB,{children:[d.jsx(PN,{}),d.jsxs(NN,{ref:r,className:He("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",n),...t,children:[e,d.jsxs(CB,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity data-[state=open]:bg-accent data-[state=open]:text-muted-foreground hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none",children:[d.jsx(bv,{className:"h-4 w-4"}),d.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));xd.displayName=NN.displayName;const Ed=({className:n,...e})=>d.jsx("div",{className:He("flex flex-col space-y-1.5 text-center sm:text-left",n),...e});Ed.displayName="DialogHeader";const bd=w.forwardRef(({className:n,...e},t)=>d.jsx(AN,{ref:t,className:He("text-lg font-semibold leading-none tracking-tight",n),...e}));bd.displayName=AN.displayName;const jN=w.forwardRef(({className:n,...e},t)=>d.jsx(kN,{ref:t,className:He("text-sm text-muted-foreground",n),...e}));jN.displayName=kN.displayName;const Sa=w.forwardRef(({className:n,...e},t)=>d.jsx("textarea",{className:He("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",n),ref:t,...e}));Sa.displayName="Textarea";var RB="Label",DN=w.forwardRef((n,e)=>d.jsx(Be.label,{...n,ref:e,onMouseDown:t=>{t.target.closest("button, input, select, textarea")||(n.onMouseDown?.(t),!t.defaultPrevented&&t.detail>1&&t.preventDefault())}}));DN.displayName=RB;var ON=DN;const NB=lp("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),ln=w.forwardRef(({className:n,...e},t)=>d.jsx(ON,{ref:t,className:He(NB(),n),...e}));ln.displayName=ON.displayName;const MN=({mechanic:n})=>{const e=Ti(),[t,r]=w.useState(!1),[s,o]=w.useState(!1),[l,u]=w.useState(""),f=async()=>{if(!kt.currentUser){Pe.error("Please log in to request a mechanic"),e("/login");return}r(!0);try{await Hf(As(wt,"bookings"),{user_id:kt.currentUser.uid,user_email:kt.currentUser.email,mechanic_id:n.id,mechanic_name:n.name,mechanic_specialty:n.specialty,mechanic_image:n.image,action_type:"Emergency Request",message:l,status:"pending",created_at:Yn()}),Pe.success(`Request sent to ${n.name}!`),o(!1),u("")}catch(m){console.error("Error requesting help:",m),Pe.error("Failed to send request. Please try again.")}finally{r(!1)}};return d.jsxs("div",{className:"group p-6 rounded-2xl bg-card border border-border card-glow hover:border-primary/50 transition-all duration-300 hover:-translate-y-1",children:[d.jsxs("div",{className:"flex gap-4",children:[d.jsxs("div",{className:"relative",children:[d.jsx("img",{src:n.image,alt:n.name,className:"w-20 h-20 rounded-xl object-cover"}),n.available&&d.jsx("span",{className:"absolute -top-1 -right-1 w-4 h-4 bg-success rounded-full border-2 border-card"})]}),d.jsxs("div",{className:"flex-1 min-w-0",children:[d.jsxs("div",{className:"flex items-start justify-between gap-2",children:[d.jsxs("div",{children:[d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx("h3",{className:"font-semibold truncate",children:n.name}),n.verified&&d.jsx(mf,{className:"h-4 w-4 text-primary flex-shrink-0"})]}),d.jsx("p",{className:"text-sm text-muted-foreground",children:n.specialty})]}),(()=>{const g=(n.availability_status||(n.available?"available":"busy"))==="available";return d.jsx(Eu,{variant:g?"default":"destructive",className:`flex-shrink-0 ${!g&&"bg-red-100 text-red-700 hover:bg-red-200 border-red-200"}`,children:g?"Available":"Busy/On Job"})})()]}),d.jsxs("div",{className:"flex items-center gap-4 mt-3 text-sm text-muted-foreground",children:[d.jsxs("div",{className:"flex items-center gap-1",children:[d.jsx(pa,{className:"h-4 w-4 fill-primary text-primary"}),d.jsx("span",{className:"font-medium text-foreground",children:n.rating}),d.jsxs("span",{children:["(",n.reviewCount,")"]})]}),d.jsxs("div",{className:"flex items-center gap-1",children:[d.jsx(Fs,{className:"h-4 w-4"}),d.jsx("span",{children:n.distance})]}),d.jsxs("div",{className:"flex items-center gap-1",children:[d.jsx(Xu,{className:"h-4 w-4"}),d.jsx("span",{children:n.responseTime})]})]}),d.jsxs("div",{className:"flex flex-wrap gap-2 mt-3",children:[n.services?.slice(0,3).map(m=>d.jsx("span",{className:"px-2 py-1 text-xs rounded-md bg-secondary text-secondary-foreground",children:m},m)),n.services?.length>3&&d.jsxs("span",{className:"px-2 py-1 text-xs rounded-md bg-secondary text-muted-foreground",children:["+",n.services.length-3," more"]})]})]})]}),d.jsxs("div",{className:"flex gap-3 mt-4 pt-4 border-t border-border",children:[d.jsx(yt,{to:`/mechanic/${n.id}`,className:"flex-1",children:d.jsx($e,{variant:"outline",className:"w-full",children:"View Profile"})}),d.jsxs(Kp,{open:s,onOpenChange:o,children:[d.jsx(iw,{asChild:!0,children:d.jsx($e,{className:"flex-1",children:"Request Help"})}),d.jsxs(xd,{children:[d.jsx(Ed,{children:d.jsx(bd,{children:"Request Emergency Assistance"})}),d.jsxs("div",{className:"space-y-4 pt-4",children:[d.jsxs("div",{children:[d.jsx(ln,{className:"mb-2 block",children:"Describe your emergency (Optional)"}),d.jsx(Sa,{placeholder:"E.g., Flat tire, car won't start, out of gas...",value:l,onChange:m=>u(m.target.value),className:"min-h-[100px]"})]}),d.jsxs("div",{className:"flex gap-2 justify-end",children:[d.jsx($e,{variant:"outline",onClick:()=>o(!1),children:"Cancel"}),d.jsx($e,{onClick:f,disabled:t,children:t?"Sending...":"Send Request"})]})]})]})]})]})]})},AB=[{id:"1",name:"James Wilson",specialty:"Engine & Transmission Specialist",rating:4.9,reviewCount:127,distance:"1.2 km",responseTime:"10 min",verified:!0,available:!0,image:"https://images.unsplash.com/photo-1560250097-0b93528c311a?w=200&h=200&fit=crop",services:["Engine Repair","Transmission","Diagnostics","Oil Change"]},{id:"2",name:"Sarah Chen",specialty:"Auto Electrician",rating:4.8,reviewCount:89,distance:"2.5 km",responseTime:"15 min",verified:!0,available:!0,image:"https://images.unsplash.com/photo-1573496359142-b8d87734a5a2?w=200&h=200&fit=crop",services:["Battery","Alternator","Starter Motor","Wiring"]},{id:"3",name:"Mike Rodriguez",specialty:"Tire & Brake Expert",rating:4.7,reviewCount:156,distance:"3.1 km",responseTime:"12 min",verified:!0,available:!1,image:"https://images.unsplash.com/photo-1507003211169-0a1dd7228f2d?w=200&h=200&fit=crop",services:["Tire Change","Brake Repair","Wheel Alignment","Suspension"]}],kB=()=>d.jsxs("section",{className:"py-24 relative",children:[d.jsx("div",{className:"absolute inset-0 bg-[radial-gradient(ellipse_at_center,_hsl(222_47%_15%)_0%,_transparent_70%)]"}),d.jsxs("div",{className:"container mx-auto px-4 relative z-10",children:[d.jsxs("div",{className:"flex items-end justify-between mb-12",children:[d.jsxs("div",{children:[d.jsxs("h2",{className:"text-3xl md:text-4xl font-bold mb-4",children:["Top-Rated ",d.jsx("span",{className:"text-gradient",children:"Mechanics"})," Near You"]}),d.jsx("p",{className:"text-muted-foreground max-w-lg",children:"Trusted professionals with proven track records. Every mechanic is verified and rated by real customers."})]}),d.jsx(yt,{to:"/mechanics",className:"hidden md:block",children:d.jsxs($e,{variant:"outline",className:"gap-2",children:["View All ",d.jsx(ff,{className:"h-4 w-4"})]})})]}),d.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-6",children:AB.map((n,e)=>d.jsx("div",{className:"animate-fade-in",style:{animationDelay:`${e*100}ms`},children:d.jsx(MN,{mechanic:n})},n.id))}),d.jsx(yt,{to:"/mechanics",className:"md:hidden mt-8 block",children:d.jsxs($e,{variant:"outline",className:"w-full gap-2",children:["View All Mechanics ",d.jsx(ff,{className:"h-4 w-4"})]})})]})]}),hT=[{icon:d.jsx(pu,{className:"h-8 w-8"}),title:"Search",description:"Enter your location and find verified mechanics nearby"},{icon:d.jsx(m1,{className:"h-8 w-8"}),title:"Choose",description:"Browse profiles, ratings, and reviews to pick your mechanic"},{icon:d.jsx(Pr,{className:"h-8 w-8"}),title:"Get Help",description:"Your mechanic arrives and fixes your vehicle on the spot"},{icon:d.jsx(pa,{className:"h-8 w-8"}),title:"Rate",description:"Share your experience to help others find great service"}],PB=()=>d.jsx("section",{className:"py-24 bg-secondary/30",children:d.jsxs("div",{className:"container mx-auto px-4",children:[d.jsxs("div",{className:"text-center mb-16",children:[d.jsxs("h2",{className:"text-3xl md:text-4xl font-bold mb-4",children:["How ",d.jsx("span",{className:"text-gradient",children:"MechRadii"})," Works"]}),d.jsx("p",{className:"text-muted-foreground max-w-2xl mx-auto",children:"Getting roadside help has never been easier. Follow these simple steps to connect with a verified mechanic in minutes."})]}),d.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-4 gap-8",children:hT.map((n,e)=>d.jsxs("div",{className:"relative text-center group",children:[e<hT.length-1&&d.jsx("div",{className:"hidden lg:block absolute top-12 left-1/2 w-full h-0.5 bg-gradient-to-r from-primary/50 to-primary/10"}),d.jsxs("div",{className:"relative z-10 mb-6 mx-auto w-24 h-24 rounded-2xl bg-card border border-border flex items-center justify-center text-primary group-hover:border-primary/50 group-hover:primary-glow transition-all duration-300",children:[n.icon,d.jsx("span",{className:"absolute -top-2 -right-2 w-8 h-8 rounded-full bg-primary text-primary-foreground text-sm font-bold flex items-center justify-center",children:e+1})]}),d.jsx("h3",{className:"text-xl font-semibold mb-2",children:n.title}),d.jsx("p",{className:"text-muted-foreground text-sm",children:n.description})]},n.title))})]})}),jB=()=>d.jsxs("section",{className:"py-24 relative overflow-hidden",children:[d.jsx("div",{className:"absolute inset-0 bg-[radial-gradient(ellipse_at_bottom,_hsl(32_95%_55%_/_0.15)_0%,_transparent_60%)]"}),d.jsx("div",{className:"container mx-auto px-4 relative z-10",children:d.jsxs("div",{className:"max-w-4xl mx-auto text-center",children:[d.jsx("div",{className:"inline-flex items-center justify-center p-4 rounded-2xl bg-primary/10 border border-primary/20 mb-8",children:d.jsx(Pr,{className:"h-10 w-10 text-primary"})}),d.jsxs("h2",{className:"text-3xl md:text-5xl font-bold mb-6",children:["Are You a ",d.jsx("span",{className:"text-gradient",children:"Mechanic"}),"?"]}),d.jsx("p",{className:"text-xl text-muted-foreground mb-8 max-w-2xl mx-auto",children:"Join our network of trusted mechanics and grow your business. Get access to customers who need your help, right in your area."}),d.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center",children:[d.jsx(yt,{to:"/register-mechanic",children:d.jsxs($e,{variant:"hero",size:"xl",className:"gap-2",children:["Register as Mechanic ",d.jsx(ff,{className:"h-5 w-5"})]})}),d.jsx(yt,{to:"/how-it-works",children:d.jsx($e,{variant:"heroOutline",size:"xl",children:"Learn More"})})]}),d.jsxs("div",{className:"grid grid-cols-3 gap-8 mt-16 max-w-2xl mx-auto",children:[d.jsxs("div",{children:[d.jsx("p",{className:"text-3xl font-bold text-gradient",children:"$0"}),d.jsx("p",{className:"text-sm text-muted-foreground",children:"To Get Started"})]}),d.jsxs("div",{children:[d.jsx("p",{className:"text-3xl font-bold text-gradient",children:"1000+"}),d.jsx("p",{className:"text-sm text-muted-foreground",children:"Monthly Requests"})]}),d.jsxs("div",{children:[d.jsx("p",{className:"text-3xl font-bold text-gradient",children:"85%"}),d.jsx("p",{className:"text-sm text-muted-foreground",children:"Repeat Customers"})]})]})]})})]}),ql=()=>d.jsx("footer",{className:"bg-secondary/30 border-t border-border",children:d.jsxs("div",{className:"container mx-auto px-4 py-12",children:[d.jsxs("div",{className:"grid md:grid-cols-4 gap-8",children:[d.jsx("div",{className:"space-y-4",children:d.jsxs(yt,{to:"/",className:"flex items-center gap-2",children:[d.jsx("div",{className:"w-10 h-10 rounded-full overflow-hidden border-2 border-primary/20 bg-primary/10",children:d.jsx("img",{src:"/mechanic-icon.jpg",alt:"Logo",className:"w-full h-full object-cover"})}),d.jsx("span",{className:"text-lg font-bold",children:"MechRadii"})]})}),d.jsxs("div",{children:[d.jsx("h4",{className:"font-semibold mb-4",children:"Company"}),d.jsxs("ul",{className:"space-y-2 text-sm text-muted-foreground",children:[d.jsx("li",{children:d.jsx(yt,{to:"/",className:"hover:text-foreground transition-colors",children:"About Us"})}),d.jsx("li",{children:d.jsx(yt,{to:"/",className:"hover:text-foreground transition-colors",children:"Contact"})}),d.jsx("li",{children:d.jsx(yt,{to:"/",className:"hover:text-foreground transition-colors",children:"Privacy Policy"})}),d.jsx("li",{children:d.jsx(yt,{to:"/",className:"hover:text-foreground transition-colors",children:"Terms of Service"})})]})]})]}),d.jsx("div",{className:"mt-12 pt-8 border-t border-border text-center text-sm text-muted-foreground",children:d.jsx("p",{children:" 2024 MechRadii. All rights reserved."})})]})}),DB=()=>d.jsxs("div",{className:"min-h-screen bg-background",children:[d.jsx(Ei,{}),d.jsxs("main",{children:[d.jsx(hB,{}),d.jsx(kB,{}),d.jsx(PB,{}),d.jsx(jB,{})]}),d.jsx(ql,{})]}),Pn=w.forwardRef(({className:n,type:e,...t},r)=>d.jsx("input",{type:e,className:He("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",n),ref:r,...t}));Pn.displayName="Input";function fT(n,[e,t]){return Math.min(t,Math.max(e,n))}function LN(n){const e=w.useRef({value:n,previous:n});return w.useMemo(()=>(e.current.value!==n&&(e.current.previous=e.current.value,e.current.value=n),e.current.previous),[n])}var OB=[" ","Enter","ArrowUp","ArrowDown"],MB=[" ","Enter"],Ca="Select",[Qp,Yp,LB]=ip(Ca),[uc]=es(Ca,[LB,nc]),Xp=nc(),[VB,jo]=uc(Ca),[FB,UB]=uc(Ca),VN=n=>{const{__scopeSelect:e,children:t,open:r,defaultOpen:s,onOpenChange:o,value:l,defaultValue:u,onValueChange:f,dir:m,name:g,autoComplete:v,disabled:E,required:b,form:I}=n,T=Xp(e),[C,M]=w.useState(null),[D,V]=w.useState(null),[B,H]=w.useState(!1),Q=q_(m),[k,R]=fa({prop:r,defaultProp:s??!1,onChange:o,caller:Ca}),[N,j]=fa({prop:l,defaultProp:u,onChange:f,caller:Ca}),L=w.useRef(null),F=C?I||!!C.closest("form"):!0,[O,ne]=w.useState(new Set),Ee=Array.from(O).map(de=>de.props.value).join(";");return d.jsx(K1,{...T,children:d.jsxs(VB,{required:b,scope:e,trigger:C,onTriggerChange:M,valueNode:D,onValueNodeChange:V,valueNodeHasChildren:B,onValueNodeHasChildrenChange:H,contentId:fi(),value:N,onValueChange:j,open:k,onOpenChange:R,dir:Q,triggerPointerDownPosRef:L,disabled:E,children:[d.jsx(Qp.Provider,{scope:e,children:d.jsx(FB,{scope:n.__scopeSelect,onNativeOptionAdd:w.useCallback(de=>{ne(ye=>new Set(ye).add(de))},[]),onNativeOptionRemove:w.useCallback(de=>{ne(ye=>{const Z=new Set(ye);return Z.delete(de),Z})},[]),children:t})}),F?d.jsxs(lA,{"aria-hidden":!0,required:b,tabIndex:-1,name:g,autoComplete:v,value:N,onChange:de=>j(de.target.value),disabled:E,form:I,children:[N===void 0?d.jsx("option",{value:""}):null,Array.from(O)]},Ee):null]})})};VN.displayName=Ca;var FN="SelectTrigger",UN=w.forwardRef((n,e)=>{const{__scopeSelect:t,disabled:r=!1,...s}=n,o=Xp(t),l=jo(FN,t),u=l.disabled||r,f=ct(e,l.onTriggerChange),m=Yp(t),g=w.useRef("touch"),[v,E,b]=uA(T=>{const C=m().filter(V=>!V.disabled),M=C.find(V=>V.value===l.value),D=dA(C,T,M);D!==void 0&&l.onValueChange(D.value)}),I=T=>{u||(l.onOpenChange(!0),b()),T&&(l.triggerPointerDownPosRef.current={x:Math.round(T.pageX),y:Math.round(T.pageY)})};return d.jsx(Dv,{asChild:!0,...o,children:d.jsx(Be.button,{type:"button",role:"combobox","aria-controls":l.contentId,"aria-expanded":l.open,"aria-required":l.required,"aria-autocomplete":"none",dir:l.dir,"data-state":l.open?"open":"closed",disabled:u,"data-disabled":u?"":void 0,"data-placeholder":cA(l.value)?"":void 0,...s,ref:f,onClick:ve(s.onClick,T=>{T.currentTarget.focus(),g.current!=="mouse"&&I(T)}),onPointerDown:ve(s.onPointerDown,T=>{g.current=T.pointerType;const C=T.target;C.hasPointerCapture(T.pointerId)&&C.releasePointerCapture(T.pointerId),T.button===0&&T.ctrlKey===!1&&T.pointerType==="mouse"&&(I(T),T.preventDefault())}),onKeyDown:ve(s.onKeyDown,T=>{const C=v.current!=="";!(T.ctrlKey||T.altKey||T.metaKey)&&T.key.length===1&&E(T.key),!(C&&T.key===" ")&&OB.includes(T.key)&&(I(),T.preventDefault())})})})});UN.displayName=FN;var $N="SelectValue",BN=w.forwardRef((n,e)=>{const{__scopeSelect:t,className:r,style:s,children:o,placeholder:l="",...u}=n,f=jo($N,t),{onValueNodeHasChildrenChange:m}=f,g=o!==void 0,v=ct(e,f.onValueNodeChange);return Xt(()=>{m(g)},[m,g]),d.jsx(Be.span,{...u,ref:v,style:{pointerEvents:"none"},children:cA(f.value)?d.jsx(d.Fragment,{children:l}):o})});BN.displayName=$N;var $B="SelectIcon",zN=w.forwardRef((n,e)=>{const{__scopeSelect:t,children:r,...s}=n;return d.jsx(Be.span,{"aria-hidden":!0,...s,ref:e,children:r||""})});zN.displayName=$B;var BB="SelectPortal",WN=n=>d.jsx(Qu,{asChild:!0,...n});WN.displayName=BB;var Ia="SelectContent",HN=w.forwardRef((n,e)=>{const t=jo(Ia,n.__scopeSelect),[r,s]=w.useState();if(Xt(()=>{s(new DocumentFragment)},[]),!t.open){const o=r;return o?Xl.createPortal(d.jsx(qN,{scope:n.__scopeSelect,children:d.jsx(Qp.Slot,{scope:n.__scopeSelect,children:d.jsx("div",{children:n.children})})}),o):null}return d.jsx(GN,{...n,ref:e})});HN.displayName=Ia;var qr=10,[qN,Do]=uc(Ia),zB="SelectContentImpl",WB=ha("SelectContent.RemoveScroll"),GN=w.forwardRef((n,e)=>{const{__scopeSelect:t,position:r="item-aligned",onCloseAutoFocus:s,onEscapeKeyDown:o,onPointerDownOutside:l,side:u,sideOffset:f,align:m,alignOffset:g,arrowPadding:v,collisionBoundary:E,collisionPadding:b,sticky:I,hideWhenDetached:T,avoidCollisions:C,...M}=n,D=jo(Ia,t),[V,B]=w.useState(null),[H,Q]=w.useState(null),k=ct(e,re=>B(re)),[R,N]=w.useState(null),[j,L]=w.useState(null),F=Yp(t),[O,ne]=w.useState(!1),Ee=w.useRef(!1);w.useEffect(()=>{if(V)return K_(V)},[V]),G_();const de=w.useCallback(re=>{const[Se,...Ve]=F().map(pt=>pt.ref.current),[We]=Ve.slice(-1),Ze=document.activeElement;for(const pt of re)if(pt===Ze||(pt?.scrollIntoView({block:"nearest"}),pt===Se&&H&&(H.scrollTop=0),pt===We&&H&&(H.scrollTop=H.scrollHeight),pt?.focus(),document.activeElement!==Ze))return},[F,H]),ye=w.useCallback(()=>de([R,V]),[de,R,V]);w.useEffect(()=>{O&&ye()},[O,ye]);const{onOpenChange:Z,triggerPointerDownPosRef:q}=D;w.useEffect(()=>{if(V){let re={x:0,y:0};const Se=We=>{re={x:Math.abs(Math.round(We.pageX)-(q.current?.x??0)),y:Math.abs(Math.round(We.pageY)-(q.current?.y??0))}},Ve=We=>{re.x<=10&&re.y<=10?We.preventDefault():V.contains(We.target)||Z(!1),document.removeEventListener("pointermove",Se),q.current=null};return q.current!==null&&(document.addEventListener("pointermove",Se),document.addEventListener("pointerup",Ve,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",Se),document.removeEventListener("pointerup",Ve,{capture:!0})}}},[V,Z,q]),w.useEffect(()=>{const re=()=>Z(!1);return window.addEventListener("blur",re),window.addEventListener("resize",re),()=>{window.removeEventListener("blur",re),window.removeEventListener("resize",re)}},[Z]);const[ie,z]=uA(re=>{const Se=F().filter(Ze=>!Ze.disabled),Ve=Se.find(Ze=>Ze.ref.current===document.activeElement),We=dA(Se,re,Ve);We&&setTimeout(()=>We.ref.current.focus())}),X=w.useCallback((re,Se,Ve)=>{const We=!Ee.current&&!Ve;(D.value!==void 0&&D.value===Se||We)&&(N(re),We&&(Ee.current=!0))},[D.value]),fe=w.useCallback(()=>V?.focus(),[V]),me=w.useCallback((re,Se,Ve)=>{const We=!Ee.current&&!Ve;(D.value!==void 0&&D.value===Se||We)&&L(re)},[D.value]),Re=r==="popper"?nv:KN,ke=Re===nv?{side:u,sideOffset:f,align:m,alignOffset:g,arrowPadding:v,collisionBoundary:E,collisionPadding:b,sticky:I,hideWhenDetached:T,avoidCollisions:C}:{};return d.jsx(qN,{scope:t,content:V,viewport:H,onViewportChange:Q,itemRefCallback:X,selectedItem:R,onItemLeave:fe,itemTextRefCallback:me,focusSelectedItem:ye,selectedItemText:j,position:r,isPositioned:O,searchRef:ie,children:d.jsx(zp,{as:WB,allowPinchZoom:!0,children:d.jsx($p,{asChild:!0,trapped:D.open,onMountAutoFocus:re=>{re.preventDefault()},onUnmountAutoFocus:ve(s,re=>{D.trigger?.focus({preventScroll:!0}),re.preventDefault()}),children:d.jsx(Jl,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:o,onPointerDownOutside:l,onFocusOutside:re=>re.preventDefault(),onDismiss:()=>D.onOpenChange(!1),children:d.jsx(Re,{role:"listbox",id:D.contentId,"data-state":D.open?"open":"closed",dir:D.dir,onContextMenu:re=>re.preventDefault(),...M,...ke,onPlaced:()=>ne(!0),ref:k,style:{display:"flex",flexDirection:"column",outline:"none",...M.style},onKeyDown:ve(M.onKeyDown,re=>{const Se=re.ctrlKey||re.altKey||re.metaKey;if(re.key==="Tab"&&re.preventDefault(),!Se&&re.key.length===1&&z(re.key),["ArrowUp","ArrowDown","Home","End"].includes(re.key)){let We=F().filter(Ze=>!Ze.disabled).map(Ze=>Ze.ref.current);if(["ArrowUp","End"].includes(re.key)&&(We=We.slice().reverse()),["ArrowUp","ArrowDown"].includes(re.key)){const Ze=re.target,pt=We.indexOf(Ze);We=We.slice(pt+1)}setTimeout(()=>de(We)),re.preventDefault()}})})})})})})});GN.displayName=zB;var HB="SelectItemAlignedPosition",KN=w.forwardRef((n,e)=>{const{__scopeSelect:t,onPlaced:r,...s}=n,o=jo(Ia,t),l=Do(Ia,t),[u,f]=w.useState(null),[m,g]=w.useState(null),v=ct(e,k=>g(k)),E=Yp(t),b=w.useRef(!1),I=w.useRef(!0),{viewport:T,selectedItem:C,selectedItemText:M,focusSelectedItem:D}=l,V=w.useCallback(()=>{if(o.trigger&&o.valueNode&&u&&m&&T&&C&&M){const k=o.trigger.getBoundingClientRect(),R=m.getBoundingClientRect(),N=o.valueNode.getBoundingClientRect(),j=M.getBoundingClientRect();if(o.dir!=="rtl"){const Ze=j.left-R.left,pt=N.left-Ze,Rt=k.left-pt,xn=k.width+Rt,rs=Math.max(xn,R.width),Jn=window.innerWidth-qr,Zn=fT(pt,[qr,Math.max(qr,Jn-rs)]);u.style.minWidth=xn+"px",u.style.left=Zn+"px"}else{const Ze=R.right-j.right,pt=window.innerWidth-N.right-Ze,Rt=window.innerWidth-k.right-pt,xn=k.width+Rt,rs=Math.max(xn,R.width),Jn=window.innerWidth-qr,Zn=fT(pt,[qr,Math.max(qr,Jn-rs)]);u.style.minWidth=xn+"px",u.style.right=Zn+"px"}const L=E(),F=window.innerHeight-qr*2,O=T.scrollHeight,ne=window.getComputedStyle(m),Ee=parseInt(ne.borderTopWidth,10),de=parseInt(ne.paddingTop,10),ye=parseInt(ne.borderBottomWidth,10),Z=parseInt(ne.paddingBottom,10),q=Ee+de+O+Z+ye,ie=Math.min(C.offsetHeight*5,q),z=window.getComputedStyle(T),X=parseInt(z.paddingTop,10),fe=parseInt(z.paddingBottom,10),me=k.top+k.height/2-qr,Re=F-me,ke=C.offsetHeight/2,re=C.offsetTop+ke,Se=Ee+de+re,Ve=q-Se;if(Se<=me){const Ze=L.length>0&&C===L[L.length-1].ref.current;u.style.bottom="0px";const pt=m.clientHeight-T.offsetTop-T.offsetHeight,Rt=Math.max(Re,ke+(Ze?fe:0)+pt+ye),xn=Se+Rt;u.style.height=xn+"px"}else{const Ze=L.length>0&&C===L[0].ref.current;u.style.top="0px";const Rt=Math.max(me,Ee+T.offsetTop+(Ze?X:0)+ke)+Ve;u.style.height=Rt+"px",T.scrollTop=Se-me+T.offsetTop}u.style.margin=`${qr}px 0`,u.style.minHeight=ie+"px",u.style.maxHeight=F+"px",r?.(),requestAnimationFrame(()=>b.current=!0)}},[E,o.trigger,o.valueNode,u,m,T,C,M,o.dir,r]);Xt(()=>V(),[V]);const[B,H]=w.useState();Xt(()=>{m&&H(window.getComputedStyle(m).zIndex)},[m]);const Q=w.useCallback(k=>{k&&I.current===!0&&(V(),D?.(),I.current=!1)},[V,D]);return d.jsx(GB,{scope:t,contentWrapper:u,shouldExpandOnScrollRef:b,onScrollButtonChange:Q,children:d.jsx("div",{ref:f,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:B},children:d.jsx(Be.div,{...s,ref:v,style:{boxSizing:"border-box",maxHeight:"100%",...s.style}})})})});KN.displayName=HB;var qB="SelectPopperPosition",nv=w.forwardRef((n,e)=>{const{__scopeSelect:t,align:r="start",collisionPadding:s=qr,...o}=n,l=Xp(t);return d.jsx(Ov,{...l,...o,ref:e,align:r,collisionPadding:s,style:{boxSizing:"border-box",...o.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});nv.displayName=qB;var[GB,ow]=uc(Ia,{}),rv="SelectViewport",QN=w.forwardRef((n,e)=>{const{__scopeSelect:t,nonce:r,...s}=n,o=Do(rv,t),l=ow(rv,t),u=ct(e,o.onViewportChange),f=w.useRef(0);return d.jsxs(d.Fragment,{children:[d.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:r}),d.jsx(Qp.Slot,{scope:t,children:d.jsx(Be.div,{"data-radix-select-viewport":"",role:"presentation",...s,ref:u,style:{position:"relative",flex:1,overflow:"hidden auto",...s.style},onScroll:ve(s.onScroll,m=>{const g=m.currentTarget,{contentWrapper:v,shouldExpandOnScrollRef:E}=l;if(E?.current&&v){const b=Math.abs(f.current-g.scrollTop);if(b>0){const I=window.innerHeight-qr*2,T=parseFloat(v.style.minHeight),C=parseFloat(v.style.height),M=Math.max(T,C);if(M<I){const D=M+b,V=Math.min(I,D),B=D-V;v.style.height=V+"px",v.style.bottom==="0px"&&(g.scrollTop=B>0?B:0,v.style.justifyContent="flex-end")}}}f.current=g.scrollTop})})})]})});QN.displayName=rv;var YN="SelectGroup",[KB,QB]=uc(YN),YB=w.forwardRef((n,e)=>{const{__scopeSelect:t,...r}=n,s=fi();return d.jsx(KB,{scope:t,id:s,children:d.jsx(Be.div,{role:"group","aria-labelledby":s,...r,ref:e})})});YB.displayName=YN;var XN="SelectLabel",JN=w.forwardRef((n,e)=>{const{__scopeSelect:t,...r}=n,s=QB(XN,t);return d.jsx(Be.div,{id:s.id,...r,ref:e})});JN.displayName=XN;var Xf="SelectItem",[XB,ZN]=uc(Xf),eA=w.forwardRef((n,e)=>{const{__scopeSelect:t,value:r,disabled:s=!1,textValue:o,...l}=n,u=jo(Xf,t),f=Do(Xf,t),m=u.value===r,[g,v]=w.useState(o??""),[E,b]=w.useState(!1),I=ct(e,D=>f.itemRefCallback?.(D,r,s)),T=fi(),C=w.useRef("touch"),M=()=>{s||(u.onValueChange(r),u.onOpenChange(!1))};if(r==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return d.jsx(XB,{scope:t,value:r,disabled:s,textId:T,isSelected:m,onItemTextChange:w.useCallback(D=>{v(V=>V||(D?.textContent??"").trim())},[]),children:d.jsx(Qp.ItemSlot,{scope:t,value:r,disabled:s,textValue:g,children:d.jsx(Be.div,{role:"option","aria-labelledby":T,"data-highlighted":E?"":void 0,"aria-selected":m&&E,"data-state":m?"checked":"unchecked","aria-disabled":s||void 0,"data-disabled":s?"":void 0,tabIndex:s?void 0:-1,...l,ref:I,onFocus:ve(l.onFocus,()=>b(!0)),onBlur:ve(l.onBlur,()=>b(!1)),onClick:ve(l.onClick,()=>{C.current!=="mouse"&&M()}),onPointerUp:ve(l.onPointerUp,()=>{C.current==="mouse"&&M()}),onPointerDown:ve(l.onPointerDown,D=>{C.current=D.pointerType}),onPointerMove:ve(l.onPointerMove,D=>{C.current=D.pointerType,s?f.onItemLeave?.():C.current==="mouse"&&D.currentTarget.focus({preventScroll:!0})}),onPointerLeave:ve(l.onPointerLeave,D=>{D.currentTarget===document.activeElement&&f.onItemLeave?.()}),onKeyDown:ve(l.onKeyDown,D=>{f.searchRef?.current!==""&&D.key===" "||(MB.includes(D.key)&&M(),D.key===" "&&D.preventDefault())})})})})});eA.displayName=Xf;var du="SelectItemText",tA=w.forwardRef((n,e)=>{const{__scopeSelect:t,className:r,style:s,...o}=n,l=jo(du,t),u=Do(du,t),f=ZN(du,t),m=UB(du,t),[g,v]=w.useState(null),E=ct(e,M=>v(M),f.onItemTextChange,M=>u.itemTextRefCallback?.(M,f.value,f.disabled)),b=g?.textContent,I=w.useMemo(()=>d.jsx("option",{value:f.value,disabled:f.disabled,children:b},f.value),[f.disabled,f.value,b]),{onNativeOptionAdd:T,onNativeOptionRemove:C}=m;return Xt(()=>(T(I),()=>C(I)),[T,C,I]),d.jsxs(d.Fragment,{children:[d.jsx(Be.span,{id:f.textId,...o,ref:E}),f.isSelected&&l.valueNode&&!l.valueNodeHasChildren?Xl.createPortal(o.children,l.valueNode):null]})});tA.displayName=du;var nA="SelectItemIndicator",rA=w.forwardRef((n,e)=>{const{__scopeSelect:t,...r}=n;return ZN(nA,t).isSelected?d.jsx(Be.span,{"aria-hidden":!0,...r,ref:e}):null});rA.displayName=nA;var sv="SelectScrollUpButton",sA=w.forwardRef((n,e)=>{const t=Do(sv,n.__scopeSelect),r=ow(sv,n.__scopeSelect),[s,o]=w.useState(!1),l=ct(e,r.onScrollButtonChange);return Xt(()=>{if(t.viewport&&t.isPositioned){let u=function(){const m=f.scrollTop>0;o(m)};const f=t.viewport;return u(),f.addEventListener("scroll",u),()=>f.removeEventListener("scroll",u)}},[t.viewport,t.isPositioned]),s?d.jsx(oA,{...n,ref:l,onAutoScroll:()=>{const{viewport:u,selectedItem:f}=t;u&&f&&(u.scrollTop=u.scrollTop-f.offsetHeight)}}):null});sA.displayName=sv;var iv="SelectScrollDownButton",iA=w.forwardRef((n,e)=>{const t=Do(iv,n.__scopeSelect),r=ow(iv,n.__scopeSelect),[s,o]=w.useState(!1),l=ct(e,r.onScrollButtonChange);return Xt(()=>{if(t.viewport&&t.isPositioned){let u=function(){const m=f.scrollHeight-f.clientHeight,g=Math.ceil(f.scrollTop)<m;o(g)};const f=t.viewport;return u(),f.addEventListener("scroll",u),()=>f.removeEventListener("scroll",u)}},[t.viewport,t.isPositioned]),s?d.jsx(oA,{...n,ref:l,onAutoScroll:()=>{const{viewport:u,selectedItem:f}=t;u&&f&&(u.scrollTop=u.scrollTop+f.offsetHeight)}}):null});iA.displayName=iv;var oA=w.forwardRef((n,e)=>{const{__scopeSelect:t,onAutoScroll:r,...s}=n,o=Do("SelectScrollButton",t),l=w.useRef(null),u=Yp(t),f=w.useCallback(()=>{l.current!==null&&(window.clearInterval(l.current),l.current=null)},[]);return w.useEffect(()=>()=>f(),[f]),Xt(()=>{u().find(g=>g.ref.current===document.activeElement)?.ref.current?.scrollIntoView({block:"nearest"})},[u]),d.jsx(Be.div,{"aria-hidden":!0,...s,ref:e,style:{flexShrink:0,...s.style},onPointerDown:ve(s.onPointerDown,()=>{l.current===null&&(l.current=window.setInterval(r,50))}),onPointerMove:ve(s.onPointerMove,()=>{o.onItemLeave?.(),l.current===null&&(l.current=window.setInterval(r,50))}),onPointerLeave:ve(s.onPointerLeave,()=>{f()})})}),JB="SelectSeparator",aA=w.forwardRef((n,e)=>{const{__scopeSelect:t,...r}=n;return d.jsx(Be.div,{"aria-hidden":!0,...r,ref:e})});aA.displayName=JB;var ov="SelectArrow",ZB=w.forwardRef((n,e)=>{const{__scopeSelect:t,...r}=n,s=Xp(t),o=jo(ov,t),l=Do(ov,t);return o.open&&l.position==="popper"?d.jsx(Mv,{...s,...r,ref:e}):null});ZB.displayName=ov;var ez="SelectBubbleInput",lA=w.forwardRef(({__scopeSelect:n,value:e,...t},r)=>{const s=w.useRef(null),o=ct(r,s),l=LN(e);return w.useEffect(()=>{const u=s.current;if(!u)return;const f=window.HTMLSelectElement.prototype,g=Object.getOwnPropertyDescriptor(f,"value").set;if(l!==e&&g){const v=new Event("change",{bubbles:!0});g.call(u,e),u.dispatchEvent(v)}},[l,e]),d.jsx(Be.select,{...t,style:{...zT,...t.style},ref:o,defaultValue:e})});lA.displayName=ez;function cA(n){return n===""||n===void 0}function uA(n){const e=Vn(n),t=w.useRef(""),r=w.useRef(0),s=w.useCallback(l=>{const u=t.current+l;e(u),(function f(m){t.current=m,window.clearTimeout(r.current),m!==""&&(r.current=window.setTimeout(()=>f(""),1e3))})(u)},[e]),o=w.useCallback(()=>{t.current="",window.clearTimeout(r.current)},[]);return w.useEffect(()=>()=>window.clearTimeout(r.current),[]),[t,s,o]}function dA(n,e,t){const s=e.length>1&&Array.from(e).every(m=>m===e[0])?e[0]:e,o=t?n.indexOf(t):-1;let l=tz(n,Math.max(o,0));s.length===1&&(l=l.filter(m=>m!==t));const f=l.find(m=>m.textValue.toLowerCase().startsWith(s.toLowerCase()));return f!==t?f:void 0}function tz(n,e){return n.map((t,r)=>n[(e+r)%n.length])}var nz=VN,hA=UN,rz=BN,sz=zN,iz=WN,fA=HN,oz=QN,pA=JN,mA=eA,az=tA,lz=rA,gA=sA,yA=iA,vA=aA;const _A=nz,wA=rz,aw=w.forwardRef(({className:n,children:e,...t},r)=>d.jsxs(hA,{ref:r,className:He("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",n),...t,children:[e,d.jsx(sz,{asChild:!0,children:d.jsx(f1,{className:"h-4 w-4 opacity-50"})})]}));aw.displayName=hA.displayName;const xA=w.forwardRef(({className:n,...e},t)=>d.jsx(gA,{ref:t,className:He("flex cursor-default items-center justify-center py-1",n),...e,children:d.jsx(o2,{className:"h-4 w-4"})}));xA.displayName=gA.displayName;const EA=w.forwardRef(({className:n,...e},t)=>d.jsx(yA,{ref:t,className:He("flex cursor-default items-center justify-center py-1",n),...e,children:d.jsx(f1,{className:"h-4 w-4"})}));EA.displayName=yA.displayName;const lw=w.forwardRef(({className:n,children:e,position:t="popper",...r},s)=>d.jsx(iz,{children:d.jsxs(fA,{ref:s,className:He("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",n),position:t,...r,children:[d.jsx(xA,{}),d.jsx(oz,{className:He("p-1",t==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:e}),d.jsx(EA,{})]})}));lw.displayName=fA.displayName;const cz=w.forwardRef(({className:n,...e},t)=>d.jsx(pA,{ref:t,className:He("py-1.5 pl-8 pr-2 text-sm font-semibold",n),...e}));cz.displayName=pA.displayName;const bu=w.forwardRef(({className:n,children:e,...t},r)=>d.jsxs(mA,{ref:r,className:He("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 focus:bg-accent focus:text-accent-foreground",n),...t,children:[d.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:d.jsx(lz,{children:d.jsx(_v,{className:"h-4 w-4"})})}),d.jsx(az,{children:e})]}));bu.displayName=mA.displayName;const uz=w.forwardRef(({className:n,...e},t)=>d.jsx(vA,{ref:t,className:He("-mx-1 my-1 h-px bg-muted",n),...e}));uz.displayName=vA.displayName;const dz=()=>{const[n,e]=w.useState(""),[t,r]=w.useState("distance"),[s,o]=w.useState(""),[l,u]=w.useState(!1),[f,m]=w.useState(null),[g,v]=w.useState([]),[E,b]=w.useState(!0),{toast:I}=LT();w.useEffect(()=>{const D=z_(As(wt,"mechanics"),V=>{const B=V.docs.map(H=>{const Q=H.data();return{id:H.id,name:Q.full_name||"Unknown Mechanic",specialty:Q.services?.[0]||"General Mechanic",rating:Q.rating||0,reviewCount:Q.total_reviews||0,distance:"Unknown",responseTime:"20 min",verified:Q.is_verified||!1,available:Q.is_available||!1,availability_status:Q.availability_status,image:Q.avatar_url||"https://images.unsplash.com/photo-1560250097-0b93528c311a?w=200&h=200&fit=crop",services:Q.services||[],coordinates:Q.coordinates}});v(B),b(!1)},V=>{console.error("Error fetching mechanics:",V),I({title:"Error",description:"Failed to load mechanics.",variant:"destructive"}),b(!1)});return()=>D()},[I]);const T=(D,V,B,H)=>{const k=(B-D)*(Math.PI/180),R=(H-V)*(Math.PI/180),N=Math.sin(k/2)*Math.sin(k/2)+Math.cos(D*(Math.PI/180))*Math.cos(B*(Math.PI/180))*Math.sin(R/2)*Math.sin(R/2);return 6371*(2*Math.atan2(Math.sqrt(N),Math.sqrt(1-N)))},C=()=>{if(!navigator.geolocation){I({title:"Error",description:"Geolocation is not supported by your browser",variant:"destructive"});return}u(!0),navigator.geolocation.getCurrentPosition(D=>{const{latitude:V,longitude:B}=D.coords;o(`Lat: ${V.toFixed(4)}, Long: ${B.toFixed(4)}`),m({lat:V,lng:B});const H=g.map(Q=>{if(Q.coordinates){const R=T(V,B,Q.coordinates.lat,Q.coordinates.lng);return{...Q,distance:`${R.toFixed(1)} km`}}const k=(Math.random()*5).toFixed(1);return{...Q,distance:`${k} km`}});v(H),u(!1),I({title:"Location Found",description:"Distances updated based on your location."})},D=>{let V="Unable to retrieve your location";D.code===D.PERMISSION_DENIED?V="Permission denied. Please enable location access in your browser settings.":D.code===D.POSITION_UNAVAILABLE?V="Location information is unavailable":D.code===D.TIMEOUT&&(V="The request to get user location timed out"),I({title:"Error",description:V,variant:"destructive"}),u(!1)})},M=g.filter(D=>D.name.toLowerCase().includes(n.toLowerCase())||D.specialty.toLowerCase().includes(n.toLowerCase())||D.services.some(B=>B.toLowerCase().includes(n.toLowerCase())));return d.jsxs("div",{className:"min-h-screen bg-background",children:[d.jsx(Ei,{}),d.jsx("main",{className:"pt-24 pb-16",children:d.jsxs("div",{className:"container mx-auto px-4",children:[d.jsxs("div",{className:"mb-8",children:[d.jsxs("h1",{className:"text-3xl md:text-4xl font-bold mb-2",children:["Find ",d.jsx("span",{className:"text-gradient",children:"Mechanics"})," Near You"]}),d.jsx("p",{className:"text-muted-foreground",children:"Browse verified mechanics and get help fast"})]}),d.jsxs("div",{className:"flex flex-col md:flex-row gap-4 mb-8",children:[d.jsxs("div",{className:"relative flex-1",children:[d.jsx(pu,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-5 w-5 text-muted-foreground"}),d.jsx(Pn,{placeholder:"Search by name, specialty, or service...",value:n,onChange:D=>e(D.target.value),className:"pl-10 h-12 bg-card border-border"})]}),d.jsxs("div",{className:"flex gap-3",children:[d.jsxs("div",{className:"relative",children:[d.jsx("div",{className:"absolute left-3 top-1/2 -translate-y-1/2 pointer-events-none",children:d.jsx(Fs,{className:"h-5 w-5 text-muted-foreground"})}),d.jsx(Pn,{placeholder:"Your location",className:"pl-10 pr-10 h-12 w-48 bg-card border-border",value:s,onChange:D=>o(D.target.value)}),d.jsx($e,{size:"icon",variant:"ghost",className:"absolute right-1 top-1/2 -translate-y-1/2 h-8 w-8 text-muted-foreground hover:text-primary",onClick:C,disabled:l,children:l?d.jsx("span",{className:"h-4 w-4 animate-spin rounded-full border-2 border-primary border-t-transparent"}):d.jsx(Fs,{className:"h-4 w-4"})})]}),d.jsxs(_A,{value:t,onValueChange:r,children:[d.jsxs(aw,{className:"w-40 h-12 bg-card border-border",children:[d.jsx(f2,{className:"h-4 w-4 mr-2"}),d.jsx(wA,{placeholder:"Sort by"})]}),d.jsxs(lw,{children:[d.jsx(bu,{value:"distance",children:"Distance"}),d.jsx(bu,{value:"rating",children:"Rating"}),d.jsx(bu,{value:"response",children:"Response Time"})]})]})]})]}),d.jsxs("div",{className:"mb-6 flex items-center justify-between",children:[d.jsxs("p",{className:"text-muted-foreground",children:["Showing ",d.jsx("span",{className:"text-foreground font-medium",children:M.length})," mechanics"]}),d.jsx("div",{className:"flex gap-2",children:d.jsxs($e,{variant:"outline",size:"sm",className:"gap-2",children:[d.jsx("span",{className:"w-2 h-2 rounded-full bg-success"}),"Available Now"]})})]}),d.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-6",children:E?Array(6).fill(0).map((D,V)=>d.jsx("div",{className:"h-[280px] rounded-xl bg-gray-100 animate-pulse"},V)):M.map((D,V)=>d.jsx("div",{className:"animate-fade-in",style:{animationDelay:`${V*50}ms`},children:d.jsx(MN,{mechanic:D})},D.id))}),!E&&M.length===0&&d.jsx("div",{className:"text-center py-16",children:d.jsx("p",{className:"text-muted-foreground",children:"No mechanics found matching your search."})})]})}),d.jsx(ql,{})]})};function _n(n){const e=Object.prototype.toString.call(n);return n instanceof Date||typeof n=="object"&&e==="[object Date]"?new n.constructor(+n):typeof n=="number"||e==="[object Number]"||typeof n=="string"||e==="[object String]"?new Date(n):new Date(NaN)}function hz(n,e){return n instanceof Date?new n.constructor(e):new Date(e)}const Qh=43200,pT=1440;let fz={};function pz(){return fz}function mT(n){const e=_n(n),t=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return t.setUTCFullYear(e.getFullYear()),+n-+t}function hf(n,e){const t=_n(n),r=_n(e),s=t.getTime()-r.getTime();return s<0?-1:s>0?1:s}function mz(n){return hz(n,Date.now())}function gz(n,e){const t=_n(n),r=_n(e),s=t.getFullYear()-r.getFullYear(),o=t.getMonth()-r.getMonth();return s*12+o}function yz(n){return e=>{const r=(n?Math[n]:Math.trunc)(e);return r===0?0:r}}function vz(n,e){return+_n(n)-+_n(e)}function _z(n){const e=_n(n);return e.setHours(23,59,59,999),e}function wz(n){const e=_n(n),t=e.getMonth();return e.setFullYear(e.getFullYear(),t+1,0),e.setHours(23,59,59,999),e}function xz(n){const e=_n(n);return+_z(e)==+wz(e)}function Ez(n,e){const t=_n(n),r=_n(e),s=hf(t,r),o=Math.abs(gz(t,r));let l;if(o<1)l=0;else{t.getMonth()===1&&t.getDate()>27&&t.setDate(30),t.setMonth(t.getMonth()-s*o);let u=hf(t,r)===-s;xz(_n(n))&&o===1&&hf(n,r)===1&&(u=!1),l=s*(o-Number(u))}return l===0?0:l}function bz(n,e,t){const r=vz(n,e)/1e3;return yz(t?.roundingMethod)(r)}const Tz={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},Sz=(n,e,t)=>{let r;const s=Tz[n];return typeof s=="string"?r=s:e===1?r=s.one:r=s.other.replace("{{count}}",e.toString()),t?.addSuffix?t.comparison&&t.comparison>0?"in "+r:r+" ago":r};function ny(n){return(e={})=>{const t=e.width?String(e.width):n.defaultWidth;return n.formats[t]||n.formats[n.defaultWidth]}}const Cz={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},Iz={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},Rz={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},Nz={date:ny({formats:Cz,defaultWidth:"full"}),time:ny({formats:Iz,defaultWidth:"full"}),dateTime:ny({formats:Rz,defaultWidth:"full"})},Az={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},kz=(n,e,t,r)=>Az[n];function nu(n){return(e,t)=>{const r=t?.context?String(t.context):"standalone";let s;if(r==="formatting"&&n.formattingValues){const l=n.defaultFormattingWidth||n.defaultWidth,u=t?.width?String(t.width):l;s=n.formattingValues[u]||n.formattingValues[l]}else{const l=n.defaultWidth,u=t?.width?String(t.width):n.defaultWidth;s=n.values[u]||n.values[l]}const o=n.argumentCallback?n.argumentCallback(e):e;return s[o]}}const Pz={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},jz={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},Dz={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},Oz={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},Mz={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},Lz={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},Vz=(n,e)=>{const t=Number(n),r=t%100;if(r>20||r<10)switch(r%10){case 1:return t+"st";case 2:return t+"nd";case 3:return t+"rd"}return t+"th"},Fz={ordinalNumber:Vz,era:nu({values:Pz,defaultWidth:"wide"}),quarter:nu({values:jz,defaultWidth:"wide",argumentCallback:n=>n-1}),month:nu({values:Dz,defaultWidth:"wide"}),day:nu({values:Oz,defaultWidth:"wide"}),dayPeriod:nu({values:Mz,defaultWidth:"wide",formattingValues:Lz,defaultFormattingWidth:"wide"})};function ru(n){return(e,t={})=>{const r=t.width,s=r&&n.matchPatterns[r]||n.matchPatterns[n.defaultMatchWidth],o=e.match(s);if(!o)return null;const l=o[0],u=r&&n.parsePatterns[r]||n.parsePatterns[n.defaultParseWidth],f=Array.isArray(u)?$z(u,v=>v.test(l)):Uz(u,v=>v.test(l));let m;m=n.valueCallback?n.valueCallback(f):f,m=t.valueCallback?t.valueCallback(m):m;const g=e.slice(l.length);return{value:m,rest:g}}}function Uz(n,e){for(const t in n)if(Object.prototype.hasOwnProperty.call(n,t)&&e(n[t]))return t}function $z(n,e){for(let t=0;t<n.length;t++)if(e(n[t]))return t}function Bz(n){return(e,t={})=>{const r=e.match(n.matchPattern);if(!r)return null;const s=r[0],o=e.match(n.parsePattern);if(!o)return null;let l=n.valueCallback?n.valueCallback(o[0]):o[0];l=t.valueCallback?t.valueCallback(l):l;const u=e.slice(s.length);return{value:l,rest:u}}}const zz=/^(\d+)(th|st|nd|rd)?/i,Wz=/\d+/i,Hz={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},qz={any:[/^b/i,/^(a|c)/i]},Gz={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},Kz={any:[/1/i,/2/i,/3/i,/4/i]},Qz={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},Yz={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},Xz={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},Jz={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},Zz={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},e8={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},t8={ordinalNumber:Bz({matchPattern:zz,parsePattern:Wz,valueCallback:n=>parseInt(n,10)}),era:ru({matchPatterns:Hz,defaultMatchWidth:"wide",parsePatterns:qz,defaultParseWidth:"any"}),quarter:ru({matchPatterns:Gz,defaultMatchWidth:"wide",parsePatterns:Kz,defaultParseWidth:"any",valueCallback:n=>n+1}),month:ru({matchPatterns:Qz,defaultMatchWidth:"wide",parsePatterns:Yz,defaultParseWidth:"any"}),day:ru({matchPatterns:Xz,defaultMatchWidth:"wide",parsePatterns:Jz,defaultParseWidth:"any"}),dayPeriod:ru({matchPatterns:Zz,defaultMatchWidth:"any",parsePatterns:e8,defaultParseWidth:"any"})},n8={code:"en-US",formatDistance:Sz,formatLong:Nz,formatRelative:kz,localize:Fz,match:t8,options:{weekStartsOn:0,firstWeekContainsDate:1}};function r8(n,e,t){const r=pz(),s=t?.locale??r.locale??n8,o=2520,l=hf(n,e);if(isNaN(l))throw new RangeError("Invalid time value");const u=Object.assign({},t,{addSuffix:t?.addSuffix,comparison:l});let f,m;l>0?(f=_n(e),m=_n(n)):(f=_n(n),m=_n(e));const g=bz(m,f),v=(mT(m)-mT(f))/1e3,E=Math.round((g-v)/60);let b;if(E<2)return t?.includeSeconds?g<5?s.formatDistance("lessThanXSeconds",5,u):g<10?s.formatDistance("lessThanXSeconds",10,u):g<20?s.formatDistance("lessThanXSeconds",20,u):g<40?s.formatDistance("halfAMinute",0,u):g<60?s.formatDistance("lessThanXMinutes",1,u):s.formatDistance("xMinutes",1,u):E===0?s.formatDistance("lessThanXMinutes",1,u):s.formatDistance("xMinutes",E,u);if(E<45)return s.formatDistance("xMinutes",E,u);if(E<90)return s.formatDistance("aboutXHours",1,u);if(E<pT){const I=Math.round(E/60);return s.formatDistance("aboutXHours",I,u)}else{if(E<o)return s.formatDistance("xDays",1,u);if(E<Qh){const I=Math.round(E/pT);return s.formatDistance("xDays",I,u)}else if(E<Qh*2)return b=Math.round(E/Qh),s.formatDistance("aboutXMonths",b,u)}if(b=Ez(m,f),b<12){const I=Math.round(E/Qh);return s.formatDistance("xMonths",I,u)}else{const I=b%12,T=Math.trunc(b/12);return I<3?s.formatDistance("aboutXYears",T,u):I<9?s.formatDistance("overXYears",T,u):s.formatDistance("almostXYears",T+1,u)}}function bA(n,e){return r8(n,mz(n),e)}const s8=({rating:n,maxRating:e=5,size:t="md",interactive:r=!1,onRate:s})=>{const o={sm:"h-4 w-4",md:"h-5 w-5",lg:"h-6 w-6"};return d.jsx("div",{className:"flex items-center gap-1",children:Array.from({length:e},(l,u)=>{const f=u+1,m=f<=n,g=!m&&f-.5<=n;return d.jsx("button",{type:"button",disabled:!r,onClick:()=>s?.(f),className:He("transition-transform",r&&"hover:scale-110 cursor-pointer"),children:d.jsx(pa,{className:He(o[t],m||g?"fill-yellow-400 text-yellow-400":"text-neutral-200")})},u)})})},i8=()=>{const{id:n}=xM(),e=Ti(),[t,r]=w.useState(!1),[s,o]=w.useState(null),[l,u]=w.useState(!0),[f,m]=w.useState(0),[g,v]=w.useState(""),[E,b]=w.useState([]),[I,T]=w.useState(!1),[C,M]=w.useState(!1),[D,V]=w.useState("");w.useEffect(()=>{(async()=>{if(n)try{const R=un(wt,"mechanics",n),N=await zf(R);if(N.exists()){o({id:N.id,...N.data()});const j=Fp(As(wt,"mechanics",n,"reviews"),aU("created_at","desc")),F=(await JI(j)).docs.map(O=>({id:O.id,...O.data()}));b(F)}else Pe.error("Mechanic not found"),e("/mechanics")}catch(R){console.error("Error fetching mechanic:",R),Pe.error("Failed to load mechanic profile")}finally{u(!1)}})()},[n,e]);const B=async()=>{if(!kt.currentUser){Pe.error("Please log in to review"),e("/login");return}if(f===0){Pe.error("Please select a rating");return}if(!g.trim()){Pe.error("Please write a review");return}T(!0);try{const k=un(wt,"mechanics",n);await fU(wt,async R=>{const N=await R.get(k);if(!N.exists())throw"Mechanic does not exist!";const j=N.data(),L=j.rating||0,F=j.total_reviews||0,O=F+1,ne=(L*F+f)/O,Ee=un(As(wt,"mechanics",n,"reviews"));R.set(Ee,{user_id:kt.currentUser.uid,user_email:kt.currentUser.email,user_name:kt.currentUser.displayName||"User",rating:f,comment:g,created_at:Yn()}),R.update(k,{rating:parseFloat(ne.toFixed(1)),total_reviews:O})}),Pe.success("Review submitted successfully!"),m(0),v(""),window.location.reload()}catch(k){console.error("Error submitting review:",k),Pe.error("Failed to submit review")}finally{T(!1)}},H=async()=>{if(!kt.currentUser){Pe.error("Please log in to send a message"),e("/login");return}if(!D.trim()){Pe.error("Please enter a message");return}r(!0);try{await Hf(As(wt,"bookings"),{user_id:kt.currentUser.uid,user_email:kt.currentUser.email,mechanic_id:n,mechanic_name:s.full_name,mechanic_specialty:s.services?.[0]||"General Mechanic",mechanic_image:s.avatar_url,status:"pending",action_type:"Send Message",message:D,created_at:Yn()}),Pe.success("Message sent successfully!"),M(!1),V("")}catch(k){console.error("Error sending message:",k),Pe.error("Failed to send message.")}finally{r(!1)}},Q=async k=>{if(!kt.currentUser){Pe.error(`Please log in to ${k}`),e("/login");return}r(!0);try{await Hf(As(wt,"bookings"),{user_id:kt.currentUser.uid,user_email:kt.currentUser.email,mechanic_id:n,mechanic_name:s.full_name,mechanic_specialty:s.services?.[0]||"General Mechanic",mechanic_image:s.avatar_url,status:"pending",action_type:k,created_at:Yn()}),k==="Call Now"?s.phone?(window.location.href=`tel:${s.phone}`,Pe.success(`Calling ${s.full_name}...`)):Pe.error("Phone number not available"):Pe.success(`Request for ${k} sent!`)}catch(R){console.error("Error processing request:",R),Pe.error("Failed to process request.")}finally{r(!1)}};return l?d.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center",children:d.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary"})}):s?d.jsxs("div",{className:"min-h-screen bg-background",children:[d.jsx(Ei,{}),d.jsx("main",{className:"pt-24 pb-16",children:d.jsx("div",{className:"container mx-auto px-4",children:d.jsxs("div",{className:"grid lg:grid-cols-3 gap-8",children:[d.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[d.jsx("div",{className:"bg-card border border-border rounded-2xl p-6 card-glow",children:d.jsxs("div",{className:"flex flex-col md:flex-row gap-6",children:[d.jsxs("div",{className:"relative",children:[s.avatar_url?d.jsx("img",{src:s.avatar_url,alt:s.full_name,className:"w-32 h-32 rounded-2xl object-cover"}):d.jsx("div",{className:"w-32 h-32 rounded-2xl bg-neutral-200 flex items-center justify-center",children:d.jsx(jr,{size:48,className:"text-neutral-400"})}),s.is_available&&d.jsx("span",{className:"absolute -top-2 -right-2 w-6 h-6 bg-success rounded-full border-4 border-card"})]}),d.jsxs("div",{className:"flex-1",children:[d.jsxs("div",{className:"flex items-start justify-between",children:[d.jsxs("div",{children:[d.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[d.jsx("h1",{className:"text-2xl font-bold",children:s.full_name}),s.is_verified&&d.jsx(mf,{className:"h-5 w-5 text-primary"})]}),d.jsx("p",{className:"text-muted-foreground",children:s.services?.[0]||"Mechanic"})]}),d.jsx(Eu,{variant:s.is_available?"default":"secondary",children:s.is_available?"Available Now":"Busy"})]}),d.jsxs("div",{className:"flex flex-wrap items-center gap-6 mt-4 text-sm",children:[d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx(s8,{rating:s.rating||0,size:"sm"}),d.jsx("span",{className:"font-semibold",children:s.rating||0}),d.jsxs("span",{className:"text-muted-foreground",children:["(",s.total_reviews||0," reviews)"]})]}),d.jsxs("div",{className:"flex items-center gap-1 text-muted-foreground",children:[d.jsx(Fs,{className:"h-4 w-4"}),d.jsx("span",{children:s.location||"Location N/A"})]}),d.jsxs("div",{className:"flex items-center gap-1 text-muted-foreground",children:[d.jsx(Xu,{className:"h-4 w-4"}),d.jsx("span",{children:"20 min response"})]})]}),d.jsxs("div",{className:"grid grid-cols-3 gap-4 mt-6",children:[d.jsxs("div",{className:"text-center p-3 rounded-lg bg-secondary",children:[d.jsxs("p",{className:"text-xl font-bold text-gradient",children:[s.experience_years||0," Years"]}),d.jsx("p",{className:"text-xs text-muted-foreground",children:"Experience"})]}),d.jsxs("div",{className:"text-center p-3 rounded-lg bg-secondary",children:[d.jsx("p",{className:"text-xl font-bold text-gradient",children:(s.total_reviews||0)+10}),d.jsx("p",{className:"text-xs text-muted-foreground",children:"Jobs Done"})]}),d.jsxs("div",{className:"text-center p-3 rounded-lg bg-secondary",children:[d.jsx("p",{className:"text-xl font-bold text-gradient",children:"98%"}),d.jsx("p",{className:"text-xs text-muted-foreground",children:"Satisfaction"})]})]})]})]})}),d.jsxs("div",{className:"bg-card border border-border rounded-2xl p-6",children:[d.jsx("h2",{className:"text-lg font-semibold mb-4",children:"About"}),d.jsx("p",{className:"text-muted-foreground",children:s.about||"No bio available."})]}),d.jsxs("div",{className:"bg-card border border-border rounded-2xl p-6",children:[d.jsx("h2",{className:"text-lg font-semibold mb-4",children:"Services"}),d.jsxs("div",{className:"flex flex-wrap gap-2",children:[s.services?.map(k=>d.jsx("span",{className:"px-4 py-2 rounded-full bg-secondary text-sm",children:k},k)),(!s.services||s.services.length===0)&&d.jsx("p",{className:"text-muted-foreground",children:"No services listed."})]})]}),d.jsxs("div",{className:"bg-card border border-border rounded-2xl p-6",children:[d.jsxs("div",{className:"flex items-center justify-between mb-6",children:[d.jsx("h2",{className:"text-lg font-semibold",children:"Reviews"}),d.jsxs("span",{className:"text-sm text-muted-foreground",children:[s.total_reviews||0," reviews"]})]}),d.jsxs("div",{className:"mb-8 p-4 bg-secondary/30 rounded-xl border border-border",children:[d.jsx("h3",{className:"text-sm font-medium mb-3",children:"Write a Review"}),d.jsxs("div",{className:"flex flex-col gap-4",children:[d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx("span",{className:"text-sm text-muted-foreground",children:"Rating:"}),d.jsx("div",{className:"flex gap-1",children:[1,2,3,4,5].map(k=>d.jsx("button",{type:"button",onClick:()=>m(k),className:`text-lg transition-transform hover:scale-110 ${k<=f?"text-yellow-400":"text-neutral-300"}`,children:""},k))})]}),d.jsx(Sa,{placeholder:"Share your experience...",value:g,onChange:k=>v(k.target.value),className:"bg-white text-neutral-900 placeholder:text-neutral-500"}),d.jsx($e,{onClick:B,disabled:I,className:"self-end",children:I?"Submitting...":"Post Review"})]})]}),d.jsx("div",{className:"space-y-6",children:E.length>0?E.map(k=>d.jsxs("div",{className:"border-b border-border pb-6 last:border-0 last:pb-0",children:[d.jsxs("div",{className:"flex items-center justify-between mb-2",children:[d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx("div",{className:"w-8 h-8 rounded-full bg-primary/10 flex items-center justify-center text-primary font-bold text-xs",children:k.user_email?.charAt(0).toUpperCase()||"U"}),d.jsxs("div",{children:[d.jsx("p",{className:"text-sm font-medium",children:k.user_email?.split("@")[0]||"User"}),d.jsx("div",{className:"flex text-yellow-400 text-xs gap-0.5",children:Array.from({length:k.rating}).map((R,N)=>d.jsx("span",{children:""},N))})]})]}),d.jsx("span",{className:"text-xs text-muted-foreground",children:k.created_at?.seconds?bA(new Date(k.created_at.seconds*1e3),{addSuffix:!0}):"Just now"})]}),d.jsx("p",{className:"text-sm text-neutral-600 pl-10",children:k.comment})]},k.id)):d.jsx("div",{className:"text-center py-8 text-muted-foreground",children:"No reviews yet. Be the first to review!"})})]})]}),d.jsx("div",{className:"lg:col-span-1",children:d.jsxs("div",{className:"sticky top-24 space-y-4",children:[d.jsxs("div",{className:"bg-card border border-border rounded-2xl p-6 card-glow",children:[d.jsx("h3",{className:"font-semibold mb-4",children:"Request Service"}),d.jsxs("div",{className:"space-y-3",children:[d.jsxs($e,{className:"w-full h-12",size:"lg",onClick:()=>Q("Call Now"),disabled:t,children:[d.jsx(cp,{className:"h-5 w-5"}),t?"Processing...":"Call Now"]}),d.jsxs(Kp,{open:C,onOpenChange:M,children:[d.jsx(iw,{asChild:!0,children:d.jsxs($e,{variant:"outline",className:"w-full h-12",size:"lg",disabled:t,children:[d.jsx(p1,{className:"h-5 w-5"}),"Send Message"]})}),d.jsxs(xd,{children:[d.jsx(Ed,{children:d.jsxs(bd,{children:["Send Message to ",s.full_name]})}),d.jsxs("div",{className:"space-y-4 pt-4",children:[d.jsx(Sa,{placeholder:"Describe your emergency or question...",value:D,onChange:k=>V(k.target.value),className:"bg-white text-neutral-900 placeholder:text-neutral-500 min-h-[120px]"}),d.jsx($e,{onClick:H,disabled:t,className:"w-full",children:t?"Sending...":"Send Message"})]})]})]}),d.jsxs($e,{variant:"secondary",className:"w-full h-12",size:"lg",onClick:()=>Q("Schedule Later"),disabled:t,children:[d.jsx(pf,{className:"h-5 w-5"}),"Schedule Later"]})]}),d.jsx("p",{className:"text-xs text-muted-foreground text-center mt-4",children:"Average response time: 20 mins"})]}),d.jsxs("div",{className:"bg-card border border-border rounded-2xl p-6",children:[d.jsx("h3",{className:"font-semibold mb-4",children:"Working Hours"}),d.jsxs("div",{className:"space-y-2 text-sm",children:[d.jsxs("div",{className:"flex justify-between",children:[d.jsx("span",{className:"text-muted-foreground",children:"Mon - Fri"}),d.jsx("span",{children:"7:00 AM - 9:00 PM"})]}),d.jsxs("div",{className:"flex justify-between",children:[d.jsx("span",{className:"text-muted-foreground",children:"Saturday"}),d.jsx("span",{children:"8:00 AM - 6:00 PM"})]}),d.jsxs("div",{className:"flex justify-between",children:[d.jsx("span",{className:"text-muted-foreground",children:"Sunday"}),d.jsx("span",{children:"9:00 AM - 5:00 PM"})]})]})]})]})})]})})}),d.jsx(ql,{})]}):null},o8=()=>{const n=Ti(),[e,t]=w.useState(""),[r,s]=w.useState(""),[o,l]=w.useState(!1),[u,f]=w.useState(!1),m=async g=>{g.preventDefault(),f(!0);try{await NV(kt,e,r),Pe.success("Signed in successfully!"),n("/")}catch(v){console.error("Login error:",v),Pe.error(v.message||"Failed to sign in. Please check your credentials.")}finally{f(!1)}};return d.jsxs("div",{className:"min-h-screen bg-background",children:[d.jsx(Ei,{}),d.jsx("main",{className:"pt-24 pb-16 flex items-center justify-center min-h-screen",children:d.jsx("div",{className:"w-full max-w-md px-4",children:d.jsxs("div",{className:"bg-card border border-border rounded-2xl p-8 card-glow",children:[d.jsxs("div",{className:"text-center mb-8",children:[d.jsx("div",{className:"inline-flex items-center justify-center p-3 rounded-xl bg-primary/10 mb-4",children:d.jsx(Pr,{className:"h-8 w-8 text-primary"})}),d.jsx("h1",{className:"text-2xl font-bold mb-2",children:"Welcome Back"}),d.jsx("p",{className:"text-muted-foreground",children:"Sign in to your MechRadii account"})]}),d.jsxs("form",{onSubmit:m,className:"space-y-4",children:[d.jsxs("div",{className:"space-y-2",children:[d.jsx(ln,{htmlFor:"email",children:"Email"}),d.jsxs("div",{className:"relative",children:[d.jsx(Ju,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-5 w-5 text-muted-foreground"}),d.jsx(Pn,{id:"email",type:"email",placeholder:"you@example.com",value:e,onChange:g=>t(g.target.value),className:"pl-10 h-12 bg-secondary border-border",required:!0})]})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsx(ln,{htmlFor:"password",children:"Password"}),d.jsx(yt,{to:"/forgot-password",className:"text-sm text-primary hover:underline",children:"Forgot password?"})]}),d.jsxs("div",{className:"relative",children:[d.jsx(Ev,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-5 w-5 text-muted-foreground"}),d.jsx(Pn,{id:"password",type:o?"text":"password",placeholder:"",value:r,onChange:g=>s(g.target.value),className:"pl-10 pr-10 h-12 bg-secondary border-border",required:!0}),d.jsx("button",{type:"button",onClick:()=>l(!o),className:"absolute right-3 top-1/2 -translate-y-1/2 text-muted-foreground hover:text-foreground",children:o?d.jsx(wv,{className:"h-5 w-5"}):d.jsx(xv,{className:"h-5 w-5"})})]})]}),d.jsx($e,{type:"submit",className:"w-full h-12",disabled:u,children:u?"Signing in...":"Sign In"})]}),d.jsxs("div",{className:"mt-6 text-center text-sm text-muted-foreground",children:["Don't have an account?"," ",d.jsx(yt,{to:"/signup",className:"text-primary hover:underline font-medium",children:"Sign up"})]})]})})})]})};var ht;(function(n){n.assertEqual=s=>{};function e(s){}n.assertIs=e;function t(s){throw new Error}n.assertNever=t,n.arrayToEnum=s=>{const o={};for(const l of s)o[l]=l;return o},n.getValidEnumValues=s=>{const o=n.objectKeys(s).filter(u=>typeof s[s[u]]!="number"),l={};for(const u of o)l[u]=s[u];return n.objectValues(l)},n.objectValues=s=>n.objectKeys(s).map(function(o){return s[o]}),n.objectKeys=typeof Object.keys=="function"?s=>Object.keys(s):s=>{const o=[];for(const l in s)Object.prototype.hasOwnProperty.call(s,l)&&o.push(l);return o},n.find=(s,o)=>{for(const l of s)if(o(l))return l},n.isInteger=typeof Number.isInteger=="function"?s=>Number.isInteger(s):s=>typeof s=="number"&&Number.isFinite(s)&&Math.floor(s)===s;function r(s,o=" | "){return s.map(l=>typeof l=="string"?`'${l}'`:l).join(o)}n.joinValues=r,n.jsonStringifyReplacer=(s,o)=>typeof o=="bigint"?o.toString():o})(ht||(ht={}));var gT;(function(n){n.mergeShapes=(e,t)=>({...e,...t})})(gT||(gT={}));const Ie=ht.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),Ji=n=>{switch(typeof n){case"undefined":return Ie.undefined;case"string":return Ie.string;case"number":return Number.isNaN(n)?Ie.nan:Ie.number;case"boolean":return Ie.boolean;case"function":return Ie.function;case"bigint":return Ie.bigint;case"symbol":return Ie.symbol;case"object":return Array.isArray(n)?Ie.array:n===null?Ie.null:n.then&&typeof n.then=="function"&&n.catch&&typeof n.catch=="function"?Ie.promise:typeof Map<"u"&&n instanceof Map?Ie.map:typeof Set<"u"&&n instanceof Set?Ie.set:typeof Date<"u"&&n instanceof Date?Ie.date:Ie.object;default:return Ie.unknown}},ue=ht.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]);class bi extends Error{get errors(){return this.issues}constructor(e){super(),this.issues=[],this.addIssue=r=>{this.issues=[...this.issues,r]},this.addIssues=(r=[])=>{this.issues=[...this.issues,...r]};const t=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,t):this.__proto__=t,this.name="ZodError",this.issues=e}format(e){const t=e||function(o){return o.message},r={_errors:[]},s=o=>{for(const l of o.issues)if(l.code==="invalid_union")l.unionErrors.map(s);else if(l.code==="invalid_return_type")s(l.returnTypeError);else if(l.code==="invalid_arguments")s(l.argumentsError);else if(l.path.length===0)r._errors.push(t(l));else{let u=r,f=0;for(;f<l.path.length;){const m=l.path[f];f===l.path.length-1?(u[m]=u[m]||{_errors:[]},u[m]._errors.push(t(l))):u[m]=u[m]||{_errors:[]},u=u[m],f++}}};return s(this),r}static assert(e){if(!(e instanceof bi))throw new Error(`Not a ZodError: ${e}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,ht.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(e=t=>t.message){const t={},r=[];for(const s of this.issues)if(s.path.length>0){const o=s.path[0];t[o]=t[o]||[],t[o].push(e(s))}else r.push(e(s));return{formErrors:r,fieldErrors:t}}get formErrors(){return this.flatten()}}bi.create=n=>new bi(n);const av=(n,e)=>{let t;switch(n.code){case ue.invalid_type:n.received===Ie.undefined?t="Required":t=`Expected ${n.expected}, received ${n.received}`;break;case ue.invalid_literal:t=`Invalid literal value, expected ${JSON.stringify(n.expected,ht.jsonStringifyReplacer)}`;break;case ue.unrecognized_keys:t=`Unrecognized key(s) in object: ${ht.joinValues(n.keys,", ")}`;break;case ue.invalid_union:t="Invalid input";break;case ue.invalid_union_discriminator:t=`Invalid discriminator value. Expected ${ht.joinValues(n.options)}`;break;case ue.invalid_enum_value:t=`Invalid enum value. Expected ${ht.joinValues(n.options)}, received '${n.received}'`;break;case ue.invalid_arguments:t="Invalid function arguments";break;case ue.invalid_return_type:t="Invalid function return type";break;case ue.invalid_date:t="Invalid date";break;case ue.invalid_string:typeof n.validation=="object"?"includes"in n.validation?(t=`Invalid input: must include "${n.validation.includes}"`,typeof n.validation.position=="number"&&(t=`${t} at one or more positions greater than or equal to ${n.validation.position}`)):"startsWith"in n.validation?t=`Invalid input: must start with "${n.validation.startsWith}"`:"endsWith"in n.validation?t=`Invalid input: must end with "${n.validation.endsWith}"`:ht.assertNever(n.validation):n.validation!=="regex"?t=`Invalid ${n.validation}`:t="Invalid";break;case ue.too_small:n.type==="array"?t=`Array must contain ${n.exact?"exactly":n.inclusive?"at least":"more than"} ${n.minimum} element(s)`:n.type==="string"?t=`String must contain ${n.exact?"exactly":n.inclusive?"at least":"over"} ${n.minimum} character(s)`:n.type==="number"?t=`Number must be ${n.exact?"exactly equal to ":n.inclusive?"greater than or equal to ":"greater than "}${n.minimum}`:n.type==="bigint"?t=`Number must be ${n.exact?"exactly equal to ":n.inclusive?"greater than or equal to ":"greater than "}${n.minimum}`:n.type==="date"?t=`Date must be ${n.exact?"exactly equal to ":n.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(n.minimum))}`:t="Invalid input";break;case ue.too_big:n.type==="array"?t=`Array must contain ${n.exact?"exactly":n.inclusive?"at most":"less than"} ${n.maximum} element(s)`:n.type==="string"?t=`String must contain ${n.exact?"exactly":n.inclusive?"at most":"under"} ${n.maximum} character(s)`:n.type==="number"?t=`Number must be ${n.exact?"exactly":n.inclusive?"less than or equal to":"less than"} ${n.maximum}`:n.type==="bigint"?t=`BigInt must be ${n.exact?"exactly":n.inclusive?"less than or equal to":"less than"} ${n.maximum}`:n.type==="date"?t=`Date must be ${n.exact?"exactly":n.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(n.maximum))}`:t="Invalid input";break;case ue.custom:t="Invalid input";break;case ue.invalid_intersection_types:t="Intersection results could not be merged";break;case ue.not_multiple_of:t=`Number must be a multiple of ${n.multipleOf}`;break;case ue.not_finite:t="Number must be finite";break;default:t=e.defaultError,ht.assertNever(n)}return{message:t}};let a8=av;function l8(){return a8}const c8=n=>{const{data:e,path:t,errorMaps:r,issueData:s}=n,o=[...t,...s.path||[]],l={...s,path:o};if(s.message!==void 0)return{...s,path:o,message:s.message};let u="";const f=r.filter(m=>!!m).slice().reverse();for(const m of f)u=m(l,{data:e,defaultError:u}).message;return{...s,path:o,message:u}};function we(n,e){const t=l8(),r=c8({issueData:e,data:n.data,path:n.path,errorMaps:[n.common.contextualErrorMap,n.schemaErrorMap,t,t===av?void 0:av].filter(s=>!!s)});n.common.issues.push(r)}class _r{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(e,t){const r=[];for(const s of t){if(s.status==="aborted")return Ke;s.status==="dirty"&&e.dirty(),r.push(s.value)}return{status:e.value,value:r}}static async mergeObjectAsync(e,t){const r=[];for(const s of t){const o=await s.key,l=await s.value;r.push({key:o,value:l})}return _r.mergeObjectSync(e,r)}static mergeObjectSync(e,t){const r={};for(const s of t){const{key:o,value:l}=s;if(o.status==="aborted"||l.status==="aborted")return Ke;o.status==="dirty"&&e.dirty(),l.status==="dirty"&&e.dirty(),o.value!=="__proto__"&&(typeof l.value<"u"||s.alwaysSet)&&(r[o.value]=l.value)}return{status:e.value,value:r}}}const Ke=Object.freeze({status:"aborted"}),hu=n=>({status:"dirty",value:n}),Or=n=>({status:"valid",value:n}),yT=n=>n.status==="aborted",vT=n=>n.status==="dirty",Gl=n=>n.status==="valid",Jf=n=>typeof Promise<"u"&&n instanceof Promise;var Ae;(function(n){n.errToObj=e=>typeof e=="string"?{message:e}:e||{},n.toString=e=>typeof e=="string"?e:e?.message})(Ae||(Ae={}));class So{constructor(e,t,r,s){this._cachedPath=[],this.parent=e,this.data=t,this._path=r,this._key=s}get path(){return this._cachedPath.length||(Array.isArray(this._key)?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const _T=(n,e)=>{if(Gl(e))return{success:!0,data:e.value};if(!n.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const t=new bi(n.common.issues);return this._error=t,this._error}}};function Je(n){if(!n)return{};const{errorMap:e,invalid_type_error:t,required_error:r,description:s}=n;if(e&&(t||r))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return e?{errorMap:e,description:s}:{errorMap:(l,u)=>{const{message:f}=n;return l.code==="invalid_enum_value"?{message:f??u.defaultError}:typeof u.data>"u"?{message:f??r??u.defaultError}:l.code!=="invalid_type"?{message:u.defaultError}:{message:f??t??u.defaultError}},description:s}}class ut{get description(){return this._def.description}_getType(e){return Ji(e.data)}_getOrReturnCtx(e,t){return t||{common:e.parent.common,data:e.data,parsedType:Ji(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}_processInputParams(e){return{status:new _r,ctx:{common:e.parent.common,data:e.data,parsedType:Ji(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}}_parseSync(e){const t=this._parse(e);if(Jf(t))throw new Error("Synchronous parse encountered promise.");return t}_parseAsync(e){const t=this._parse(e);return Promise.resolve(t)}parse(e,t){const r=this.safeParse(e,t);if(r.success)return r.data;throw r.error}safeParse(e,t){const r={common:{issues:[],async:t?.async??!1,contextualErrorMap:t?.errorMap},path:t?.path||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:Ji(e)},s=this._parseSync({data:e,path:r.path,parent:r});return _T(r,s)}"~validate"(e){const t={common:{issues:[],async:!!this["~standard"].async},path:[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:Ji(e)};if(!this["~standard"].async)try{const r=this._parseSync({data:e,path:[],parent:t});return Gl(r)?{value:r.value}:{issues:t.common.issues}}catch(r){r?.message?.toLowerCase()?.includes("encountered")&&(this["~standard"].async=!0),t.common={issues:[],async:!0}}return this._parseAsync({data:e,path:[],parent:t}).then(r=>Gl(r)?{value:r.value}:{issues:t.common.issues})}async parseAsync(e,t){const r=await this.safeParseAsync(e,t);if(r.success)return r.data;throw r.error}async safeParseAsync(e,t){const r={common:{issues:[],contextualErrorMap:t?.errorMap,async:!0},path:t?.path||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:Ji(e)},s=this._parse({data:e,path:r.path,parent:r}),o=await(Jf(s)?s:Promise.resolve(s));return _T(r,o)}refine(e,t){const r=s=>typeof t=="string"||typeof t>"u"?{message:t}:typeof t=="function"?t(s):t;return this._refinement((s,o)=>{const l=e(s),u=()=>o.addIssue({code:ue.custom,...r(s)});return typeof Promise<"u"&&l instanceof Promise?l.then(f=>f?!0:(u(),!1)):l?!0:(u(),!1)})}refinement(e,t){return this._refinement((r,s)=>e(r)?!0:(s.addIssue(typeof t=="function"?t(r,s):t),!1))}_refinement(e){return new Ql({schema:this,typeName:Qe.ZodEffects,effect:{type:"refinement",refinement:e}})}superRefine(e){return this._refinement(e)}constructor(e){this.spa=this.safeParseAsync,this._def=e,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this),this["~standard"]={version:1,vendor:"zod",validate:t=>this["~validate"](t)}}optional(){return po.create(this,this._def)}nullable(){return Yl.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return Vs.create(this)}promise(){return np.create(this,this._def)}or(e){return ep.create([this,e],this._def)}and(e){return tp.create(this,e,this._def)}transform(e){return new Ql({...Je(this._def),schema:this,typeName:Qe.ZodEffects,effect:{type:"transform",transform:e}})}default(e){const t=typeof e=="function"?e:()=>e;return new cv({...Je(this._def),innerType:this,defaultValue:t,typeName:Qe.ZodDefault})}brand(){return new P8({typeName:Qe.ZodBranded,type:this,...Je(this._def)})}catch(e){const t=typeof e=="function"?e:()=>e;return new uv({...Je(this._def),innerType:this,catchValue:t,typeName:Qe.ZodCatch})}describe(e){const t=this.constructor;return new t({...this._def,description:e})}pipe(e){return cw.create(this,e)}readonly(){return dv.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const u8=/^c[^\s-]{8,}$/i,d8=/^[0-9a-z]+$/,h8=/^[0-9A-HJKMNP-TV-Z]{26}$/i,f8=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,p8=/^[a-z0-9_-]{21}$/i,m8=/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/,g8=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,y8=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,v8="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";let ry;const _8=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,w8=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,x8=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))$/,E8=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,b8=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,T8=/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,TA="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",S8=new RegExp(`^${TA}$`);function SA(n){let e="[0-5]\\d";n.precision?e=`${e}\\.\\d{${n.precision}}`:n.precision==null&&(e=`${e}(\\.\\d+)?`);const t=n.precision?"+":"?";return`([01]\\d|2[0-3]):[0-5]\\d(:${e})${t}`}function C8(n){return new RegExp(`^${SA(n)}$`)}function I8(n){let e=`${TA}T${SA(n)}`;const t=[];return t.push(n.local?"Z?":"Z"),n.offset&&t.push("([+-]\\d{2}:?\\d{2})"),e=`${e}(${t.join("|")})`,new RegExp(`^${e}$`)}function R8(n,e){return!!((e==="v4"||!e)&&_8.test(n)||(e==="v6"||!e)&&x8.test(n))}function N8(n,e){if(!m8.test(n))return!1;try{const[t]=n.split(".");if(!t)return!1;const r=t.replace(/-/g,"+").replace(/_/g,"/").padEnd(t.length+(4-t.length%4)%4,"="),s=JSON.parse(atob(r));return!(typeof s!="object"||s===null||"typ"in s&&s?.typ!=="JWT"||!s.alg||e&&s.alg!==e)}catch{return!1}}function A8(n,e){return!!((e==="v4"||!e)&&w8.test(n)||(e==="v6"||!e)&&E8.test(n))}class io extends ut{_parse(e){if(this._def.coerce&&(e.data=String(e.data)),this._getType(e)!==Ie.string){const o=this._getOrReturnCtx(e);return we(o,{code:ue.invalid_type,expected:Ie.string,received:o.parsedType}),Ke}const r=new _r;let s;for(const o of this._def.checks)if(o.kind==="min")e.data.length<o.value&&(s=this._getOrReturnCtx(e,s),we(s,{code:ue.too_small,minimum:o.value,type:"string",inclusive:!0,exact:!1,message:o.message}),r.dirty());else if(o.kind==="max")e.data.length>o.value&&(s=this._getOrReturnCtx(e,s),we(s,{code:ue.too_big,maximum:o.value,type:"string",inclusive:!0,exact:!1,message:o.message}),r.dirty());else if(o.kind==="length"){const l=e.data.length>o.value,u=e.data.length<o.value;(l||u)&&(s=this._getOrReturnCtx(e,s),l?we(s,{code:ue.too_big,maximum:o.value,type:"string",inclusive:!0,exact:!0,message:o.message}):u&&we(s,{code:ue.too_small,minimum:o.value,type:"string",inclusive:!0,exact:!0,message:o.message}),r.dirty())}else if(o.kind==="email")y8.test(e.data)||(s=this._getOrReturnCtx(e,s),we(s,{validation:"email",code:ue.invalid_string,message:o.message}),r.dirty());else if(o.kind==="emoji")ry||(ry=new RegExp(v8,"u")),ry.test(e.data)||(s=this._getOrReturnCtx(e,s),we(s,{validation:"emoji",code:ue.invalid_string,message:o.message}),r.dirty());else if(o.kind==="uuid")f8.test(e.data)||(s=this._getOrReturnCtx(e,s),we(s,{validation:"uuid",code:ue.invalid_string,message:o.message}),r.dirty());else if(o.kind==="nanoid")p8.test(e.data)||(s=this._getOrReturnCtx(e,s),we(s,{validation:"nanoid",code:ue.invalid_string,message:o.message}),r.dirty());else if(o.kind==="cuid")u8.test(e.data)||(s=this._getOrReturnCtx(e,s),we(s,{validation:"cuid",code:ue.invalid_string,message:o.message}),r.dirty());else if(o.kind==="cuid2")d8.test(e.data)||(s=this._getOrReturnCtx(e,s),we(s,{validation:"cuid2",code:ue.invalid_string,message:o.message}),r.dirty());else if(o.kind==="ulid")h8.test(e.data)||(s=this._getOrReturnCtx(e,s),we(s,{validation:"ulid",code:ue.invalid_string,message:o.message}),r.dirty());else if(o.kind==="url")try{new URL(e.data)}catch{s=this._getOrReturnCtx(e,s),we(s,{validation:"url",code:ue.invalid_string,message:o.message}),r.dirty()}else o.kind==="regex"?(o.regex.lastIndex=0,o.regex.test(e.data)||(s=this._getOrReturnCtx(e,s),we(s,{validation:"regex",code:ue.invalid_string,message:o.message}),r.dirty())):o.kind==="trim"?e.data=e.data.trim():o.kind==="includes"?e.data.includes(o.value,o.position)||(s=this._getOrReturnCtx(e,s),we(s,{code:ue.invalid_string,validation:{includes:o.value,position:o.position},message:o.message}),r.dirty()):o.kind==="toLowerCase"?e.data=e.data.toLowerCase():o.kind==="toUpperCase"?e.data=e.data.toUpperCase():o.kind==="startsWith"?e.data.startsWith(o.value)||(s=this._getOrReturnCtx(e,s),we(s,{code:ue.invalid_string,validation:{startsWith:o.value},message:o.message}),r.dirty()):o.kind==="endsWith"?e.data.endsWith(o.value)||(s=this._getOrReturnCtx(e,s),we(s,{code:ue.invalid_string,validation:{endsWith:o.value},message:o.message}),r.dirty()):o.kind==="datetime"?I8(o).test(e.data)||(s=this._getOrReturnCtx(e,s),we(s,{code:ue.invalid_string,validation:"datetime",message:o.message}),r.dirty()):o.kind==="date"?S8.test(e.data)||(s=this._getOrReturnCtx(e,s),we(s,{code:ue.invalid_string,validation:"date",message:o.message}),r.dirty()):o.kind==="time"?C8(o).test(e.data)||(s=this._getOrReturnCtx(e,s),we(s,{code:ue.invalid_string,validation:"time",message:o.message}),r.dirty()):o.kind==="duration"?g8.test(e.data)||(s=this._getOrReturnCtx(e,s),we(s,{validation:"duration",code:ue.invalid_string,message:o.message}),r.dirty()):o.kind==="ip"?R8(e.data,o.version)||(s=this._getOrReturnCtx(e,s),we(s,{validation:"ip",code:ue.invalid_string,message:o.message}),r.dirty()):o.kind==="jwt"?N8(e.data,o.alg)||(s=this._getOrReturnCtx(e,s),we(s,{validation:"jwt",code:ue.invalid_string,message:o.message}),r.dirty()):o.kind==="cidr"?A8(e.data,o.version)||(s=this._getOrReturnCtx(e,s),we(s,{validation:"cidr",code:ue.invalid_string,message:o.message}),r.dirty()):o.kind==="base64"?b8.test(e.data)||(s=this._getOrReturnCtx(e,s),we(s,{validation:"base64",code:ue.invalid_string,message:o.message}),r.dirty()):o.kind==="base64url"?T8.test(e.data)||(s=this._getOrReturnCtx(e,s),we(s,{validation:"base64url",code:ue.invalid_string,message:o.message}),r.dirty()):ht.assertNever(o);return{status:r.value,value:e.data}}_regex(e,t,r){return this.refinement(s=>e.test(s),{validation:t,code:ue.invalid_string,...Ae.errToObj(r)})}_addCheck(e){return new io({...this._def,checks:[...this._def.checks,e]})}email(e){return this._addCheck({kind:"email",...Ae.errToObj(e)})}url(e){return this._addCheck({kind:"url",...Ae.errToObj(e)})}emoji(e){return this._addCheck({kind:"emoji",...Ae.errToObj(e)})}uuid(e){return this._addCheck({kind:"uuid",...Ae.errToObj(e)})}nanoid(e){return this._addCheck({kind:"nanoid",...Ae.errToObj(e)})}cuid(e){return this._addCheck({kind:"cuid",...Ae.errToObj(e)})}cuid2(e){return this._addCheck({kind:"cuid2",...Ae.errToObj(e)})}ulid(e){return this._addCheck({kind:"ulid",...Ae.errToObj(e)})}base64(e){return this._addCheck({kind:"base64",...Ae.errToObj(e)})}base64url(e){return this._addCheck({kind:"base64url",...Ae.errToObj(e)})}jwt(e){return this._addCheck({kind:"jwt",...Ae.errToObj(e)})}ip(e){return this._addCheck({kind:"ip",...Ae.errToObj(e)})}cidr(e){return this._addCheck({kind:"cidr",...Ae.errToObj(e)})}datetime(e){return typeof e=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:e}):this._addCheck({kind:"datetime",precision:typeof e?.precision>"u"?null:e?.precision,offset:e?.offset??!1,local:e?.local??!1,...Ae.errToObj(e?.message)})}date(e){return this._addCheck({kind:"date",message:e})}time(e){return typeof e=="string"?this._addCheck({kind:"time",precision:null,message:e}):this._addCheck({kind:"time",precision:typeof e?.precision>"u"?null:e?.precision,...Ae.errToObj(e?.message)})}duration(e){return this._addCheck({kind:"duration",...Ae.errToObj(e)})}regex(e,t){return this._addCheck({kind:"regex",regex:e,...Ae.errToObj(t)})}includes(e,t){return this._addCheck({kind:"includes",value:e,position:t?.position,...Ae.errToObj(t?.message)})}startsWith(e,t){return this._addCheck({kind:"startsWith",value:e,...Ae.errToObj(t)})}endsWith(e,t){return this._addCheck({kind:"endsWith",value:e,...Ae.errToObj(t)})}min(e,t){return this._addCheck({kind:"min",value:e,...Ae.errToObj(t)})}max(e,t){return this._addCheck({kind:"max",value:e,...Ae.errToObj(t)})}length(e,t){return this._addCheck({kind:"length",value:e,...Ae.errToObj(t)})}nonempty(e){return this.min(1,Ae.errToObj(e))}trim(){return new io({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new io({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new io({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(e=>e.kind==="datetime")}get isDate(){return!!this._def.checks.find(e=>e.kind==="date")}get isTime(){return!!this._def.checks.find(e=>e.kind==="time")}get isDuration(){return!!this._def.checks.find(e=>e.kind==="duration")}get isEmail(){return!!this._def.checks.find(e=>e.kind==="email")}get isURL(){return!!this._def.checks.find(e=>e.kind==="url")}get isEmoji(){return!!this._def.checks.find(e=>e.kind==="emoji")}get isUUID(){return!!this._def.checks.find(e=>e.kind==="uuid")}get isNANOID(){return!!this._def.checks.find(e=>e.kind==="nanoid")}get isCUID(){return!!this._def.checks.find(e=>e.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(e=>e.kind==="cuid2")}get isULID(){return!!this._def.checks.find(e=>e.kind==="ulid")}get isIP(){return!!this._def.checks.find(e=>e.kind==="ip")}get isCIDR(){return!!this._def.checks.find(e=>e.kind==="cidr")}get isBase64(){return!!this._def.checks.find(e=>e.kind==="base64")}get isBase64url(){return!!this._def.checks.find(e=>e.kind==="base64url")}get minLength(){let e=null;for(const t of this._def.checks)t.kind==="min"&&(e===null||t.value>e)&&(e=t.value);return e}get maxLength(){let e=null;for(const t of this._def.checks)t.kind==="max"&&(e===null||t.value<e)&&(e=t.value);return e}}io.create=n=>new io({checks:[],typeName:Qe.ZodString,coerce:n?.coerce??!1,...Je(n)});function k8(n,e){const t=(n.toString().split(".")[1]||"").length,r=(e.toString().split(".")[1]||"").length,s=t>r?t:r,o=Number.parseInt(n.toFixed(s).replace(".","")),l=Number.parseInt(e.toFixed(s).replace(".",""));return o%l/10**s}class qu extends ut{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(e){if(this._def.coerce&&(e.data=Number(e.data)),this._getType(e)!==Ie.number){const o=this._getOrReturnCtx(e);return we(o,{code:ue.invalid_type,expected:Ie.number,received:o.parsedType}),Ke}let r;const s=new _r;for(const o of this._def.checks)o.kind==="int"?ht.isInteger(e.data)||(r=this._getOrReturnCtx(e,r),we(r,{code:ue.invalid_type,expected:"integer",received:"float",message:o.message}),s.dirty()):o.kind==="min"?(o.inclusive?e.data<o.value:e.data<=o.value)&&(r=this._getOrReturnCtx(e,r),we(r,{code:ue.too_small,minimum:o.value,type:"number",inclusive:o.inclusive,exact:!1,message:o.message}),s.dirty()):o.kind==="max"?(o.inclusive?e.data>o.value:e.data>=o.value)&&(r=this._getOrReturnCtx(e,r),we(r,{code:ue.too_big,maximum:o.value,type:"number",inclusive:o.inclusive,exact:!1,message:o.message}),s.dirty()):o.kind==="multipleOf"?k8(e.data,o.value)!==0&&(r=this._getOrReturnCtx(e,r),we(r,{code:ue.not_multiple_of,multipleOf:o.value,message:o.message}),s.dirty()):o.kind==="finite"?Number.isFinite(e.data)||(r=this._getOrReturnCtx(e,r),we(r,{code:ue.not_finite,message:o.message}),s.dirty()):ht.assertNever(o);return{status:s.value,value:e.data}}gte(e,t){return this.setLimit("min",e,!0,Ae.toString(t))}gt(e,t){return this.setLimit("min",e,!1,Ae.toString(t))}lte(e,t){return this.setLimit("max",e,!0,Ae.toString(t))}lt(e,t){return this.setLimit("max",e,!1,Ae.toString(t))}setLimit(e,t,r,s){return new qu({...this._def,checks:[...this._def.checks,{kind:e,value:t,inclusive:r,message:Ae.toString(s)}]})}_addCheck(e){return new qu({...this._def,checks:[...this._def.checks,e]})}int(e){return this._addCheck({kind:"int",message:Ae.toString(e)})}positive(e){return this._addCheck({kind:"min",value:0,inclusive:!1,message:Ae.toString(e)})}negative(e){return this._addCheck({kind:"max",value:0,inclusive:!1,message:Ae.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:0,inclusive:!0,message:Ae.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:0,inclusive:!0,message:Ae.toString(e)})}multipleOf(e,t){return this._addCheck({kind:"multipleOf",value:e,message:Ae.toString(t)})}finite(e){return this._addCheck({kind:"finite",message:Ae.toString(e)})}safe(e){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:Ae.toString(e)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:Ae.toString(e)})}get minValue(){let e=null;for(const t of this._def.checks)t.kind==="min"&&(e===null||t.value>e)&&(e=t.value);return e}get maxValue(){let e=null;for(const t of this._def.checks)t.kind==="max"&&(e===null||t.value<e)&&(e=t.value);return e}get isInt(){return!!this._def.checks.find(e=>e.kind==="int"||e.kind==="multipleOf"&&ht.isInteger(e.value))}get isFinite(){let e=null,t=null;for(const r of this._def.checks){if(r.kind==="finite"||r.kind==="int"||r.kind==="multipleOf")return!0;r.kind==="min"?(t===null||r.value>t)&&(t=r.value):r.kind==="max"&&(e===null||r.value<e)&&(e=r.value)}return Number.isFinite(t)&&Number.isFinite(e)}}qu.create=n=>new qu({checks:[],typeName:Qe.ZodNumber,coerce:n?.coerce||!1,...Je(n)});class Gu extends ut{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(e){if(this._def.coerce)try{e.data=BigInt(e.data)}catch{return this._getInvalidInput(e)}if(this._getType(e)!==Ie.bigint)return this._getInvalidInput(e);let r;const s=new _r;for(const o of this._def.checks)o.kind==="min"?(o.inclusive?e.data<o.value:e.data<=o.value)&&(r=this._getOrReturnCtx(e,r),we(r,{code:ue.too_small,type:"bigint",minimum:o.value,inclusive:o.inclusive,message:o.message}),s.dirty()):o.kind==="max"?(o.inclusive?e.data>o.value:e.data>=o.value)&&(r=this._getOrReturnCtx(e,r),we(r,{code:ue.too_big,type:"bigint",maximum:o.value,inclusive:o.inclusive,message:o.message}),s.dirty()):o.kind==="multipleOf"?e.data%o.value!==BigInt(0)&&(r=this._getOrReturnCtx(e,r),we(r,{code:ue.not_multiple_of,multipleOf:o.value,message:o.message}),s.dirty()):ht.assertNever(o);return{status:s.value,value:e.data}}_getInvalidInput(e){const t=this._getOrReturnCtx(e);return we(t,{code:ue.invalid_type,expected:Ie.bigint,received:t.parsedType}),Ke}gte(e,t){return this.setLimit("min",e,!0,Ae.toString(t))}gt(e,t){return this.setLimit("min",e,!1,Ae.toString(t))}lte(e,t){return this.setLimit("max",e,!0,Ae.toString(t))}lt(e,t){return this.setLimit("max",e,!1,Ae.toString(t))}setLimit(e,t,r,s){return new Gu({...this._def,checks:[...this._def.checks,{kind:e,value:t,inclusive:r,message:Ae.toString(s)}]})}_addCheck(e){return new Gu({...this._def,checks:[...this._def.checks,e]})}positive(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:Ae.toString(e)})}negative(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:Ae.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:Ae.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:Ae.toString(e)})}multipleOf(e,t){return this._addCheck({kind:"multipleOf",value:e,message:Ae.toString(t)})}get minValue(){let e=null;for(const t of this._def.checks)t.kind==="min"&&(e===null||t.value>e)&&(e=t.value);return e}get maxValue(){let e=null;for(const t of this._def.checks)t.kind==="max"&&(e===null||t.value<e)&&(e=t.value);return e}}Gu.create=n=>new Gu({checks:[],typeName:Qe.ZodBigInt,coerce:n?.coerce??!1,...Je(n)});class wT extends ut{_parse(e){if(this._def.coerce&&(e.data=!!e.data),this._getType(e)!==Ie.boolean){const r=this._getOrReturnCtx(e);return we(r,{code:ue.invalid_type,expected:Ie.boolean,received:r.parsedType}),Ke}return Or(e.data)}}wT.create=n=>new wT({typeName:Qe.ZodBoolean,coerce:n?.coerce||!1,...Je(n)});class Zf extends ut{_parse(e){if(this._def.coerce&&(e.data=new Date(e.data)),this._getType(e)!==Ie.date){const o=this._getOrReturnCtx(e);return we(o,{code:ue.invalid_type,expected:Ie.date,received:o.parsedType}),Ke}if(Number.isNaN(e.data.getTime())){const o=this._getOrReturnCtx(e);return we(o,{code:ue.invalid_date}),Ke}const r=new _r;let s;for(const o of this._def.checks)o.kind==="min"?e.data.getTime()<o.value&&(s=this._getOrReturnCtx(e,s),we(s,{code:ue.too_small,message:o.message,inclusive:!0,exact:!1,minimum:o.value,type:"date"}),r.dirty()):o.kind==="max"?e.data.getTime()>o.value&&(s=this._getOrReturnCtx(e,s),we(s,{code:ue.too_big,message:o.message,inclusive:!0,exact:!1,maximum:o.value,type:"date"}),r.dirty()):ht.assertNever(o);return{status:r.value,value:new Date(e.data.getTime())}}_addCheck(e){return new Zf({...this._def,checks:[...this._def.checks,e]})}min(e,t){return this._addCheck({kind:"min",value:e.getTime(),message:Ae.toString(t)})}max(e,t){return this._addCheck({kind:"max",value:e.getTime(),message:Ae.toString(t)})}get minDate(){let e=null;for(const t of this._def.checks)t.kind==="min"&&(e===null||t.value>e)&&(e=t.value);return e!=null?new Date(e):null}get maxDate(){let e=null;for(const t of this._def.checks)t.kind==="max"&&(e===null||t.value<e)&&(e=t.value);return e!=null?new Date(e):null}}Zf.create=n=>new Zf({checks:[],coerce:n?.coerce||!1,typeName:Qe.ZodDate,...Je(n)});class xT extends ut{_parse(e){if(this._getType(e)!==Ie.symbol){const r=this._getOrReturnCtx(e);return we(r,{code:ue.invalid_type,expected:Ie.symbol,received:r.parsedType}),Ke}return Or(e.data)}}xT.create=n=>new xT({typeName:Qe.ZodSymbol,...Je(n)});class ET extends ut{_parse(e){if(this._getType(e)!==Ie.undefined){const r=this._getOrReturnCtx(e);return we(r,{code:ue.invalid_type,expected:Ie.undefined,received:r.parsedType}),Ke}return Or(e.data)}}ET.create=n=>new ET({typeName:Qe.ZodUndefined,...Je(n)});class bT extends ut{_parse(e){if(this._getType(e)!==Ie.null){const r=this._getOrReturnCtx(e);return we(r,{code:ue.invalid_type,expected:Ie.null,received:r.parsedType}),Ke}return Or(e.data)}}bT.create=n=>new bT({typeName:Qe.ZodNull,...Je(n)});class TT extends ut{constructor(){super(...arguments),this._any=!0}_parse(e){return Or(e.data)}}TT.create=n=>new TT({typeName:Qe.ZodAny,...Je(n)});class ST extends ut{constructor(){super(...arguments),this._unknown=!0}_parse(e){return Or(e.data)}}ST.create=n=>new ST({typeName:Qe.ZodUnknown,...Je(n)});class Co extends ut{_parse(e){const t=this._getOrReturnCtx(e);return we(t,{code:ue.invalid_type,expected:Ie.never,received:t.parsedType}),Ke}}Co.create=n=>new Co({typeName:Qe.ZodNever,...Je(n)});class CT extends ut{_parse(e){if(this._getType(e)!==Ie.undefined){const r=this._getOrReturnCtx(e);return we(r,{code:ue.invalid_type,expected:Ie.void,received:r.parsedType}),Ke}return Or(e.data)}}CT.create=n=>new CT({typeName:Qe.ZodVoid,...Je(n)});class Vs extends ut{_parse(e){const{ctx:t,status:r}=this._processInputParams(e),s=this._def;if(t.parsedType!==Ie.array)return we(t,{code:ue.invalid_type,expected:Ie.array,received:t.parsedType}),Ke;if(s.exactLength!==null){const l=t.data.length>s.exactLength.value,u=t.data.length<s.exactLength.value;(l||u)&&(we(t,{code:l?ue.too_big:ue.too_small,minimum:u?s.exactLength.value:void 0,maximum:l?s.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:s.exactLength.message}),r.dirty())}if(s.minLength!==null&&t.data.length<s.minLength.value&&(we(t,{code:ue.too_small,minimum:s.minLength.value,type:"array",inclusive:!0,exact:!1,message:s.minLength.message}),r.dirty()),s.maxLength!==null&&t.data.length>s.maxLength.value&&(we(t,{code:ue.too_big,maximum:s.maxLength.value,type:"array",inclusive:!0,exact:!1,message:s.maxLength.message}),r.dirty()),t.common.async)return Promise.all([...t.data].map((l,u)=>s.type._parseAsync(new So(t,l,t.path,u)))).then(l=>_r.mergeArray(r,l));const o=[...t.data].map((l,u)=>s.type._parseSync(new So(t,l,t.path,u)));return _r.mergeArray(r,o)}get element(){return this._def.type}min(e,t){return new Vs({...this._def,minLength:{value:e,message:Ae.toString(t)}})}max(e,t){return new Vs({...this._def,maxLength:{value:e,message:Ae.toString(t)}})}length(e,t){return new Vs({...this._def,exactLength:{value:e,message:Ae.toString(t)}})}nonempty(e){return this.min(1,e)}}Vs.create=(n,e)=>new Vs({type:n,minLength:null,maxLength:null,exactLength:null,typeName:Qe.ZodArray,...Je(e)});function Il(n){if(n instanceof Gt){const e={};for(const t in n.shape){const r=n.shape[t];e[t]=po.create(Il(r))}return new Gt({...n._def,shape:()=>e})}else return n instanceof Vs?new Vs({...n._def,type:Il(n.element)}):n instanceof po?po.create(Il(n.unwrap())):n instanceof Yl?Yl.create(Il(n.unwrap())):n instanceof Ra?Ra.create(n.items.map(e=>Il(e))):n}class Gt extends ut{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;const e=this._def.shape(),t=ht.objectKeys(e);return this._cached={shape:e,keys:t},this._cached}_parse(e){if(this._getType(e)!==Ie.object){const m=this._getOrReturnCtx(e);return we(m,{code:ue.invalid_type,expected:Ie.object,received:m.parsedType}),Ke}const{status:r,ctx:s}=this._processInputParams(e),{shape:o,keys:l}=this._getCached(),u=[];if(!(this._def.catchall instanceof Co&&this._def.unknownKeys==="strip"))for(const m in s.data)l.includes(m)||u.push(m);const f=[];for(const m of l){const g=o[m],v=s.data[m];f.push({key:{status:"valid",value:m},value:g._parse(new So(s,v,s.path,m)),alwaysSet:m in s.data})}if(this._def.catchall instanceof Co){const m=this._def.unknownKeys;if(m==="passthrough")for(const g of u)f.push({key:{status:"valid",value:g},value:{status:"valid",value:s.data[g]}});else if(m==="strict")u.length>0&&(we(s,{code:ue.unrecognized_keys,keys:u}),r.dirty());else if(m!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const m=this._def.catchall;for(const g of u){const v=s.data[g];f.push({key:{status:"valid",value:g},value:m._parse(new So(s,v,s.path,g)),alwaysSet:g in s.data})}}return s.common.async?Promise.resolve().then(async()=>{const m=[];for(const g of f){const v=await g.key,E=await g.value;m.push({key:v,value:E,alwaysSet:g.alwaysSet})}return m}).then(m=>_r.mergeObjectSync(r,m)):_r.mergeObjectSync(r,f)}get shape(){return this._def.shape()}strict(e){return Ae.errToObj,new Gt({...this._def,unknownKeys:"strict",...e!==void 0?{errorMap:(t,r)=>{const s=this._def.errorMap?.(t,r).message??r.defaultError;return t.code==="unrecognized_keys"?{message:Ae.errToObj(e).message??s}:{message:s}}}:{}})}strip(){return new Gt({...this._def,unknownKeys:"strip"})}passthrough(){return new Gt({...this._def,unknownKeys:"passthrough"})}extend(e){return new Gt({...this._def,shape:()=>({...this._def.shape(),...e})})}merge(e){return new Gt({unknownKeys:e._def.unknownKeys,catchall:e._def.catchall,shape:()=>({...this._def.shape(),...e._def.shape()}),typeName:Qe.ZodObject})}setKey(e,t){return this.augment({[e]:t})}catchall(e){return new Gt({...this._def,catchall:e})}pick(e){const t={};for(const r of ht.objectKeys(e))e[r]&&this.shape[r]&&(t[r]=this.shape[r]);return new Gt({...this._def,shape:()=>t})}omit(e){const t={};for(const r of ht.objectKeys(this.shape))e[r]||(t[r]=this.shape[r]);return new Gt({...this._def,shape:()=>t})}deepPartial(){return Il(this)}partial(e){const t={};for(const r of ht.objectKeys(this.shape)){const s=this.shape[r];e&&!e[r]?t[r]=s:t[r]=s.optional()}return new Gt({...this._def,shape:()=>t})}required(e){const t={};for(const r of ht.objectKeys(this.shape))if(e&&!e[r])t[r]=this.shape[r];else{let o=this.shape[r];for(;o instanceof po;)o=o._def.innerType;t[r]=o}return new Gt({...this._def,shape:()=>t})}keyof(){return CA(ht.objectKeys(this.shape))}}Gt.create=(n,e)=>new Gt({shape:()=>n,unknownKeys:"strip",catchall:Co.create(),typeName:Qe.ZodObject,...Je(e)});Gt.strictCreate=(n,e)=>new Gt({shape:()=>n,unknownKeys:"strict",catchall:Co.create(),typeName:Qe.ZodObject,...Je(e)});Gt.lazycreate=(n,e)=>new Gt({shape:n,unknownKeys:"strip",catchall:Co.create(),typeName:Qe.ZodObject,...Je(e)});class ep extends ut{_parse(e){const{ctx:t}=this._processInputParams(e),r=this._def.options;function s(o){for(const u of o)if(u.result.status==="valid")return u.result;for(const u of o)if(u.result.status==="dirty")return t.common.issues.push(...u.ctx.common.issues),u.result;const l=o.map(u=>new bi(u.ctx.common.issues));return we(t,{code:ue.invalid_union,unionErrors:l}),Ke}if(t.common.async)return Promise.all(r.map(async o=>{const l={...t,common:{...t.common,issues:[]},parent:null};return{result:await o._parseAsync({data:t.data,path:t.path,parent:l}),ctx:l}})).then(s);{let o;const l=[];for(const f of r){const m={...t,common:{...t.common,issues:[]},parent:null},g=f._parseSync({data:t.data,path:t.path,parent:m});if(g.status==="valid")return g;g.status==="dirty"&&!o&&(o={result:g,ctx:m}),m.common.issues.length&&l.push(m.common.issues)}if(o)return t.common.issues.push(...o.ctx.common.issues),o.result;const u=l.map(f=>new bi(f));return we(t,{code:ue.invalid_union,unionErrors:u}),Ke}}get options(){return this._def.options}}ep.create=(n,e)=>new ep({options:n,typeName:Qe.ZodUnion,...Je(e)});function lv(n,e){const t=Ji(n),r=Ji(e);if(n===e)return{valid:!0,data:n};if(t===Ie.object&&r===Ie.object){const s=ht.objectKeys(e),o=ht.objectKeys(n).filter(u=>s.indexOf(u)!==-1),l={...n,...e};for(const u of o){const f=lv(n[u],e[u]);if(!f.valid)return{valid:!1};l[u]=f.data}return{valid:!0,data:l}}else if(t===Ie.array&&r===Ie.array){if(n.length!==e.length)return{valid:!1};const s=[];for(let o=0;o<n.length;o++){const l=n[o],u=e[o],f=lv(l,u);if(!f.valid)return{valid:!1};s.push(f.data)}return{valid:!0,data:s}}else return t===Ie.date&&r===Ie.date&&+n==+e?{valid:!0,data:n}:{valid:!1}}class tp extends ut{_parse(e){const{status:t,ctx:r}=this._processInputParams(e),s=(o,l)=>{if(yT(o)||yT(l))return Ke;const u=lv(o.value,l.value);return u.valid?((vT(o)||vT(l))&&t.dirty(),{status:t.value,value:u.data}):(we(r,{code:ue.invalid_intersection_types}),Ke)};return r.common.async?Promise.all([this._def.left._parseAsync({data:r.data,path:r.path,parent:r}),this._def.right._parseAsync({data:r.data,path:r.path,parent:r})]).then(([o,l])=>s(o,l)):s(this._def.left._parseSync({data:r.data,path:r.path,parent:r}),this._def.right._parseSync({data:r.data,path:r.path,parent:r}))}}tp.create=(n,e,t)=>new tp({left:n,right:e,typeName:Qe.ZodIntersection,...Je(t)});class Ra extends ut{_parse(e){const{status:t,ctx:r}=this._processInputParams(e);if(r.parsedType!==Ie.array)return we(r,{code:ue.invalid_type,expected:Ie.array,received:r.parsedType}),Ke;if(r.data.length<this._def.items.length)return we(r,{code:ue.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),Ke;!this._def.rest&&r.data.length>this._def.items.length&&(we(r,{code:ue.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),t.dirty());const o=[...r.data].map((l,u)=>{const f=this._def.items[u]||this._def.rest;return f?f._parse(new So(r,l,r.path,u)):null}).filter(l=>!!l);return r.common.async?Promise.all(o).then(l=>_r.mergeArray(t,l)):_r.mergeArray(t,o)}get items(){return this._def.items}rest(e){return new Ra({...this._def,rest:e})}}Ra.create=(n,e)=>{if(!Array.isArray(n))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new Ra({items:n,typeName:Qe.ZodTuple,rest:null,...Je(e)})};class IT extends ut{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:t,ctx:r}=this._processInputParams(e);if(r.parsedType!==Ie.map)return we(r,{code:ue.invalid_type,expected:Ie.map,received:r.parsedType}),Ke;const s=this._def.keyType,o=this._def.valueType,l=[...r.data.entries()].map(([u,f],m)=>({key:s._parse(new So(r,u,r.path,[m,"key"])),value:o._parse(new So(r,f,r.path,[m,"value"]))}));if(r.common.async){const u=new Map;return Promise.resolve().then(async()=>{for(const f of l){const m=await f.key,g=await f.value;if(m.status==="aborted"||g.status==="aborted")return Ke;(m.status==="dirty"||g.status==="dirty")&&t.dirty(),u.set(m.value,g.value)}return{status:t.value,value:u}})}else{const u=new Map;for(const f of l){const m=f.key,g=f.value;if(m.status==="aborted"||g.status==="aborted")return Ke;(m.status==="dirty"||g.status==="dirty")&&t.dirty(),u.set(m.value,g.value)}return{status:t.value,value:u}}}}IT.create=(n,e,t)=>new IT({valueType:e,keyType:n,typeName:Qe.ZodMap,...Je(t)});class Ku extends ut{_parse(e){const{status:t,ctx:r}=this._processInputParams(e);if(r.parsedType!==Ie.set)return we(r,{code:ue.invalid_type,expected:Ie.set,received:r.parsedType}),Ke;const s=this._def;s.minSize!==null&&r.data.size<s.minSize.value&&(we(r,{code:ue.too_small,minimum:s.minSize.value,type:"set",inclusive:!0,exact:!1,message:s.minSize.message}),t.dirty()),s.maxSize!==null&&r.data.size>s.maxSize.value&&(we(r,{code:ue.too_big,maximum:s.maxSize.value,type:"set",inclusive:!0,exact:!1,message:s.maxSize.message}),t.dirty());const o=this._def.valueType;function l(f){const m=new Set;for(const g of f){if(g.status==="aborted")return Ke;g.status==="dirty"&&t.dirty(),m.add(g.value)}return{status:t.value,value:m}}const u=[...r.data.values()].map((f,m)=>o._parse(new So(r,f,r.path,m)));return r.common.async?Promise.all(u).then(f=>l(f)):l(u)}min(e,t){return new Ku({...this._def,minSize:{value:e,message:Ae.toString(t)}})}max(e,t){return new Ku({...this._def,maxSize:{value:e,message:Ae.toString(t)}})}size(e,t){return this.min(e,t).max(e,t)}nonempty(e){return this.min(1,e)}}Ku.create=(n,e)=>new Ku({valueType:n,minSize:null,maxSize:null,typeName:Qe.ZodSet,...Je(e)});class RT extends ut{get schema(){return this._def.getter()}_parse(e){const{ctx:t}=this._processInputParams(e);return this._def.getter()._parse({data:t.data,path:t.path,parent:t})}}RT.create=(n,e)=>new RT({getter:n,typeName:Qe.ZodLazy,...Je(e)});class NT extends ut{_parse(e){if(e.data!==this._def.value){const t=this._getOrReturnCtx(e);return we(t,{received:t.data,code:ue.invalid_literal,expected:this._def.value}),Ke}return{status:"valid",value:e.data}}get value(){return this._def.value}}NT.create=(n,e)=>new NT({value:n,typeName:Qe.ZodLiteral,...Je(e)});function CA(n,e){return new Kl({values:n,typeName:Qe.ZodEnum,...Je(e)})}class Kl extends ut{_parse(e){if(typeof e.data!="string"){const t=this._getOrReturnCtx(e),r=this._def.values;return we(t,{expected:ht.joinValues(r),received:t.parsedType,code:ue.invalid_type}),Ke}if(this._cache||(this._cache=new Set(this._def.values)),!this._cache.has(e.data)){const t=this._getOrReturnCtx(e),r=this._def.values;return we(t,{received:t.data,code:ue.invalid_enum_value,options:r}),Ke}return Or(e.data)}get options(){return this._def.values}get enum(){const e={};for(const t of this._def.values)e[t]=t;return e}get Values(){const e={};for(const t of this._def.values)e[t]=t;return e}get Enum(){const e={};for(const t of this._def.values)e[t]=t;return e}extract(e,t=this._def){return Kl.create(e,{...this._def,...t})}exclude(e,t=this._def){return Kl.create(this.options.filter(r=>!e.includes(r)),{...this._def,...t})}}Kl.create=CA;class AT extends ut{_parse(e){const t=ht.getValidEnumValues(this._def.values),r=this._getOrReturnCtx(e);if(r.parsedType!==Ie.string&&r.parsedType!==Ie.number){const s=ht.objectValues(t);return we(r,{expected:ht.joinValues(s),received:r.parsedType,code:ue.invalid_type}),Ke}if(this._cache||(this._cache=new Set(ht.getValidEnumValues(this._def.values))),!this._cache.has(e.data)){const s=ht.objectValues(t);return we(r,{received:r.data,code:ue.invalid_enum_value,options:s}),Ke}return Or(e.data)}get enum(){return this._def.values}}AT.create=(n,e)=>new AT({values:n,typeName:Qe.ZodNativeEnum,...Je(e)});class np extends ut{unwrap(){return this._def.type}_parse(e){const{ctx:t}=this._processInputParams(e);if(t.parsedType!==Ie.promise&&t.common.async===!1)return we(t,{code:ue.invalid_type,expected:Ie.promise,received:t.parsedType}),Ke;const r=t.parsedType===Ie.promise?t.data:Promise.resolve(t.data);return Or(r.then(s=>this._def.type.parseAsync(s,{path:t.path,errorMap:t.common.contextualErrorMap})))}}np.create=(n,e)=>new np({type:n,typeName:Qe.ZodPromise,...Je(e)});class Ql extends ut{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===Qe.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(e){const{status:t,ctx:r}=this._processInputParams(e),s=this._def.effect||null,o={addIssue:l=>{we(r,l),l.fatal?t.abort():t.dirty()},get path(){return r.path}};if(o.addIssue=o.addIssue.bind(o),s.type==="preprocess"){const l=s.transform(r.data,o);if(r.common.async)return Promise.resolve(l).then(async u=>{if(t.value==="aborted")return Ke;const f=await this._def.schema._parseAsync({data:u,path:r.path,parent:r});return f.status==="aborted"?Ke:f.status==="dirty"||t.value==="dirty"?hu(f.value):f});{if(t.value==="aborted")return Ke;const u=this._def.schema._parseSync({data:l,path:r.path,parent:r});return u.status==="aborted"?Ke:u.status==="dirty"||t.value==="dirty"?hu(u.value):u}}if(s.type==="refinement"){const l=u=>{const f=s.refinement(u,o);if(r.common.async)return Promise.resolve(f);if(f instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return u};if(r.common.async===!1){const u=this._def.schema._parseSync({data:r.data,path:r.path,parent:r});return u.status==="aborted"?Ke:(u.status==="dirty"&&t.dirty(),l(u.value),{status:t.value,value:u.value})}else return this._def.schema._parseAsync({data:r.data,path:r.path,parent:r}).then(u=>u.status==="aborted"?Ke:(u.status==="dirty"&&t.dirty(),l(u.value).then(()=>({status:t.value,value:u.value}))))}if(s.type==="transform")if(r.common.async===!1){const l=this._def.schema._parseSync({data:r.data,path:r.path,parent:r});if(!Gl(l))return Ke;const u=s.transform(l.value,o);if(u instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:t.value,value:u}}else return this._def.schema._parseAsync({data:r.data,path:r.path,parent:r}).then(l=>Gl(l)?Promise.resolve(s.transform(l.value,o)).then(u=>({status:t.value,value:u})):Ke);ht.assertNever(s)}}Ql.create=(n,e,t)=>new Ql({schema:n,typeName:Qe.ZodEffects,effect:e,...Je(t)});Ql.createWithPreprocess=(n,e,t)=>new Ql({schema:e,effect:{type:"preprocess",transform:n},typeName:Qe.ZodEffects,...Je(t)});class po extends ut{_parse(e){return this._getType(e)===Ie.undefined?Or(void 0):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}po.create=(n,e)=>new po({innerType:n,typeName:Qe.ZodOptional,...Je(e)});class Yl extends ut{_parse(e){return this._getType(e)===Ie.null?Or(null):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}Yl.create=(n,e)=>new Yl({innerType:n,typeName:Qe.ZodNullable,...Je(e)});class cv extends ut{_parse(e){const{ctx:t}=this._processInputParams(e);let r=t.data;return t.parsedType===Ie.undefined&&(r=this._def.defaultValue()),this._def.innerType._parse({data:r,path:t.path,parent:t})}removeDefault(){return this._def.innerType}}cv.create=(n,e)=>new cv({innerType:n,typeName:Qe.ZodDefault,defaultValue:typeof e.default=="function"?e.default:()=>e.default,...Je(e)});class uv extends ut{_parse(e){const{ctx:t}=this._processInputParams(e),r={...t,common:{...t.common,issues:[]}},s=this._def.innerType._parse({data:r.data,path:r.path,parent:{...r}});return Jf(s)?s.then(o=>({status:"valid",value:o.status==="valid"?o.value:this._def.catchValue({get error(){return new bi(r.common.issues)},input:r.data})})):{status:"valid",value:s.status==="valid"?s.value:this._def.catchValue({get error(){return new bi(r.common.issues)},input:r.data})}}removeCatch(){return this._def.innerType}}uv.create=(n,e)=>new uv({innerType:n,typeName:Qe.ZodCatch,catchValue:typeof e.catch=="function"?e.catch:()=>e.catch,...Je(e)});class kT extends ut{_parse(e){if(this._getType(e)!==Ie.nan){const r=this._getOrReturnCtx(e);return we(r,{code:ue.invalid_type,expected:Ie.nan,received:r.parsedType}),Ke}return{status:"valid",value:e.data}}}kT.create=n=>new kT({typeName:Qe.ZodNaN,...Je(n)});class P8 extends ut{_parse(e){const{ctx:t}=this._processInputParams(e),r=t.data;return this._def.type._parse({data:r,path:t.path,parent:t})}unwrap(){return this._def.type}}class cw extends ut{_parse(e){const{status:t,ctx:r}=this._processInputParams(e);if(r.common.async)return(async()=>{const o=await this._def.in._parseAsync({data:r.data,path:r.path,parent:r});return o.status==="aborted"?Ke:o.status==="dirty"?(t.dirty(),hu(o.value)):this._def.out._parseAsync({data:o.value,path:r.path,parent:r})})();{const s=this._def.in._parseSync({data:r.data,path:r.path,parent:r});return s.status==="aborted"?Ke:s.status==="dirty"?(t.dirty(),{status:"dirty",value:s.value}):this._def.out._parseSync({data:s.value,path:r.path,parent:r})}}static create(e,t){return new cw({in:e,out:t,typeName:Qe.ZodPipeline})}}class dv extends ut{_parse(e){const t=this._def.innerType._parse(e),r=s=>(Gl(s)&&(s.value=Object.freeze(s.value)),s);return Jf(t)?t.then(s=>r(s)):r(t)}unwrap(){return this._def.innerType}}dv.create=(n,e)=>new dv({innerType:n,typeName:Qe.ZodReadonly,...Je(e)});var Qe;(function(n){n.ZodString="ZodString",n.ZodNumber="ZodNumber",n.ZodNaN="ZodNaN",n.ZodBigInt="ZodBigInt",n.ZodBoolean="ZodBoolean",n.ZodDate="ZodDate",n.ZodSymbol="ZodSymbol",n.ZodUndefined="ZodUndefined",n.ZodNull="ZodNull",n.ZodAny="ZodAny",n.ZodUnknown="ZodUnknown",n.ZodNever="ZodNever",n.ZodVoid="ZodVoid",n.ZodArray="ZodArray",n.ZodObject="ZodObject",n.ZodUnion="ZodUnion",n.ZodDiscriminatedUnion="ZodDiscriminatedUnion",n.ZodIntersection="ZodIntersection",n.ZodTuple="ZodTuple",n.ZodRecord="ZodRecord",n.ZodMap="ZodMap",n.ZodSet="ZodSet",n.ZodFunction="ZodFunction",n.ZodLazy="ZodLazy",n.ZodLiteral="ZodLiteral",n.ZodEnum="ZodEnum",n.ZodEffects="ZodEffects",n.ZodNativeEnum="ZodNativeEnum",n.ZodOptional="ZodOptional",n.ZodNullable="ZodNullable",n.ZodDefault="ZodDefault",n.ZodCatch="ZodCatch",n.ZodPromise="ZodPromise",n.ZodBranded="ZodBranded",n.ZodPipeline="ZodPipeline",n.ZodReadonly="ZodReadonly"})(Qe||(Qe={}));const sy=io.create;Co.create;Vs.create;const j8=Gt.create;ep.create;tp.create;Ra.create;Kl.create;np.create;po.create;Yl.create;const D8=j8({name:sy().trim().min(1,"Name is required").max(100,"Name must be less than 100 characters"),email:sy().trim().email("Invalid email address").max(255,"Email must be less than 255 characters"),password:sy().min(8,"Password must be at least 8 characters").max(128,"Password must be less than 128 characters")}),O8=()=>{const n=Ti(),[e,t]=w.useState(""),[r,s]=w.useState(""),[o,l]=w.useState(""),[u,f]=w.useState(!1),[m,g]=w.useState(!1);w.useEffect(()=>{const E=_p(kt,b=>{b&&n("/")});return()=>E()},[n]);const v=async E=>{E.preventDefault(),g(!0);const b=D8.safeParse({name:e,email:r,password:o});if(!b.success){Pe.error(b.error.errors[0].message),g(!1);return}try{const T=(await cC(kt,b.data.email,b.data.password)).user;await Wf(un(wt,"profiles",T.uid),{full_name:b.data.name,email:b.data.email,user_id:T.uid,created_at:Yn(),updated_at:Yn()}),Pe.success("Account created successfully!"),n("/")}catch(I){console.error("Signup error:",I),I.code==="auth/email-already-in-use"?Pe.error("This email is already registered. Please sign in instead."):Pe.error(I.message||"Failed to create account.")}finally{g(!1)}};return d.jsxs("div",{className:"min-h-screen bg-background",children:[d.jsx(Ei,{}),d.jsx("main",{className:"pt-24 pb-16 flex items-center justify-center min-h-screen",children:d.jsx("div",{className:"w-full max-w-md px-4",children:d.jsxs("div",{className:"bg-card border border-border rounded-2xl p-8 card-glow",children:[d.jsxs("div",{className:"text-center mb-8",children:[d.jsx("div",{className:"inline-flex items-center justify-center p-3 rounded-xl bg-primary/10 mb-4",children:d.jsx(Pr,{className:"h-8 w-8 text-primary"})}),d.jsx("h1",{className:"text-2xl font-bold mb-2",children:"Create Account"}),d.jsx("p",{className:"text-muted-foreground",children:"Join MechRadii and get roadside help fast"})]}),d.jsxs("form",{onSubmit:v,className:"space-y-4",children:[d.jsxs("div",{className:"space-y-2",children:[d.jsx(ln,{htmlFor:"name",children:"Full Name"}),d.jsxs("div",{className:"relative",children:[d.jsx(jr,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-5 w-5 text-muted-foreground"}),d.jsx(Pn,{id:"name",type:"text",placeholder:"John Doe",value:e,onChange:E=>t(E.target.value),className:"pl-10 h-12 bg-secondary border-border",required:!0})]})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx(ln,{htmlFor:"email",children:"Email"}),d.jsxs("div",{className:"relative",children:[d.jsx(Ju,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-5 w-5 text-muted-foreground"}),d.jsx(Pn,{id:"email",type:"email",placeholder:"you@example.com",value:r,onChange:E=>s(E.target.value),className:"pl-10 h-12 bg-secondary border-border",required:!0})]})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx(ln,{htmlFor:"password",children:"Password"}),d.jsxs("div",{className:"relative",children:[d.jsx(Ev,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-5 w-5 text-muted-foreground"}),d.jsx(Pn,{id:"password",type:u?"text":"password",placeholder:"",value:o,onChange:E=>l(E.target.value),className:"pl-10 pr-10 h-12 bg-secondary border-border",required:!0,minLength:8}),d.jsx("button",{type:"button",onClick:()=>f(!u),className:"absolute right-3 top-1/2 -translate-y-1/2 text-muted-foreground hover:text-foreground",children:u?d.jsx(wv,{className:"h-5 w-5"}):d.jsx(xv,{className:"h-5 w-5"})})]}),d.jsx("p",{className:"text-xs text-muted-foreground",children:"Must be at least 8 characters"})]}),d.jsx($e,{type:"submit",className:"w-full h-12",disabled:m,children:m?"Creating account...":"Create Account"})]}),d.jsxs("div",{className:"mt-6 text-center text-sm text-muted-foreground",children:["Already have an account?"," ",d.jsx(yt,{to:"/login",className:"text-primary hover:underline font-medium",children:"Sign in"})]}),d.jsx("div",{className:"mt-4 text-center",children:d.jsx(yt,{to:"/register-mechanic",className:"text-sm text-primary hover:underline",children:"Want to join as a mechanic instead?"})})]})})})]})};var Jp="Checkbox",[M8]=es(Jp),[L8,uw]=M8(Jp);function V8(n){const{__scopeCheckbox:e,checked:t,children:r,defaultChecked:s,disabled:o,form:l,name:u,onCheckedChange:f,required:m,value:g="on",internal_do_not_use_render:v}=n,[E,b]=fa({prop:t,defaultProp:s??!1,onChange:f,caller:Jp}),[I,T]=w.useState(null),[C,M]=w.useState(null),D=w.useRef(!1),V=I?!!l||!!I.closest("form"):!0,B={checked:E,disabled:o,setChecked:b,control:I,setControl:T,name:u,form:l,value:g,hasConsumerStoppedPropagationRef:D,required:m,defaultChecked:mo(s)?!1:s,isFormControl:V,bubbleInput:C,setBubbleInput:M};return d.jsx(L8,{scope:e,...B,children:F8(v)?v(B):r})}var IA="CheckboxTrigger",RA=w.forwardRef(({__scopeCheckbox:n,onKeyDown:e,onClick:t,...r},s)=>{const{control:o,value:l,disabled:u,checked:f,required:m,setControl:g,setChecked:v,hasConsumerStoppedPropagationRef:E,isFormControl:b,bubbleInput:I}=uw(IA,n),T=ct(s,g),C=w.useRef(f);return w.useEffect(()=>{const M=o?.form;if(M){const D=()=>v(C.current);return M.addEventListener("reset",D),()=>M.removeEventListener("reset",D)}},[o,v]),d.jsx(Be.button,{type:"button",role:"checkbox","aria-checked":mo(f)?"mixed":f,"aria-required":m,"data-state":jA(f),"data-disabled":u?"":void 0,disabled:u,value:l,...r,ref:T,onKeyDown:ve(e,M=>{M.key==="Enter"&&M.preventDefault()}),onClick:ve(t,M=>{v(D=>mo(D)?!0:!D),I&&b&&(E.current=M.isPropagationStopped(),E.current||M.stopPropagation())})})});RA.displayName=IA;var dw=w.forwardRef((n,e)=>{const{__scopeCheckbox:t,name:r,checked:s,defaultChecked:o,required:l,disabled:u,value:f,onCheckedChange:m,form:g,...v}=n;return d.jsx(V8,{__scopeCheckbox:t,checked:s,defaultChecked:o,disabled:u,required:l,onCheckedChange:m,name:r,form:g,value:f,internal_do_not_use_render:({isFormControl:E})=>d.jsxs(d.Fragment,{children:[d.jsx(RA,{...v,ref:e,__scopeCheckbox:t}),E&&d.jsx(PA,{__scopeCheckbox:t})]})})});dw.displayName=Jp;var NA="CheckboxIndicator",AA=w.forwardRef((n,e)=>{const{__scopeCheckbox:t,forceMount:r,...s}=n,o=uw(NA,t);return d.jsx(ts,{present:r||mo(o.checked)||o.checked===!0,children:d.jsx(Be.span,{"data-state":jA(o.checked),"data-disabled":o.disabled?"":void 0,...s,ref:e,style:{pointerEvents:"none",...n.style}})})});AA.displayName=NA;var kA="CheckboxBubbleInput",PA=w.forwardRef(({__scopeCheckbox:n,...e},t)=>{const{control:r,hasConsumerStoppedPropagationRef:s,checked:o,defaultChecked:l,required:u,disabled:f,name:m,value:g,form:v,bubbleInput:E,setBubbleInput:b}=uw(kA,n),I=ct(t,b),T=LN(o),C=V1(r);w.useEffect(()=>{const D=E;if(!D)return;const V=window.HTMLInputElement.prototype,H=Object.getOwnPropertyDescriptor(V,"checked").set,Q=!s.current;if(T!==o&&H){const k=new Event("click",{bubbles:Q});D.indeterminate=mo(o),H.call(D,mo(o)?!1:o),D.dispatchEvent(k)}},[E,T,o,s]);const M=w.useRef(mo(o)?!1:o);return d.jsx(Be.input,{type:"checkbox","aria-hidden":!0,defaultChecked:l??M.current,required:u,disabled:f,name:m,value:g,form:v,...e,tabIndex:-1,ref:I,style:{...e.style,...C,position:"absolute",pointerEvents:"none",opacity:0,margin:0,transform:"translateX(-100%)"}})});PA.displayName=kA;function F8(n){return typeof n=="function"}function mo(n){return n==="indeterminate"}function jA(n){return mo(n)?"indeterminate":n?"checked":"unchecked"}const DA=w.forwardRef(({className:n,...e},t)=>d.jsx(dw,{ref:t,className:He("peer h-4 w-4 shrink-0 rounded-sm border border-primary ring-offset-background data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",n),...e,children:d.jsx(AA,{className:He("flex items-center justify-center text-current"),children:d.jsx(_v,{className:"h-4 w-4"})})}));DA.displayName=dw.displayName;const U8=[{name:"Ghana",dial_code:"+233",code:"GH"}],$8="dw93ktlhv",B8="mechradii_unsigned",z8=["Engine Repair","Transmission","Brake Service","Tire Change","Battery Service","Auto Electric","Oil Change","Diagnostics","Roadside Assistance","Towing"],W8=({mechanicId:n})=>{const[e,t]=w.useState([]),[r,s]=w.useState(!0),[o,l]=w.useState(null),[u,f]=w.useState(""),[m,g]=w.useState(null);w.useEffect(()=>{if(!n)return;console.log("Fetching requests (no sort) for:",n);const I=Fp(As(wt,"bookings"),F_("mechanic_id","==",n)),T=z_(I,C=>{const M=C.docs.map(D=>({id:D.id,...D.data()}));M.sort((D,V)=>{const B=D.created_at?.seconds||0;return(V.created_at?.seconds||0)-B}),t(M),s(!1)},C=>{console.error("Error fetching requests:",C),s(!1)});return()=>T()},[n]);const v=async(I,T)=>{g(I);try{await ua(un(wt,"bookings",I),{status:T}),T==="accepted"?(await ua(un(wt,"mechanics",n),{availability_status:"busy"}),Pe.success("Job Accepted! You are now marked as Busy.")):T==="rejected"?Pe.success("Job Rejected."):T==="completed"&&(await ua(un(wt,"mechanics",n),{availability_status:"available"}),Pe.success("Job Completed! You are now Available."))}catch(C){console.error("Error updating status:",C),Pe.error("Failed to update status")}finally{g(null)}},E=async I=>{if(u.trim()){g(I);try{const C=e.find(D=>D.id===I)?.mechanic_reply||"",M=C?`${C}

[${new Date().toLocaleTimeString()}] ${u}`:u;await ua(un(wt,"bookings",I),{mechanic_reply:M,mechanic_reply_at:Yn()}),Pe.success("Reply sent!"),l(null),f("")}catch(T){console.error("Error sending reply:",T),Pe.error("Failed to send reply")}finally{g(null)}}},b=e.filter(I=>I.status!=="rejected"&&I.status!=="completed");return r?d.jsx("div",{className:"text-sm text-neutral-500",children:"Loading messages..."}):b.length===0?d.jsxs("div",{className:"text-center py-8 bg-neutral-50 rounded-xl border border-dashed border-neutral-200",children:[d.jsx("p",{className:"text-neutral-500",children:"No active requests."}),d.jsx("p",{className:"text-xs text-neutral-400 mt-1",children:"Completed and rejected jobs are hidden."})]}):d.jsx("div",{className:"space-y-4",children:b.map(I=>d.jsx("div",{className:"p-4 rounded-xl bg-card border border-border shadow-sm hover:border-primary/20 transition-all",children:d.jsxs("div",{className:"flex items-start gap-4",children:[d.jsx("div",{className:`p-2 rounded-lg shadow-sm ${I.status==="pending"?"bg-yellow-100 text-yellow-700":I.status==="accepted"?"bg-green-100 text-green-700":I.status==="rejected"?"bg-red-100 text-red-700":"bg-neutral-100 text-neutral-700"}`,children:I.action_type==="Call Now"?d.jsx(cp,{size:20}):I.action_type==="Send Message"?d.jsx(Ju,{size:20}):d.jsx(pf,{size:20})}),d.jsxs("div",{className:"flex-grow space-y-2",children:[d.jsxs("div",{className:"flex justify-between items-start",children:[d.jsxs("div",{children:[d.jsx("h4",{className:"font-medium",children:I.action_type||"Service Request"}),d.jsxs("p",{className:"text-sm text-muted-foreground",children:["From: ",I.user_email||"Unknown User"]})]}),d.jsxs("div",{className:"flex flex-col items-end gap-1",children:[d.jsx("span",{className:"text-xs text-muted-foreground whitespace-nowrap",children:I.created_at?.seconds?bA(new Date(I.created_at.seconds*1e3),{addSuffix:!0}):"Just now"}),d.jsx("span",{className:`text-xs px-2 py-0.5 rounded-full capitalize font-medium ${I.status==="pending"?"bg-yellow-100 text-yellow-700":I.status==="accepted"?"bg-green-100 text-green-700":I.status==="rejected"?"bg-red-100 text-red-700":"bg-neutral-100 text-neutral-600"}`,children:I.status})]})]}),I.message&&d.jsxs("div",{className:"text-sm text-neutral-700 bg-secondary/30 p-3 rounded-lg border border-border/50",children:[d.jsx("span",{className:"font-medium text-xs text-muted-foreground block mb-1",children:"Message:"}),'"',I.message,'"']}),I.mechanic_reply&&d.jsxs("div",{className:"text-sm text-primary/80 bg-primary/5 p-3 rounded-lg border border-primary/10 ml-4 whitespace-pre-wrap",children:[d.jsx("span",{className:"font-medium text-xs text-primary/60 block mb-1",children:"Your Reply:"}),I.mechanic_reply]}),d.jsxs("div",{className:"pt-2 flex flex-wrap gap-2",children:[I.status==="pending"&&d.jsxs(d.Fragment,{children:[d.jsxs($e,{size:"sm",className:"bg-green-600 hover:bg-green-700 text-white h-8",onClick:()=>v(I.id,"accepted"),disabled:!!m,children:[d.jsx(mf,{className:"w-4 h-4 mr-1"})," Accept Job"]}),d.jsxs($e,{size:"sm",variant:"destructive",className:"h-8",onClick:()=>v(I.id,"rejected"),disabled:!!m,children:[d.jsx(l2,{className:"w-4 h-4 mr-1"})," Reject"]})]}),I.status==="accepted"&&d.jsxs($e,{size:"sm",className:"bg-blue-600 hover:bg-blue-700 text-white h-8",onClick:()=>v(I.id,"completed"),disabled:!!m,children:[d.jsx(mf,{className:"w-4 h-4 mr-1"})," Complete Job"]}),o!==I.id&&d.jsx($e,{size:"sm",variant:"outline",className:"h-8",onClick:()=>{l(I.id),f("")},children:I.mechanic_reply?"Add Note / Reply Again":"Reply"})]}),o===I.id&&d.jsxs("div",{className:"mt-3 flex gap-2 animate-in fade-in slide-in-from-top-1",children:[d.jsx(Sa,{value:u,onChange:T=>f(T.target.value),placeholder:"Type your reply...",className:"min-h-[60px] text-sm"}),d.jsxs("div",{className:"flex flex-col gap-2",children:[d.jsx($e,{size:"sm",onClick:()=>E(I.id),disabled:!!m||!u.trim(),children:"Send"}),d.jsx($e,{size:"sm",variant:"ghost",onClick:()=>l(null),children:"Cancel"})]})]})]})]})},I.id))})},H8=()=>{const n=Ti(),[e,t]=w.useState({name:"",email:"",password:"",phone:"",location:"",experience:"",about:"",selectedServices:[],countryCode:"+233",profileImage:null}),[r,s]=w.useState(!1),[o,l]=w.useState(!1),[u,f]=w.useState(!1),[m,g]=w.useState(!1),v=w.useRef(null),E=w.useRef(null),b=w.useRef(null),[I,T]=w.useState(null),[C,M]=w.useState(!0);w.useEffect(()=>{const N=_p(kt,async j=>{if(j)try{const L=await zf(un(wt,"mechanics",j.uid));L.exists()&&T(L.data())}catch(L){console.error("Error fetching mechanic profile:",L)}M(!1)});return()=>N()},[]),w.useEffect(()=>{if(m&&I){let N=I.phone||"",j="+233";N.startsWith("+233")&&(N=N.replace("+233","")),t({name:I.full_name||"",email:I.email||"",password:"",phone:N,location:I.location||"",experience:I.experience_years?.toString()||"",about:I.about||"",selectedServices:I.services||[],countryCode:j,profileImage:I.avatar_url||null})}},[m,I]);const D=N=>{t(j=>({...j,selectedServices:j.selectedServices.includes(N)?j.selectedServices.filter(L=>L!==N):[...j.selectedServices,N]}))};w.useEffect(()=>{u&&v.current&&b.current&&(v.current.srcObject=b.current)},[u]);const V=async()=>{try{const N=await navigator.mediaDevices.getUserMedia({video:{facingMode:"user"}});b.current=N,f(!0)}catch(N){console.error("Error accessing camera:",N),Pe.error("Could not access camera. Please check permissions.")}},B=()=>{b.current&&(b.current.getTracks().forEach(N=>N.stop()),b.current=null),v.current&&(v.current.srcObject=null),f(!1)},H=()=>{if(v.current&&E.current){const N=v.current,j=E.current,L=j.getContext("2d");if(L){j.width=N.videoWidth,j.height=N.videoHeight,L.drawImage(N,0,0,j.width,j.height);try{const F=j.toDataURL("image/jpeg",.8);t(O=>({...O,profileImage:F})),B(),Pe.success("Photo captured successfully!")}catch(F){console.error("Error capturing photo:",F),Pe.error("Failed to capture photo.")}}}},Q=N=>{const j=N.target.files?.[0];if(j){const L=new FileReader;L.onloadend=()=>{t(F=>({...F,profileImage:L.result}))},L.readAsDataURL(j)}},k=async N=>{if(N.preventDefault(),l(!0),!e.profileImage){Pe.error("Please take a profile photo"),l(!1);return}try{let j=kt.currentUser,L=e.profileImage;if(e.profileImage.startsWith("data:")){if(!m&&!j)j=(await cC(kt,e.email,e.password)).user;else if(!j)throw new Error("You must be logged in to edit profile");const O=new FormData;O.append("file",e.profileImage),O.append("upload_preset",B8),O.append("folder",`mechanics/${j.uid}`);const ne=await fetch(`https://api.cloudinary.com/v1_1/${$8}/image/upload`,{method:"POST",body:O});if(!ne.ok)throw new Error("Failed to upload image to Cloudinary");L=(await ne.json()).secure_url}else if(!j)throw new Error("Authentication required");if(!j)throw new Error("Authentication failed");const F={full_name:e.name,phone:`${e.countryCode}${e.phone}`,location:e.location,experience_years:parseInt(e.experience)||0,about:e.about,services:e.selectedServices,avatar_url:L,updated_at:Yn()};m?(await ua(un(wt,"profiles",j.uid),{full_name:e.name,avatar_url:L,updated_at:Yn()}),await ua(un(wt,"mechanics",j.uid),F),T({...I,...F}),g(!1),Pe.success("Profile updated successfully!")):(await Wf(un(wt,"profiles",j.uid),{full_name:e.name,email:e.email,user_id:j.uid,avatar_url:L,created_at:Yn(),updated_at:Yn()}),await Wf(un(wt,"mechanics",j.uid),{...F,user_id:j.uid,email:e.email,is_verified:!1,is_available:!0,rating:0,total_reviews:0,created_at:Yn()}),Pe.success("Registration successful! Welcome to MechRadii."),n("/account"))}catch(j){console.error("Mechanic registration/update error:",j),j.code==="auth/email-already-in-use"?Pe.error("This email is already registered. Please sign in instead."):Pe.error(j.message||"Failed to process request. Please try again.")}finally{l(!1)}};if(C)return d.jsx("div",{className:"min-h-screen flex items-center justify-center",children:d.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary"})});const R=async()=>{if(!I?.user_id)return;const N=I.availability_status==="busy"?"available":"busy";try{await ua(un(wt,"mechanics",I.user_id),{availability_status:N}),T(j=>({...j,availability_status:N})),Pe.success(`You are now ${N}`)}catch{Pe.error("Failed to update status")}};if(I&&!m){const N=I.availability_status==="busy";return d.jsxs("div",{className:"min-h-screen bg-background flex flex-col",children:[d.jsx(Ei,{}),d.jsx("main",{className:"flex-grow pt-24 pb-16 px-4",children:d.jsxs("div",{className:"max-w-4xl mx-auto",children:[d.jsxs("div",{className:"bg-card rounded-2xl p-8 shadow-sm border border-border card-glow relative overflow-hidden",children:[N&&d.jsx("div",{className:"absolute top-0 left-0 w-full bg-red-500/10 text-red-600 text-center text-xs font-bold py-1 border-b border-red-100",children:"CURRENTLY BUSY / ON A JOB"}),d.jsxs("div",{className:"flex flex-col md:flex-row gap-8 items-start mt-4",children:[d.jsxs("div",{className:"relative w-32 h-32 flex-shrink-0",children:[d.jsx("div",{className:"w-32 h-32 rounded-full overflow-hidden border-4 border-card shadow-lg bg-secondary",children:I.avatar_url?d.jsx("img",{src:I.avatar_url,alt:"Profile",className:"w-full h-full object-cover"}):d.jsx("div",{className:"w-full h-full flex items-center justify-center text-muted-foreground",children:d.jsx(jr,{size:48})})}),d.jsx("div",{className:`absolute bottom-2 right-2 w-6 h-6 rounded-full border-4 border-card ${N?"bg-red-500":"bg-green-500"}`,title:N?"Busy":"Available"})]}),d.jsxs("div",{className:"flex-grow space-y-4",children:[d.jsxs("div",{children:[d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsxs("div",{className:"flex items-center gap-3",children:[d.jsx("h1",{className:"text-3xl font-bold",children:I.full_name}),I.is_verified&&d.jsx("span",{className:"bg-primary/10 text-primary text-xs px-2 py-1 rounded-full font-medium flex items-center gap-1",children:"Verified"})]}),d.jsx($e,{variant:N?"destructive":"outline",size:"sm",onClick:R,className:N?"":"text-green-600 border-green-200 hover:bg-green-50",children:N?"Mark Available":"Set to Busy"})]}),d.jsxs("p",{className:"text-muted-foreground mt-1 flex items-center gap-2",children:[d.jsx(Fs,{size:16})," ",I.location]})]}),d.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 py-6 border-y border-border",children:[d.jsxs("div",{className:"text-center md:text-left",children:[d.jsx("p",{className:"text-sm text-muted-foreground mb-1",children:"Total Services"}),d.jsx("p",{className:"text-2xl font-bold animate-fade-in text-gradient",children:(I.total_reviews||0)+12})]}),d.jsxs("div",{className:"text-center md:text-left",children:[d.jsx("p",{className:"text-sm text-muted-foreground mb-1",children:"Rating"}),d.jsxs("div",{className:"flex items-center justify-center md:justify-start gap-1",children:[d.jsx("span",{className:"text-2xl font-bold",children:I.rating||0}),d.jsx("span",{className:"text-yellow-400",children:""})]})]}),d.jsxs("div",{className:"text-center md:text-left",children:[d.jsx("p",{className:"text-sm text-muted-foreground mb-1",children:"Reviews"}),d.jsx("p",{className:"text-2xl font-bold",children:I.total_reviews||0})]}),d.jsxs("div",{className:"text-center md:text-left",children:[d.jsx("p",{className:"text-sm text-muted-foreground mb-1",children:"Experience"}),d.jsxs("p",{className:"text-2xl font-bold",children:[I.experience_years||0," Years"]})]})]}),d.jsxs("div",{children:[d.jsx("h3",{className:"font-semibold mb-3",children:"My Services"}),d.jsx("div",{className:"flex flex-wrap gap-2",children:I.services?.map(j=>d.jsx("span",{className:"bg-secondary text-secondary-foreground px-3 py-1 rounded-full text-sm font-medium",children:j},j))})]}),d.jsxs("div",{className:"pt-4 flex gap-4",children:[d.jsx($e,{onClick:()=>g(!0),children:"Edit Profile"}),d.jsx($e,{onClick:()=>n("/account"),variant:"outline",children:"Go to Account Settings"})]})]})]})]}),d.jsxs("div",{className:"bg-card rounded-2xl p-8 shadow-sm border border-border mt-8",children:[d.jsx("h2",{className:"text-xl font-semibold mb-6",children:"Recent Requests & Messages"}),d.jsx(W8,{mechanicId:I.user_id})]})]})}),d.jsx(ql,{})]})}return d.jsxs("div",{className:"min-h-screen bg-background text-foreground",children:[d.jsx(Ei,{}),d.jsx("main",{className:"container mx-auto px-4 pt-24 pb-16",children:d.jsxs("div",{className:"max-w-2xl mx-auto",children:[d.jsxs("div",{className:"text-center mb-8",children:[d.jsx("h1",{className:"text-3xl font-bold mb-2",children:m?"Edit Mechanic Profile":"Join as a Mechanic"}),d.jsx("p",{className:"text-muted-foreground",children:m?"Update your professional details":"Expand your business and help drivers in need"})]}),d.jsx("div",{className:"bg-card rounded-2xl shadow-sm border border-border p-6 md:p-8 card-glow",children:d.jsxs("form",{onSubmit:k,className:"space-y-6",children:[d.jsxs("div",{className:"space-y-4",children:[d.jsx(ln,{children:"Profile Photo"}),d.jsxs("div",{className:"flex flex-col items-center gap-4 p-4 border-2 border-dashed border-border rounded-xl bg-secondary/20",children:[e.profileImage?d.jsxs("div",{className:"relative w-32 h-32 rounded-full overflow-hidden border-4 border-white shadow-md",children:[d.jsx("img",{src:e.profileImage,alt:"Profile Preview",className:"w-full h-full object-cover"}),d.jsx("button",{type:"button",onClick:()=>t(N=>({...N,profileImage:null})),className:"absolute bottom-0 right-0 bg-red-500 text-white p-1 rounded-full hover:bg-red-600 transition-colors",children:d.jsx(h2,{size:14})})]}):d.jsx("div",{className:"w-32 h-32 rounded-full bg-neutral-200 flex items-center justify-center text-neutral-400",children:d.jsx(jr,{size:48})}),d.jsx("div",{className:"flex gap-3",children:u?d.jsxs("div",{className:"flex flex-col items-center gap-2",children:[d.jsx("div",{className:"relative rounded-lg overflow-hidden bg-black aspect-square w-64",children:d.jsx("video",{ref:v,autoPlay:!0,playsInline:!0,className:"w-full h-full object-cover"})}),d.jsxs("div",{className:"flex gap-2",children:[d.jsx($e,{type:"button",onClick:H,variant:"default",children:"Capture"}),d.jsx($e,{type:"button",onClick:B,variant:"destructive",children:"Cancel"})]})]}):d.jsxs(d.Fragment,{children:[d.jsxs($e,{type:"button",variant:"outline",onClick:V,className:"flex gap-2",children:[d.jsx(h1,{size:16}),"Take Photo"]}),d.jsxs("div",{className:"relative",children:[d.jsxs($e,{type:"button",variant:"outline",className:"flex gap-2",children:[d.jsx(jr,{size:16}),"Upload Photo"]}),d.jsx("input",{type:"file",accept:"image/*",onChange:Q,className:"absolute inset-0 opacity-0 cursor-pointer"})]})]})}),d.jsx("canvas",{ref:E,className:"hidden"}),d.jsx("p",{className:"text-xs text-neutral-500 text-center",children:"This photo will be shown to customers. clearly visible face is recommended."})]})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx(ln,{htmlFor:"name",children:"Full Name"}),d.jsxs("div",{className:"relative",children:[d.jsx(jr,{className:"absolute left-3 top-3 h-4 w-4 text-neutral-400"}),d.jsx(Pn,{id:"name",placeholder:"John Doe",className:"pl-10",value:e.name,onChange:N=>t({...e,name:N.target.value}),required:!0})]})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx(ln,{htmlFor:"email",children:"Email Address"}),d.jsxs("div",{className:"relative",children:[d.jsx(Ju,{className:"absolute left-3 top-3 h-4 w-4 text-neutral-400"}),d.jsx(Pn,{id:"email",type:"email",placeholder:"john@example.com",className:"pl-10",value:e.email,onChange:N=>t({...e,email:N.target.value}),required:!0,disabled:m})]})]}),!m&&d.jsxs("div",{className:"space-y-2",children:[d.jsx(ln,{htmlFor:"password",children:"Password"}),d.jsxs("div",{className:"relative",children:[d.jsx(Ev,{className:"absolute left-3 top-3 h-4 w-4 text-neutral-400"}),d.jsx(Pn,{id:"password",type:r?"text":"password",placeholder:"Create a strong password",className:"pl-10 pr-10",value:e.password,onChange:N=>t({...e,password:N.target.value}),required:!0}),d.jsx("button",{type:"button",onClick:()=>s(!r),className:"absolute right-3 top-3 text-neutral-400 hover:text-neutral-600",children:r?d.jsx(wv,{size:16}):d.jsx(xv,{size:16})})]})]}),d.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[d.jsxs("div",{className:"space-y-2",children:[d.jsx(ln,{htmlFor:"phone",children:"Phone Number"}),d.jsxs("div",{className:"relative flex gap-2",children:[d.jsx("div",{className:"w-[140px] flex-shrink-0",children:d.jsxs(_A,{value:e.countryCode,onValueChange:N=>t({...e,countryCode:N}),children:[d.jsx(aw,{className:"h-10",children:d.jsx(wA,{placeholder:"Code"})}),d.jsx(lw,{className:"max-h-60 overflow-y-auto",children:U8.map((N,j)=>d.jsxs(bu,{value:N.dial_code,children:[N.dial_code," (",N.name,")"]},`${N.name}-${j}`))})]})}),d.jsxs("div",{className:"relative flex-grow",children:[d.jsx(cp,{className:"absolute left-3 top-3 h-4 w-4 text-neutral-400"}),d.jsx(Pn,{id:"phone",placeholder:"555-0123",className:"pl-10",value:e.phone,onChange:N=>t({...e,phone:N.target.value}),required:!0})]})]})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx(ln,{htmlFor:"location",children:"Base Location"}),d.jsxs("div",{className:"relative",children:[d.jsx(Fs,{className:"absolute left-3 top-3 h-4 w-4 text-neutral-400"}),d.jsx(Pn,{id:"location",placeholder:"City, State",className:"pl-10",value:e.location,onChange:N=>t({...e,location:N.target.value}),required:!0})]})]})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx(ln,{htmlFor:"experience",children:"Years of Experience"}),d.jsxs("div",{className:"relative",children:[d.jsx(Pr,{className:"absolute left-3 top-3 h-4 w-4 text-neutral-400"}),d.jsx(Pn,{id:"experience",type:"number",placeholder:"e.g. 5",className:"pl-10",value:e.experience,onChange:N=>t({...e,experience:N.target.value}),required:!0})]})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx(ln,{children:"Services Offered"}),d.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-3 mt-2",children:z8.map(N=>d.jsxs("div",{className:"flex items-center space-x-2",children:[d.jsx(DA,{id:N,checked:e.selectedServices.includes(N),onCheckedChange:()=>D(N)}),d.jsx("label",{htmlFor:N,className:"text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70",children:N})]},N))})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx(ln,{htmlFor:"about",children:"About You"}),d.jsx(Sa,{id:"about",placeholder:"Tell us about your experience and expertise...",className:"min-h-[100px]",value:e.about,onChange:N=>t({...e,about:N.target.value}),required:!0})]}),d.jsxs("div",{className:"flex gap-4",children:[m&&d.jsx($e,{type:"button",variant:"outline",className:"w-full h-11",onClick:()=>g(!1),children:"Cancel"}),d.jsx($e,{type:"submit",className:"w-full h-11",disabled:o,children:o?d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx("div",{className:"w-4 h-4 border-2 border-white/20 border-t-white rounded-full animate-spin"}),m?"Updating Profile...":"Creating Account..."]}):m?"Update Profile":"Create Mechanic Account"})]}),!m&&d.jsxs("div",{className:"text-center text-sm",children:[d.jsx("span",{className:"text-neutral-600",children:"Already have an account? "}),d.jsx(yt,{to:"/login",className:"text-primary hover:underline font-medium",children:"Sign in"})]})]})})]})}),d.jsx(ql,{})]})},aa=w.forwardRef(({className:n,...e},t)=>d.jsx("div",{ref:t,className:He("rounded-lg border bg-card text-card-foreground shadow-sm",n),...e}));aa.displayName="Card";const hv=w.forwardRef(({className:n,...e},t)=>d.jsx("div",{ref:t,className:He("flex flex-col space-y-1.5 p-6",n),...e}));hv.displayName="CardHeader";const fv=w.forwardRef(({className:n,...e},t)=>d.jsx("h3",{ref:t,className:He("text-2xl font-semibold leading-none tracking-tight",n),...e}));fv.displayName="CardTitle";const q8=w.forwardRef(({className:n,...e},t)=>d.jsx("p",{ref:t,className:He("text-sm text-muted-foreground",n),...e}));q8.displayName="CardDescription";const la=w.forwardRef(({className:n,...e},t)=>d.jsx("div",{ref:t,className:He("p-6 pt-0",n),...e}));la.displayName="CardContent";const G8=w.forwardRef(({className:n,...e},t)=>d.jsx("div",{ref:t,className:He("flex items-center p-6 pt-0",n),...e}));G8.displayName="CardFooter";var iy={exports:{}},oy={};var PT;function K8(){if(PT)return oy;PT=1;var n=rp();function e(v,E){return v===E&&(v!==0||1/v===1/E)||v!==v&&E!==E}var t=typeof Object.is=="function"?Object.is:e,r=n.useState,s=n.useEffect,o=n.useLayoutEffect,l=n.useDebugValue;function u(v,E){var b=E(),I=r({inst:{value:b,getSnapshot:E}}),T=I[0].inst,C=I[1];return o(function(){T.value=b,T.getSnapshot=E,f(T)&&C({inst:T})},[v,b,E]),s(function(){return f(T)&&C({inst:T}),v(function(){f(T)&&C({inst:T})})},[v]),l(b),b}function f(v){var E=v.getSnapshot;v=v.value;try{var b=E();return!t(v,b)}catch{return!0}}function m(v,E){return E()}var g=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?m:u;return oy.useSyncExternalStore=n.useSyncExternalStore!==void 0?n.useSyncExternalStore:g,oy}var jT;function Q8(){return jT||(jT=1,iy.exports=K8()),iy.exports}var Y8=Q8();function X8(){return Y8.useSyncExternalStore(J8,()=>!0,()=>!1)}function J8(){return()=>{}}var hw="Avatar",[Z8]=es(hw),[e7,OA]=Z8(hw),MA=w.forwardRef((n,e)=>{const{__scopeAvatar:t,...r}=n,[s,o]=w.useState("idle");return d.jsx(e7,{scope:t,imageLoadingStatus:s,onImageLoadingStatusChange:o,children:d.jsx(Be.span,{...r,ref:e})})});MA.displayName=hw;var LA="AvatarImage",VA=w.forwardRef((n,e)=>{const{__scopeAvatar:t,src:r,onLoadingStatusChange:s=()=>{},...o}=n,l=OA(LA,t),u=t7(r,o),f=Vn(m=>{s(m),l.onImageLoadingStatusChange(m)});return Xt(()=>{u!=="idle"&&f(u)},[u,f]),u==="loaded"?d.jsx(Be.img,{...o,ref:e,src:r}):null});VA.displayName=LA;var FA="AvatarFallback",UA=w.forwardRef((n,e)=>{const{__scopeAvatar:t,delayMs:r,...s}=n,o=OA(FA,t),[l,u]=w.useState(r===void 0);return w.useEffect(()=>{if(r!==void 0){const f=window.setTimeout(()=>u(!0),r);return()=>window.clearTimeout(f)}},[r]),l&&o.imageLoadingStatus!=="loaded"?d.jsx(Be.span,{...s,ref:e}):null});UA.displayName=FA;function DT(n,e){return n?e?(n.src!==e&&(n.src=e),n.complete&&n.naturalWidth>0?"loaded":"loading"):"error":"idle"}function t7(n,{referrerPolicy:e,crossOrigin:t}){const r=X8(),s=w.useRef(null),o=r?(s.current||(s.current=new window.Image),s.current):null,[l,u]=w.useState(()=>DT(o,n));return Xt(()=>{u(DT(o,n))},[o,n]),Xt(()=>{const f=v=>()=>{u(v)};if(!o)return;const m=f("loaded"),g=f("error");return o.addEventListener("load",m),o.addEventListener("error",g),e&&(o.referrerPolicy=e),typeof t=="string"&&(o.crossOrigin=t),()=>{o.removeEventListener("load",m),o.removeEventListener("error",g)}},[o,t,e]),l}var $A=MA,BA=VA,zA=UA;const Tu=w.forwardRef(({className:n,...e},t)=>d.jsx($A,{ref:t,className:He("relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full",n),...e}));Tu.displayName=$A.displayName;const Su=w.forwardRef(({className:n,...e},t)=>d.jsx(BA,{ref:t,className:He("aspect-square h-full w-full",n),...e}));Su.displayName=BA.displayName;const Cu=w.forwardRef(({className:n,...e},t)=>d.jsx(zA,{ref:t,className:He("flex h-full w-full items-center justify-center rounded-full bg-muted",n),...e}));Cu.displayName=zA.displayName;const n7=({profile:n,userId:e,onProfileUpdated:t,open:r,onOpenChange:s})=>{const[o,l]=w.useState(!1),u=r!==void 0?r:o,f=s||l,[m,g]=w.useState(n?.full_name||""),[v,E]=w.useState(n?.avatar_url||""),[b,I]=w.useState(!1),[T,C]=w.useState(!1),M=w.useRef(null),D=H=>H.split(" ").map(Q=>Q[0]).join("").toUpperCase().slice(0,2),V=async H=>{const Q=H.target.files?.[0];if(Q){if(console.log("[Upload] Starting Cloudinary upload for file:",Q.name,Q.size,"bytes"),!Q.type.startsWith("image/")){Pe.error("Please select an image file");return}if(Q.size>10*1024*1024){Pe.error("Image must be less than 10MB");return}I(!0);try{const k=new FileReader;k.onloadend=()=>{E(k.result)},k.readAsDataURL(Q);const R="dw93ktlhv",N="mechradii_unsigned";console.log("[Upload] Cloud Name:",R),console.log("[Upload] Upload Preset:",N);const j=new FormData;j.append("file",Q),j.append("upload_preset",N),console.log("[Upload] Uploading to Cloudinary..."),console.log("[Upload] URL:",`https://api.cloudinary.com/v1_1/${R}/image/upload`);const L=await fetch(`https://api.cloudinary.com/v1_1/${R}/image/upload`,{method:"POST",body:j});if(console.log("[Upload] Response status:",L.status),console.log("[Upload] Response ok:",L.ok),!L.ok){const O=await L.json();throw console.error("[Upload] Error response:",O),new Error(O.error?.message||"Upload failed")}const F=await L.json();console.log("[Upload] Cloudinary upload successful:",F.secure_url),E(F.secure_url),Pe.success("Image uploaded successfully")}catch(k){console.error("[Upload] Error:",k),Pe.error(k.message||"Failed to upload image"),E(n?.avatar_url||"")}finally{I(!1)}}},B=async()=>{if(!m.trim()){Pe.error("Name cannot be empty");return}C(!0);try{const H=kt.currentUser;if(console.log("[Profile Update] Current user:",H?.uid),console.log("[Profile Update] Target userId:",e),console.log("[Profile Update] User authenticated:",!!H),!H)throw new Error("You must be logged in to update your profile");if(H.uid!==e)throw new Error("You can only update your own profile");const Q=un(wt,"profiles",e);console.log("[Profile Update] Updating document:",Q.path),await Wf(Q,{full_name:m.trim(),avatar_url:v||null,updated_at:Yn()},{merge:!0}),console.log("[Profile Update] Update successful"),Pe.success("Profile updated successfully"),f(!1),t()}catch(H){console.error("[Profile Update] Error:",H),console.error("[Profile Update] Error code:",H.code),console.error("[Profile Update] Error message:",H.message),Pe.error(H.message||"Failed to update profile")}finally{C(!1)}};return d.jsx(Kp,{open:u,onOpenChange:f,children:d.jsxs(xd,{className:"sm:max-w-md",children:[d.jsxs(Ed,{children:[d.jsx(bd,{children:"Edit Profile"}),d.jsx(jN,{children:"Update your profile information and avatar"})]}),d.jsxs("div",{className:"space-y-6 py-4",children:[d.jsxs("div",{className:"flex flex-col items-center gap-4",children:[d.jsxs("div",{className:"relative",children:[d.jsxs(Tu,{className:"h-24 w-24 border-4 border-primary/20",children:[d.jsx(Su,{src:v}),d.jsx(Cu,{className:"bg-primary/10 text-primary text-2xl font-bold",children:m?D(m):d.jsx(jr,{className:"h-10 w-10"})})]}),d.jsx("button",{type:"button",onClick:()=>M.current?.click(),disabled:b,className:"absolute bottom-0 right-0 p-2 rounded-full bg-primary text-primary-foreground hover:bg-primary/90 transition-colors disabled:opacity-50",children:b?d.jsx(V0,{className:"h-4 w-4 animate-spin"}):d.jsx(h1,{className:"h-4 w-4"})}),d.jsx("input",{ref:M,type:"file",accept:"image/*",onChange:V,className:"hidden"})]}),d.jsx("p",{className:"text-sm text-muted-foreground",children:"Click the camera icon to upload a new photo"})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx(ln,{htmlFor:"fullName",children:"Full Name"}),d.jsx(Pn,{id:"fullName",value:m,onChange:H=>g(H.target.value),placeholder:"Enter your full name"})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx(ln,{htmlFor:"email",children:"Email"}),d.jsx(Pn,{id:"email",value:n?.email||"",disabled:!0,className:"bg-muted"}),d.jsx("p",{className:"text-xs text-muted-foreground",children:"Email cannot be changed"})]}),d.jsx($e,{onClick:B,disabled:T||b,className:"w-full",children:T?d.jsxs(d.Fragment,{children:[d.jsx(V0,{className:"h-4 w-4 animate-spin mr-2"}),"Saving..."]}):"Save Changes"})]})]})})},r7=()=>{const n=Ti(),e=hS(),[t,r]=w.useState(null),[s,o]=w.useState(!1),[l,u]=w.useState(!1),[f,m]=w.useState(null),[g,v]=w.useState(""),[E,b]=w.useState(!1);w.useEffect(()=>{const R=_p(kt,N=>{N?r(N):n("/login")});return()=>R()},[n]);const{data:I,isLoading:T}=Dg({queryKey:["profile",t?.uid],queryFn:async()=>{if(!t)return null;const R=un(wt,"profiles",t.uid),N=await zf(R);if(!N.exists())return null;const j=N.data();return{full_name:j.full_name,email:j.email,created_at:j.created_at?.toDate()?.toISOString()||new Date().toISOString(),avatar_url:j.avatar_url}},enabled:!!t}),{data:C=[],isLoading:M}=Dg({queryKey:["bookings",t?.uid],queryFn:async()=>{if(!t)return[];const R=Fp(As(wt,"bookings"),F_("user_id","==",t.uid));try{const N=await JI(R),j=[];return N.forEach(L=>{const F=L.data();j.push({id:L.id,...F})}),j.sort((L,F)=>{const O=L.created_at?.toMillis?.()||0;return(F.created_at?.toMillis?.()||0)-O})}catch(N){return console.error("Firestore Query Error:",N),Pe.error(`Firestore Error: ${N.message}`),[]}},enabled:!!t}),{data:D}=Dg({queryKey:["isMechanic",t?.uid],queryFn:async()=>{if(!t)return!1;const R=un(wt,"mechanics",t.uid);return(await zf(R)).exists()},enabled:!!t}),V=R=>R.split(" ").map(N=>N[0]).join("").toUpperCase().slice(0,2),B=R=>new Date(R).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"}),H={totalBookings:C.length,completedBookings:C.filter(R=>R.status==="completed"||R.status==="pending").length,requestedMechanics:C},Q=C.reduce((R,N)=>(R.find(L=>L.id===N.mechanic_id)||R.push({id:N.mechanic_id,name:N.mechanic_name,specialty:N.mechanic_specialty,image:N.mechanic_image,last_contact:N.created_at}),R),[]),k=async()=>{if(!(!t||!f||!g.trim())){b(!0);try{await Hf(As(wt,"bookings"),{user_id:t.uid,user_email:t.email,mechanic_id:f.id,mechanic_name:f.name,status:"pending",action_type:"Message",message:g,created_at:Yn()}),Pe.success(`Message sent to ${f.name}`),u(!1),v("")}catch(R){console.error("Error sending message:",R),Pe.error("Failed to send message")}finally{b(!1)}}};return d.jsxs("div",{className:"min-h-screen bg-background",children:[d.jsx(Ei,{}),d.jsx("main",{className:"pt-24 pb-16",children:d.jsxs("div",{className:"container mx-auto px-4 max-w-4xl",children:[d.jsx(aa,{className:"mb-8 card-glow",children:d.jsx(la,{className:"pt-8",children:d.jsxs("div",{className:"flex flex-col md:flex-row items-center gap-6",children:[T?d.jsxs(d.Fragment,{children:[d.jsx("div",{className:"h-24 w-24 rounded-full bg-secondary animate-pulse"}),d.jsxs("div",{className:"text-center md:text-left flex-1 space-y-3",children:[d.jsx("div",{className:"h-8 w-48 bg-secondary animate-pulse rounded mx-auto md:mx-0"}),d.jsx("div",{className:"h-4 w-64 bg-secondary animate-pulse rounded mx-auto md:mx-0"})]})]}):d.jsxs(d.Fragment,{children:[d.jsxs("div",{className:"relative group cursor-pointer",onClick:()=>o(!0),children:[d.jsxs(Tu,{className:"h-24 w-24 border-4 border-primary/20",children:[d.jsx(Su,{src:I?.avatar_url||""}),d.jsx(Cu,{className:"bg-primary/10 text-primary text-2xl font-bold",children:I?.full_name?V(I.full_name):d.jsx(jr,{className:"h-10 w-10"})})]}),d.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-black/50 rounded-full opacity-0 group-hover:opacity-100 transition-opacity",children:d.jsx(d2,{className:"h-8 w-8 text-white"})})]}),d.jsxs("div",{className:"text-center md:text-left flex-1",children:[d.jsx("h1",{className:"text-2xl font-bold mb-2",children:I?.full_name||"User"}),d.jsxs("div",{className:"flex flex-col md:flex-row md:items-center gap-2 md:gap-4 text-muted-foreground",children:[d.jsxs("span",{className:"flex items-center gap-2",children:[d.jsx(Ju,{className:"h-4 w-4"}),I?.email||t?.email]}),d.jsxs("span",{className:"flex items-center gap-2",children:[d.jsx(pf,{className:"h-4 w-4"}),"Joined ",I?.created_at?B(I.created_at):"recently"]}),D&&d.jsx(Eu,{variant:"secondary",className:"mt-2 md:mt-0 w-fit",children:"Mechanic Account"})]})]})]}),d.jsx(n7,{profile:I||null,userId:t?.uid||"",onProfileUpdated:()=>e.invalidateQueries({queryKey:["profile",t?.uid]}),open:s,onOpenChange:o})]})})}),d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-8",children:[d.jsx(aa,{className:"card-glow",children:d.jsx(la,{className:"pt-6",children:d.jsxs("div",{className:"flex items-center gap-4",children:[d.jsx("div",{className:"p-3 rounded-xl bg-primary/10",children:d.jsx(Pr,{className:"h-6 w-6 text-primary"})}),d.jsxs("div",{children:[M?d.jsx("div",{className:"h-8 w-12 bg-secondary animate-pulse rounded"}):d.jsx("p",{className:"text-2xl font-bold",children:H.totalBookings}),d.jsx("p",{className:"text-sm text-muted-foreground",children:"Total Bookings"})]})]})})}),d.jsx(aa,{className:"card-glow",children:d.jsx(la,{className:"pt-6",children:d.jsxs("div",{className:"flex items-center gap-4",children:[d.jsx("div",{className:"p-3 rounded-xl bg-green-500/10",children:d.jsx(pa,{className:"h-6 w-6 text-green-500"})}),d.jsxs("div",{children:[M?d.jsx("div",{className:"h-8 w-12 bg-secondary animate-pulse rounded"}):d.jsx("p",{className:"text-2xl font-bold",children:H.completedBookings}),d.jsx("p",{className:"text-sm text-muted-foreground",children:"Completed"})]})]})})}),d.jsx(aa,{className:"card-glow",children:d.jsx(la,{className:"pt-6",children:d.jsxs("div",{className:"flex items-center gap-4",children:[d.jsx("div",{className:"p-3 rounded-xl bg-blue-500/10",children:d.jsx(Xu,{className:"h-6 w-6 text-blue-500"})}),d.jsxs("div",{children:[d.jsx("p",{className:"text-2xl font-bold",children:"0"}),d.jsx("p",{className:"text-sm text-muted-foreground",children:"Pending"})]})]})})})]}),D?d.jsx("div",{className:"text-center py-20",children:d.jsxs("div",{className:"p-6 bg-primary/5 border border-primary/10 rounded-2xl max-w-md mx-auto",children:[d.jsx(Pr,{className:"h-12 w-12 text-primary mx-auto mb-4"}),d.jsx("h2",{className:"text-xl font-bold mb-2",children:"Mechanic Dashboard"}),d.jsx("p",{className:"text-muted-foreground mb-6",children:"You are registered as a mechanic. Please use your dedicated dashboard to manage service requests."}),d.jsx($e,{onClick:()=>n("/dashboard"),children:"Go to Dashboard"})]})}):d.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[d.jsx("div",{className:"lg:col-span-2 space-y-6",children:d.jsxs(aa,{className:"card-glow border-primary/10",children:[d.jsx(hv,{children:d.jsxs(fv,{className:"flex items-center gap-2 text-lg",children:[d.jsx(Pr,{className:"h-5 w-5 text-primary"}),"Active Requests"]})}),d.jsx(la,{children:M?d.jsx("div",{className:"space-y-4",children:[1,2].map(R=>d.jsx("div",{className:"h-32 rounded-xl bg-secondary animate-pulse"},R))}):H.requestedMechanics.length>0?d.jsx("div",{className:"space-y-4",children:H.requestedMechanics.map(R=>d.jsxs("div",{className:"p-4 rounded-xl bg-secondary/50 border border-border/50 flex flex-col gap-3 transition-all hover:border-primary/30",children:[d.jsxs("div",{className:"flex items-start gap-4",children:[d.jsxs(Tu,{className:"h-12 w-12 rounded-lg shadow-sm border border-border/50",children:[d.jsx(Su,{src:R.mechanic_image,className:"object-cover"}),d.jsx(Cu,{children:d.jsx(Pr,{})})]}),d.jsx("div",{className:"flex-1 min-w-0",children:d.jsxs("div",{className:"flex justify-between items-start gap-2",children:[d.jsxs("div",{children:[d.jsx("p",{className:"font-semibold truncate text-foreground",children:R.mechanic_name}),d.jsx("p",{className:"text-xs text-muted-foreground truncate",children:R.mechanic_specialty}),d.jsx(Eu,{variant:"outline",className:"mt-1.5 text-[10px] uppercase tracking-wider h-5 px-1.5 border-primary/20 bg-primary/5 text-primary",children:R.action_type||"Request"})]}),d.jsx(Eu,{variant:R.status==="accepted"?"default":R.status==="rejected"?"destructive":R.status==="completed"?"secondary":"outline",className:"capitalize shadow-sm",children:R.status})]})})]}),(R.message||R.user_note||R.mechanic_reply)&&d.jsxs("div",{className:"text-sm space-y-3 mt-1 pt-3 border-t border-border/50",children:[(R.message||R.user_note)&&d.jsxs("div",{className:"bg-background/40 p-3 rounded-lg border border-border/30",children:[d.jsx("span",{className:"text-[10px] font-bold uppercase tracking-tight text-muted-foreground block mb-1",children:"Your Note"}),d.jsxs("p",{className:"text-muted-foreground leading-relaxed italic text-xs",children:['"',R.message||R.user_note,'"']})]}),R.mechanic_reply&&d.jsxs("div",{className:"bg-primary/5 p-3 rounded-lg border border-primary/10",children:[d.jsx("span",{className:"text-[10px] font-bold uppercase tracking-tight text-primary block mb-1",children:"Mechanic Reply"}),d.jsx("p",{className:"text-foreground leading-relaxed font-medium text-xs",children:R.mechanic_reply})]})]}),d.jsxs("div",{className:"flex items-center gap-1 text-[10px] text-muted-foreground mt-1",children:[d.jsx(pf,{className:"h-3 w-3"}),R.created_at?.toDate?B(R.created_at.toDate().toISOString()):"Recently"]})]},R.id))}):d.jsxs("div",{className:"text-center py-12 text-muted-foreground border-2 border-dashed border-border rounded-xl",children:[d.jsx(Pr,{className:"h-10 w-10 mx-auto mb-3 opacity-20"}),d.jsx("p",{className:"font-medium",children:"No active requests"}),d.jsx($e,{variant:"link",size:"sm",onClick:()=>n("/mechanics"),children:"Find a mechanic"})]})})]})}),d.jsx("div",{className:"lg:col-span-1 space-y-6",children:d.jsxs(aa,{className:"card-glow border-blue-500/10 h-full flex flex-col",children:[d.jsx(hv,{children:d.jsxs(fv,{className:"flex items-center gap-2 text-lg",children:[d.jsx(U0,{className:"h-5 w-5 text-primary"}),"Your Mechanics"]})}),d.jsx(la,{className:"flex-1",children:M?d.jsx("div",{className:"space-y-4",children:[1,2,3].map(R=>d.jsx("div",{className:"h-20 rounded-xl bg-secondary animate-pulse"},R))}):Q.length>0?d.jsx("div",{className:"space-y-4",children:Q.map(R=>d.jsxs("div",{className:"p-4 rounded-xl bg-secondary/30 border border-border/50 space-y-4 transition-all hover:border-primary/20",children:[d.jsxs("div",{className:"flex items-center gap-3 cursor-pointer group",onClick:()=>n(`/mechanic/${R.id}`),children:[d.jsxs(Tu,{className:"h-12 w-12 rounded-lg border-2 border-primary/10 transition-transform group-hover:scale-105",children:[d.jsx(Su,{src:R.image,className:"object-cover"}),d.jsx(Cu,{children:d.jsx(jr,{className:"h-6 w-6"})})]}),d.jsxs("div",{className:"min-w-0",children:[d.jsx("p",{className:"text-sm font-bold text-foreground truncate group-hover:text-primary transition-colors",children:R.name}),d.jsx("p",{className:"text-[10px] text-muted-foreground truncate",children:R.specialty})]})]}),d.jsxs(Kp,{open:l&&f?.id===R.id,onOpenChange:N=>{N||u(!1)},children:[d.jsx(iw,{asChild:!0,children:d.jsxs($e,{variant:"outline",size:"sm",className:"w-full h-9 text-xs gap-2 border-primary/20 hover:bg-primary/5 hover:text-primary transition-all shadow-sm",onClick:N=>{N.stopPropagation(),m({id:R.id,name:R.name}),u(!0)},children:[d.jsx(U0,{className:"h-3.5 w-3.5"}),"Send Message"]})}),d.jsxs(xd,{children:[d.jsx(Ed,{children:d.jsxs(bd,{children:["Message ",R.name]})}),d.jsxs("div",{className:"space-y-4 pt-4",children:[d.jsx(Sa,{placeholder:"Type your message here...",value:g,onChange:N=>v(N.target.value),className:"min-h-[120px]"}),d.jsx($e,{onClick:k,className:"w-full",disabled:E||!g.trim(),children:E?"Sending...":"Send Message"})]})]})]})]},R.id))}):d.jsxs("div",{className:"text-center py-12 text-muted-foreground border-2 border-dashed border-border rounded-xl opacity-60",children:[d.jsx(jr,{className:"h-8 w-8 mx-auto mb-3 opacity-20"}),d.jsx("p",{className:"text-sm",children:"No mechanics yet"})]})})]})})]})]})})]})},s7=()=>{const n=Ti(),e=[{number:"01",icon:d.jsx(L0,{className:"h-10 w-10"}),title:"Your Car Breaks Down",description:"Whether it's a flat tire, dead battery, or engine trouble - we've got you covered wherever you are.",color:"from-red-500/20 to-red-500/5",iconBg:"bg-red-500/20",iconColor:"text-red-400"},{number:"02",icon:d.jsx(Fs,{className:"h-10 w-10"}),title:"Share Your Location",description:"Open MechRadii and let us detect your location automatically, or enter it manually.",color:"from-blue-500/20 to-blue-500/5",iconBg:"bg-blue-500/20",iconColor:"text-blue-400"},{number:"03",icon:d.jsx(pu,{className:"h-10 w-10"}),title:"Find Nearby Mechanics",description:"Browse through verified mechanics in your area. See their ratings, specialties, and estimated arrival times.",color:"from-purple-500/20 to-purple-500/5",iconBg:"bg-purple-500/20",iconColor:"text-purple-400"},{number:"04",icon:d.jsx(m1,{className:"h-10 w-10"}),title:"Choose Your Mechanic",description:"Select the mechanic that best fits your needs based on reviews, price, and availability.",color:"from-emerald-500/20 to-emerald-500/5",iconBg:"bg-emerald-500/20",iconColor:"text-emerald-400"},{number:"05",icon:d.jsx(Pr,{className:"h-10 w-10"}),title:"Get Your Car Fixed",description:"Your mechanic arrives at your location and repairs your vehicle on the spot.",color:"from-primary/20 to-primary/5",iconBg:"bg-primary/20",iconColor:"text-primary"},{number:"06",icon:d.jsx(pa,{className:"h-10 w-10"}),title:"Rate & Review",description:"Share your experience to help other drivers find reliable mechanics.",color:"from-yellow-500/20 to-yellow-500/5",iconBg:"bg-yellow-500/20",iconColor:"text-yellow-400"}],t=[{icon:d.jsx(dy,{className:"h-8 w-8"}),title:"Verified Mechanics",description:"All mechanics are background-checked and verified for your safety"},{icon:d.jsx(Xu,{className:"h-8 w-8"}),title:"Fast Response",description:"Average mechanic arrival time is under 30 minutes"},{icon:d.jsx(p1,{className:"h-8 w-8"}),title:"Real-Time Chat",description:"Communicate directly with your mechanic through the app"},{icon:d.jsx(a2,{className:"h-8 w-8"}),title:"Transparent Pricing",description:"Know the cost upfront before you confirm your booking"}];return d.jsxs("div",{className:"min-h-screen bg-background",children:[d.jsx(Ei,{}),d.jsxs("main",{className:"pt-24 pb-16",children:[d.jsx("section",{className:"container mx-auto px-4 mb-20",children:d.jsxs("div",{className:"text-center max-w-3xl mx-auto",children:[d.jsxs("h1",{className:"text-4xl md:text-5xl lg:text-6xl font-bold mb-6",children:["How ",d.jsx("span",{className:"text-gradient",children:"MechRadii"})," Works"]}),d.jsx("p",{className:"text-xl text-muted-foreground mb-8",children:"From breakdown to back on the road in 6 simple steps. We connect you with verified mechanics when you need them most."})]})}),d.jsx("section",{className:"container mx-auto px-4 mb-20",children:d.jsxs("div",{className:"relative",children:[d.jsx("div",{className:"hidden lg:block absolute top-1/2 left-0 right-0 h-1 bg-gradient-to-r from-red-500/30 via-primary/30 to-yellow-500/30 -translate-y-1/2 z-0"}),d.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8 relative z-10",children:e.map((r,s)=>d.jsxs("div",{className:"group relative animate-fade-in",style:{animationDelay:`${s*100}ms`},children:[d.jsxs("div",{className:`relative p-8 rounded-2xl bg-gradient-to-b ${r.color} border border-border/50 hover:border-primary/30 transition-all duration-300 hover:-translate-y-2 card-glow`,children:[d.jsx("div",{className:"absolute -top-4 -left-4 w-12 h-12 rounded-full bg-card border-2 border-primary flex items-center justify-center",children:d.jsx("span",{className:"text-primary font-bold text-lg",children:r.number})}),d.jsx("div",{className:`w-20 h-20 rounded-2xl ${r.iconBg} flex items-center justify-center mb-6 ${r.iconColor} group-hover:scale-110 transition-transform duration-300`,children:r.icon}),d.jsx("h3",{className:"text-xl font-bold mb-3",children:r.title}),d.jsx("p",{className:"text-muted-foreground",children:r.description}),s<e.length-1&&d.jsx("div",{className:"lg:hidden flex justify-center mt-6",children:d.jsx(s2,{className:"h-6 w-6 text-primary/50 animate-bounce"})})]}),s<e.length-1&&(s+1)%3!==0&&d.jsx("div",{className:"hidden lg:flex absolute top-1/2 -right-4 -translate-y-1/2 z-20",children:d.jsx(ff,{className:"h-8 w-8 text-primary/50"})})]},r.title))})]})}),d.jsx("section",{className:"py-20 bg-secondary/30",children:d.jsxs("div",{className:"container mx-auto px-4",children:[d.jsxs("div",{className:"text-center mb-16",children:[d.jsxs("h2",{className:"text-3xl md:text-4xl font-bold mb-4",children:["The ",d.jsx("span",{className:"text-gradient",children:"Connection"})," Process"]}),d.jsx("p",{className:"text-muted-foreground max-w-2xl mx-auto",children:"See how MechRadii seamlessly connects you with the right mechanic"})]}),d.jsx("div",{className:"max-w-4xl mx-auto",children:d.jsxs("div",{className:"relative flex flex-col md:flex-row items-center justify-between gap-8 md:gap-4",children:[d.jsxs("div",{className:"flex-1 p-8 rounded-2xl bg-card border border-border text-center group hover:border-primary/50 transition-all duration-300",children:[d.jsx("div",{className:"w-24 h-24 mx-auto mb-4 rounded-full bg-blue-500/20 flex items-center justify-center",children:d.jsx(L0,{className:"h-12 w-12 text-blue-400"})}),d.jsx("h3",{className:"text-xl font-bold mb-2",children:"You"}),d.jsx("p",{className:"text-muted-foreground text-sm",children:"Need roadside assistance"}),d.jsxs("div",{className:"mt-4 space-y-2",children:[d.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[d.jsx(Fs,{className:"h-4 w-4 text-primary"}),d.jsx("span",{children:"Share location"})]}),d.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[d.jsx(cp,{className:"h-4 w-4 text-primary"}),d.jsx("span",{children:"Describe issue"})]})]})]}),d.jsxs("div",{className:"flex flex-col items-center gap-2 py-4",children:[d.jsxs("div",{className:"hidden md:flex items-center gap-2",children:[d.jsx("div",{className:"w-16 h-1 bg-gradient-to-r from-blue-500 to-primary rounded-full animate-pulse"}),d.jsx("div",{className:"w-12 h-12 rounded-full bg-primary/20 flex items-center justify-center",children:d.jsx(pu,{className:"h-6 w-6 text-primary animate-pulse"})}),d.jsx("div",{className:"w-16 h-1 bg-gradient-to-r from-primary to-emerald-500 rounded-full animate-pulse"})]}),d.jsxs("div",{className:"md:hidden flex flex-col items-center gap-2",children:[d.jsx("div",{className:"w-1 h-8 bg-gradient-to-b from-blue-500 to-primary rounded-full animate-pulse"}),d.jsx("div",{className:"w-12 h-12 rounded-full bg-primary/20 flex items-center justify-center",children:d.jsx(pu,{className:"h-6 w-6 text-primary animate-pulse"})}),d.jsx("div",{className:"w-1 h-8 bg-gradient-to-b from-primary to-emerald-500 rounded-full animate-pulse"})]}),d.jsx("span",{className:"text-xs text-muted-foreground font-medium",children:"MechRadii Matching"})]}),d.jsxs("div",{className:"flex-1 p-8 rounded-2xl bg-card border border-border text-center group hover:border-primary/50 transition-all duration-300",children:[d.jsx("div",{className:"w-24 h-24 mx-auto mb-4 rounded-full bg-emerald-500/20 flex items-center justify-center",children:d.jsx(Pr,{className:"h-12 w-12 text-emerald-400"})}),d.jsx("h3",{className:"text-xl font-bold mb-2",children:"Mechanic"}),d.jsx("p",{className:"text-muted-foreground text-sm",children:"Verified professional"}),d.jsxs("div",{className:"mt-4 space-y-2",children:[d.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[d.jsx(pa,{className:"h-4 w-4 text-yellow-400"}),d.jsx("span",{children:"Rated & reviewed"})]}),d.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[d.jsx(dy,{className:"h-4 w-4 text-primary"}),d.jsx("span",{children:"Background checked"})]})]})]})]})})]})}),d.jsx("section",{className:"py-20",children:d.jsxs("div",{className:"container mx-auto px-4",children:[d.jsxs("div",{className:"text-center mb-16",children:[d.jsxs("h2",{className:"text-3xl md:text-4xl font-bold mb-4",children:["Why Choose ",d.jsx("span",{className:"text-gradient",children:"MechRadii"}),"?"]}),d.jsx("p",{className:"text-muted-foreground max-w-2xl mx-auto",children:"We're not just connecting you with mechanics - we're ensuring your safety and peace of mind"})]}),d.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-4 gap-6 max-w-5xl mx-auto",children:t.map((r,s)=>d.jsxs("div",{className:"p-6 rounded-2xl bg-card border border-border hover:border-primary/50 transition-all duration-300 hover:-translate-y-1 card-glow text-center group",style:{animationDelay:`${s*100}ms`},children:[d.jsx("div",{className:"w-16 h-16 mx-auto mb-4 rounded-xl bg-primary/10 flex items-center justify-center text-primary group-hover:bg-primary/20 transition-colors",children:r.icon}),d.jsx("h3",{className:"text-lg font-semibold mb-2",children:r.title}),d.jsx("p",{className:"text-sm text-muted-foreground",children:r.description})]},r.title))})]})}),d.jsx("section",{className:"py-20 bg-gradient-to-b from-secondary/30 to-background",children:d.jsxs("div",{className:"container mx-auto px-4 text-center",children:[d.jsx("h2",{className:"text-3xl md:text-4xl font-bold mb-4",children:"Ready to Get Started?"}),d.jsx("p",{className:"text-muted-foreground max-w-xl mx-auto mb-8",children:"Join thousands of drivers who trust MechRadii for reliable roadside assistance"}),d.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center",children:[d.jsx($e,{variant:"hero",size:"xl",onClick:()=>n("/mechanics"),children:"Find a Mechanic Now"}),d.jsx($e,{variant:"heroOutline",size:"xl",onClick:()=>n("/register-mechanic"),children:"Become a Mechanic"})]})]})})]}),d.jsx(ql,{})]})},i7=()=>{const n=nd();return w.useEffect(()=>{console.error("404 Error: User attempted to access non-existent route:",n.pathname)},[n.pathname]),d.jsx("div",{className:"flex min-h-screen items-center justify-center bg-muted",children:d.jsxs("div",{className:"text-center",children:[d.jsx("h1",{className:"mb-4 text-4xl font-bold",children:"404"}),d.jsx("p",{className:"mb-4 text-xl text-muted-foreground",children:"Oops! Page not found"}),d.jsx("a",{href:"/",className:"text-primary underline hover:text-primary/90",children:"Return to Home"})]})})},o7=()=>(w.useEffect(()=>{const n=kt.onAuthStateChanged(e=>{if(!e)return;const t=Fp(As(wt,"bookings"),F_("user_id","==",e.uid)),r=z_(t,s=>{s.docChanges().forEach(o=>{if(o.type==="modified"){const l=o.doc.data(),u=l.status,f=l.mechanic_name||"The mechanic";u==="accepted"?Pe.success(`Request Accepted! ${f} is on the way.`):u==="rejected"?Pe.error("Request Rejected. Please try finding another mechanic."):u==="completed"&&Pe.info(`Job Marked as Completed by ${f}.`)}})});return()=>r()});return()=>n()},[]),null),a7=new AO,l7=()=>d.jsx(DO,{client:a7,children:d.jsxs(dO,{children:[d.jsx(Q2,{}),d.jsx(Ij,{}),d.jsxs(WM,{basename:"/roadside-rescue",future:{v7_startTransition:!0,v7_relativeSplatPath:!0},children:[d.jsx(o7,{}),d.jsxs(LM,{children:[d.jsx(Cs,{path:"/",element:d.jsx(DB,{})}),d.jsx(Cs,{path:"/mechanics",element:d.jsx(dz,{})}),d.jsx(Cs,{path:"/mechanic/:id",element:d.jsx(i8,{})}),d.jsx(Cs,{path:"/login",element:d.jsx(o8,{})}),d.jsx(Cs,{path:"/signup",element:d.jsx(O8,{})}),d.jsx(Cs,{path:"/register-mechanic",element:d.jsx(H8,{})}),d.jsx(Cs,{path:"/account",element:d.jsx(r7,{})}),d.jsx(Cs,{path:"/how-it-works",element:d.jsx(s7,{})}),d.jsx(Cs,{path:"*",element:d.jsx(i7,{})})]})]})]})});sP.createRoot(document.getElementById("root")).render(d.jsx(l7,{}));
